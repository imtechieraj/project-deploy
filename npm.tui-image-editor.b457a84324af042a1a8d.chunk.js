(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"29a1ce79af8b3719d25a":function(e,t,n){var i=n("36a4b387db2fd2f7e4bf");"string"===typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(i,o);i.locals&&(e.exports=i.locals)},"36a4b387db2fd2f7e4bf":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"/*!\n * tui-image-editor.js\n * @version 3.14.3\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n * @license MIT\n */\nbody > textarea {\n  position: fixed !important;\n}\n.tui-image-editor-container {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  min-height: 300px;\n  height: 100%;\n  position: relative;\n  background-color: #282828;\n  overflow: hidden;\n  letter-spacing: 0.3px;\n}\n.tui-image-editor-container div,\n.tui-image-editor-container ul,\n.tui-image-editor-container label,\n.tui-image-editor-container input,\n.tui-image-editor-container li {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  -ms-user-select: none;\n  -moz-user-select: -moz-none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n}\n.tui-image-editor-container .tui-image-editor-header {\n/* BUTTON AND LOGO */\n  min-width: 533px;\n  position: absolute;\n  background-color: #151515;\n  top: 0;\n  width: 100%;\n}\n.tui-image-editor-container .tui-image-editor-header-buttons,\n.tui-image-editor-container .tui-image-editor-controls-buttons {\n  float: right;\n  margin: 8px;\n}\n.tui-image-editor-container .tui-image-editor-header-logo,\n.tui-image-editor-container .tui-image-editor-controls-logo {\n  float: left;\n  width: 30%;\n  padding: 17px;\n}\n.tui-image-editor-container .tui-image-editor-controls-logo,\n.tui-image-editor-container .tui-image-editor-controls-buttons {\n  width: 270px;\n  height: 100%;\n  display: none;\n}\n.tui-image-editor-container .tui-image-editor-header-buttons button,\n.tui-image-editor-container .tui-image-editor-header-buttons div,\n.tui-image-editor-container .tui-image-editor-controls-buttons button,\n.tui-image-editor-container .tui-image-editor-controls-buttons div {\n  display: inline-block;\n  position: relative;\n  width: 120px;\n  height: 40px;\n  padding: 0;\n  line-height: 40px;\n  outline: none;\n  border-radius: 20px;\n  border: 1px solid #ddd;\n  font-family: 'Noto Sans', sans-serif;\n  font-size: 12px;\n  font-weight: bold;\n  cursor: pointer;\n  vertical-align: middle;\n  letter-spacing: 0.3px;\n  text-align: center;\n}\n.tui-image-editor-container .tui-image-editor-download-btn {\n  background-color: #fdba3b;\n  border-color: #fdba3b;\n  color: #fff;\n}\n.tui-image-editor-container .tui-image-editor-load-btn {\n  position: absolute;\n  left: 0;\n  right: 0;\n  display: inline-block;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  cursor: pointer;\n  opacity: 0;\n}\n.tui-image-editor-container .tui-image-editor-main-container {\n  position: absolute;\n  width: 100%;\n  top: 0;\n  bottom: 64px;\n}\n.tui-image-editor-container .tui-image-editor-main {\n  position: absolute;\n  text-align: center;\n  top: 64px;\n  bottom: 0;\n  right: 0;\n  left: 0;\n}\n.tui-image-editor-container .tui-image-editor-wrap {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  overflow: auto;\n}\n.tui-image-editor-container .tui-image-editor-wrap .tui-image-editor-size-wrap {\n  display: table;\n  width: 100%;\n  height: 100%;\n}\n.tui-image-editor-container .tui-image-editor-wrap .tui-image-editor-size-wrap .tui-image-editor-align-wrap {\n  display: table-cell;\n  vertical-align: middle;\n}\n.tui-image-editor-container .tui-image-editor {\n  position: relative;\n  display: inline-block;\n}\n.tui-image-editor-container .tui-image-editor-menu,\n.tui-image-editor-container .tui-image-editor-help-menu {\n  width: auto;\n  list-style: none;\n  padding: 0;\n  margin: 0 auto;\n  display: table-cell;\n  text-align: center;\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.tui-image-editor-container .tui-image-editor-menu > .tui-image-editor-item,\n.tui-image-editor-container .tui-image-editor-help-menu > .tui-image-editor-item {\n  position: relative;\n  display: inline-block;\n  border-radius: 2px;\n  padding: 7px 8px 3px 8px;\n  cursor: pointer;\n  margin: 0 4px;\n}\n.tui-image-editor-container .tui-image-editor-menu > .tui-image-editor-item[tooltip-content]:hover:before,\n.tui-image-editor-container .tui-image-editor-help-menu > .tui-image-editor-item[tooltip-content]:hover:before {\n  content: '';\n  position: absolute;\n  display: inline-block;\n  margin: 0 auto 0;\n  width: 0;\n  height: 0;\n  border-right: 7px solid transparent;\n  border-top: 7px solid #2f2f2f;\n  border-left: 7px solid transparent;\n  left: 13px;\n  top: -2px;\n}\n.tui-image-editor-container .tui-image-editor-menu > .tui-image-editor-item[tooltip-content]:hover:after,\n.tui-image-editor-container .tui-image-editor-help-menu > .tui-image-editor-item[tooltip-content]:hover:after {\n  content: attr(tooltip-content);\n  position: absolute;\n  display: inline-block;\n  background-color: #2f2f2f;\n  color: #fff;\n  padding: 5px 8px;\n  font-size: 11px;\n  font-weight: lighter;\n  border-radius: 3px;\n  max-height: 23px;\n  top: -25px;\n  left: 0;\n  min-width: 24px;\n}\n.tui-image-editor-container .tui-image-editor-menu > .tui-image-editor-item.active,\n.tui-image-editor-container .tui-image-editor-help-menu > .tui-image-editor-item.active {\n  background-color: #fff;\n  transition: all 0.3s ease;\n}\n.tui-image-editor-container .tui-image-editor-wrap {\n  position: absolute;\n}\n.tui-image-editor-container .tui-image-editor-grid-visual {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border: 1px solid rgba(255,255,255,0.7);\n}\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor {\n  transition: none;\n}\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor-grid-visual,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor-grid-visual,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-resize .tui-image-editor-grid-visual {\n  display: block;\n}\n.tui-image-editor-container .tui-image-editor-grid-visual table {\n  width: 100%;\n  height: 100%;\n  border-collapse: collapse;\n}\n.tui-image-editor-container .tui-image-editor-grid-visual table td {\n  border: 1px solid rgba(255,255,255,0.3);\n}\n.tui-image-editor-container .tui-image-editor-grid-visual table td.dot:before {\n  content: '';\n  position: absolute;\n  box-sizing: border-box;\n  width: 10px;\n  height: 10px;\n  border: 0;\n  box-shadow: 0 0 1px 0 rgba(0,0,0,0.3);\n  border-radius: 100%;\n  background-color: #fff;\n}\n.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.left-top:before {\n  top: -5px;\n  left: -5px;\n}\n.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.right-top:before {\n  top: -5px;\n  right: -5px;\n}\n.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.left-bottom:before {\n  bottom: -5px;\n  left: -5px;\n}\n.tui-image-editor-container .tui-image-editor-grid-visual table td.dot.right-bottom:before {\n  bottom: -5px;\n  right: -5px;\n}\n.tui-image-editor-container .tui-image-editor-submenu {\n  display: none;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 150px;\n  white-space: nowrap;\n  z-index: 2;\n}\n.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover svg > use.active {\n  display: block;\n}\n.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item li {\n  display: inline-block;\n  vertical-align: top;\n}\n.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-newline {\n  display: block;\n  margin-top: 0;\n}\n.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button {\n  position: relative;\n  cursor: pointer;\n  display: inline-block;\n  font-weight: normal;\n  font-size: 11px;\n  margin: 0 9px 0 9px;\n}\n.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button.preset {\n  margin: 0 9px 20px 5px;\n}\n.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item label > span {\n  display: inline-block;\n  cursor: pointer;\n  padding-top: 5px;\n  font-family: \"Noto Sans\", sans-serif;\n  font-size: 11px;\n}\n.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button.apply label,\n.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-image-editor-button.cancel label {\n  vertical-align: 7px;\n}\n.tui-image-editor-container .tui-image-editor-submenu > div {\n  display: none;\n  vertical-align: bottom;\n}\n.tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-submenu-style {\n  opacity: 0.95;\n  z-index: -1;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: block;\n}\n.tui-image-editor-container .tui-image-editor-partition > div {\n  width: 1px;\n  height: 52px;\n  border-left: 1px solid #3c3c3c;\n  margin: 0 8px 0 8px;\n}\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-filter .tui-image-editor-partition > div {\n  height: 108px;\n  margin: 0 29px 0 0px;\n}\n.tui-image-editor-container .tui-image-editor-submenu-align {\n  text-align: left;\n  margin-right: 30px;\n}\n.tui-image-editor-container .tui-image-editor-submenu-align label > span {\n  width: 55px;\n  white-space: nowrap;\n}\n.tui-image-editor-container .tui-image-editor-submenu-align:first-child {\n  margin-right: 0;\n}\n.tui-image-editor-container .tui-image-editor-submenu-align:first-child label > span {\n  width: 70px;\n}\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-crop .tui-image-editor-submenu > div.tui-image-editor-menu-crop,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-resize .tui-image-editor-submenu > div.tui-image-editor-menu-resize,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor-submenu > div.tui-image-editor-menu-flip,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor-submenu > div.tui-image-editor-menu-rotate,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-shape .tui-image-editor-submenu > div.tui-image-editor-menu-shape,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-text .tui-image-editor-submenu > div.tui-image-editor-menu-text,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-mask .tui-image-editor-submenu > div.tui-image-editor-menu-mask,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-icon .tui-image-editor-submenu > div.tui-image-editor-menu-icon,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-draw .tui-image-editor-submenu > div.tui-image-editor-menu-draw,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-filter .tui-image-editor-submenu > div.tui-image-editor-menu-filter,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-zoom .tui-image-editor-submenu > div.tui-image-editor-menu-zoom {\n  display: table-cell;\n}\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-crop .tui-image-editor-submenu,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-resize .tui-image-editor-submenu,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-flip .tui-image-editor-submenu,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-rotate .tui-image-editor-submenu,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-shape .tui-image-editor-submenu,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-text .tui-image-editor-submenu,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-mask .tui-image-editor-submenu,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-icon .tui-image-editor-submenu,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-draw .tui-image-editor-submenu,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-filter .tui-image-editor-submenu,\n.tui-image-editor-container .tui-image-editor-main.tui-image-editor-menu-zoom .tui-image-editor-submenu {\n  display: table;\n}\n.tui-image-editor-container .tui-image-editor-help-menu {\n  list-style: none;\n  padding: 0;\n  margin: 0 auto;\n  text-align: center;\n  vertical-align: middle;\n  border-radius: 20px;\n  background-color: rgba(255,255,255,0.06);\n  z-index: 2;\n  position: absolute;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history {\n  display: none;\n  background-color: #fff;\n  color: #444;\n  position: absolute;\n  width: 196px;\n  height: 276px;\n  padding: 4px 2px;\n  box-shadow: 0 2px 6px 0 rgba(0,0,0,0.15);\n  cursor: auto;\n  transform: translateX(calc(-50% + 12px));\n}\n.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list {\n  height: 268px;\n  padding: 0;\n  overflow: hidden scroll;\n  list-style: none;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item {\n  height: 24px;\n  font-size: 11px;\n  line-height: 24px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item {\n  position: relative;\n  height: 24px;\n  cursor: pointer;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item svg {\n  width: 24px;\n  height: 24px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item span {\n  display: inline-block;\n  width: 128px;\n  height: 24px;\n  text-align: left;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item .history-item-icon {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  top: 6px;\n  left: 6px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item .tui-image-editor-history-item .history-item-checkbox {\n  display: none;\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  top: 5px;\n  right: -6px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item.selected-item {\n  background-color: rgba(119,119,119,0.12);\n}\n.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item.selected-item .history-item-checkbox {\n  display: inline-block;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .tie-panel-history .history-list .history-item.disabled-item {\n  color: #333;\n  opacity: 0.3;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .opened .tie-panel-history {\n  display: block;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .opened .tie-panel-history:before {\n  content: '';\n  position: absolute;\n  display: inline-block;\n  margin: 0 auto;\n  width: 0;\n  height: 0;\n}\n.tui-image-editor-container .filter-color-item {\n  display: inline-block;\n}\n.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox {\n  display: block;\n}\n.tui-image-editor-container .tui-image-editor-checkbox-wrap {\n  display: inline-block !important;\n  text-align: left;\n}\n.tui-image-editor-container .tui-image-editor-checkbox-wrap.fixed-width {\n  width: 187px;\n  white-space: normal;\n}\n.tui-image-editor-container .tui-image-editor-checkbox {\n  display: inline-block;\n  margin: 1px 0 1px 0;\n}\n.tui-image-editor-container .tui-image-editor-checkbox input {\n  width: 14px;\n  height: 14px;\n  opacity: 0;\n}\n.tui-image-editor-container .tui-image-editor-checkbox > label > span {\n  color: #fff;\n  height: 14px;\n  position: relative;\n}\n.tui-image-editor-container .tui-image-editor-checkbox input + label:before,\n.tui-image-editor-container .tui-image-editor-checkbox > label > span:before {\n  content: '';\n  position: absolute;\n  width: 14px;\n  height: 14px;\n  background-color: #fff;\n  top: 6px;\n  left: -19px;\n  display: inline-block;\n  margin: 0;\n  text-align: center;\n  font-size: 11px;\n  border: 0;\n  border-radius: 2px;\n  padding-top: 1px;\n  box-sizing: border-box;\n}\n.tui-image-editor-container .tui-image-editor-checkbox input[type='checkbox']:checked + span:before {\n  background-size: cover;\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAMBJREFUKBWVkjEOwjAMRe2WgZW7IIHEDdhghhuwcQ42rlJugAQS54Cxa5cq1QM5TUpByZfS2j9+dlJVt/tX5ZxbS4ZU9VLkQvSHKTIGRaVJYFmKrBbTCJxE2UgCdDzMZDkHrOV6b95V0US6UmgKodujEZbJg0B0ZgEModO5lrY1TMQf1TpyJGBEjD+E2NPN7ukIUDiF/BfEXgRiGEw8NgkffYGYwCi808fpn/6OvfUfsDr/Vc1IfRf8sKnFVqeiVQfDu0tf/nWH9gAAAABJRU5ErkJggg==\");\n}\n.tui-image-editor-container .tui-image-editor-selectlist-wrap {\n  position: relative;\n}\n.tui-image-editor-container .tui-image-editor-selectlist-wrap select {\n  width: 100%;\n  height: 28px;\n  margin-top: 4px;\n  border: 0;\n  outline: 0;\n  border-radius: 0;\n  border: 1px solid #cbdbdb;\n  background-color: #fff;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 0 7px 0 10px;\n}\n.tui-image-editor-container .tui-image-editor-selectlist-wrap .tui-image-editor-selectlist {\n  display: none;\n  position: relative;\n  top: -1px;\n  border: 1px solid #ccc;\n  background-color: #fff;\n  border-top: 0px;\n  padding: 4px 0;\n}\n.tui-image-editor-container .tui-image-editor-selectlist-wrap .tui-image-editor-selectlist li {\n  display: block;\n  text-align: left;\n  padding: 7px 10px;\n  font-family: 'Noto Sans', sans-serif;\n}\n.tui-image-editor-container .tui-image-editor-selectlist-wrap .tui-image-editor-selectlist li:hover {\n  background-color: rgba(81,92,230,0.05);\n}\n.tui-image-editor-container .tui-image-editor-selectlist-wrap:before {\n  content: '';\n  position: absolute;\n  display: inline-block;\n  width: 14px;\n  height: 14px;\n  right: 5px;\n  top: 10px;\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAHlJREFUKBVjYBgFOEOAEVkmPDxc89+/f6eAYjzI4kD2FyYmJrOVK1deh4kzwRggGiQBVJCELAZig8SQNYHEmEEEMrh69eo1HR0dfqCYJUickZGxf9WqVf3IakBsFBthklpaWmVA9mEQhrJhUoTp0NBQCRAmrHL4qgAAuu4cWZOZIGsAAAAASUVORK5CYII=\");\n  background-size: cover;\n}\n.tui-image-editor-container .tui-image-editor-selectlist-wrap select::-ms-expand {\n  display: none;\n}\n.tui-image-editor-container .tui-image-editor-virtual-range-bar .tui-image-editor-disabled,\n.tui-image-editor-container .tui-image-editor-virtual-range-subbar .tui-image-editor-disabled,\n.tui-image-editor-container .tui-image-editor-virtual-range-pointer .tui-image-editor-disabled {\n  backbround-color: #f00;\n}\n.tui-image-editor-container .tui-image-editor-range {\n  position: relative;\n  top: 5px;\n  width: 166px;\n  height: 17px;\n  display: inline-block;\n}\n.tui-image-editor-container .tui-image-editor-virtual-range-bar {\n  top: 7px;\n  position: absolute;\n  width: 100%;\n  height: 2px;\n  background-color: #666;\n}\n.tui-image-editor-container .tui-image-editor-virtual-range-subbar {\n  position: absolute;\n  height: 100%;\n  left: 0;\n  right: 0;\n  background-color: #d1d1d1;\n}\n.tui-image-editor-container .tui-image-editor-virtual-range-pointer {\n  position: absolute;\n  cursor: pointer;\n  top: -5px;\n  left: 0;\n  width: 12px;\n  height: 12px;\n  background-color: #fff;\n  border-radius: 100%;\n}\n.tui-image-editor-container .tui-image-editor-range-wrap {\n  display: inline-block;\n  margin-left: 4px;\n}\n.tui-image-editor-container .tui-image-editor-range-wrap.short .tui-image-editor-range {\n  width: 100px;\n}\n.tui-image-editor-container .color-picker-control .tui-image-editor-range {\n  width: 108px;\n  margin-left: 10px;\n}\n.tui-image-editor-container .color-picker-control .tui-image-editor-virtual-range-pointer {\n  background-color: #333;\n}\n.tui-image-editor-container .color-picker-control .tui-image-editor-virtual-range-bar {\n  background-color: #ccc;\n}\n.tui-image-editor-container .color-picker-control .tui-image-editor-virtual-range-subbar {\n  background-color: #606060;\n}\n.tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short {\n  margin-top: -2px;\n  margin-left: 19px;\n}\n.tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label {\n  color: #8e8e8e;\n  font-weight: normal;\n}\n.tui-image-editor-container .tui-image-editor-range-wrap label {\n  vertical-align: baseline;\n  font-size: 11px;\n  margin-right: 7px;\n  color: #fff;\n}\n.tui-image-editor-container .tui-image-editor-range-value {\n  cursor: default;\n  width: 40px;\n  height: 24px;\n  outline: none;\n  border-radius: 2px;\n  box-shadow: none;\n  border: 1px solid #d5d5d5;\n  text-align: center;\n  background-color: #1c1c1c;\n  color: #fff;\n  font-weight: lighter;\n  vertical-align: baseline;\n  font-family: 'Noto Sans', sans-serif;\n  margin-top: 15px;\n  margin-left: 4px;\n}\n.tui-image-editor-container .tui-image-editor-controls {\n  position: absolute;\n  background-color: #151515;\n  width: 100%;\n  height: 64px;\n  display: table;\n  bottom: 0;\n  z-index: 2;\n}\n.tui-image-editor-container .tui-image-editor-icpartition {\n  display: inline-block;\n  background-color: #444;\n  width: 1px;\n  height: 24px;\n}\n.tui-image-editor-container.left .tui-image-editor-menu > .tui-image-editor-item[tooltip-content]:before {\n  left: 28px;\n  top: 11px;\n  border-right: 7px solid #2f2f2f;\n  border-top: 7px solid transparent;\n  border-bottom: 7px solid transparent;\n}\n.tui-image-editor-container.left .tui-image-editor-menu > .tui-image-editor-item[tooltip-content]:after {\n  top: 7px;\n  left: 42px;\n  white-space: nowrap;\n}\n.tui-image-editor-container.left .tui-image-editor-submenu {\n  left: 0;\n  height: 100%;\n  width: 248px;\n}\n.tui-image-editor-container.left .tui-image-editor-main-container {\n  left: 64px;\n  width: calc(100% - 64px);\n  height: 100%;\n}\n.tui-image-editor-container.left .tui-image-editor-controls {\n  width: 64px;\n  height: 100%;\n  display: table;\n}\n.tui-image-editor-container.left .tui-image-editor-menu,\n.tui-image-editor-container.right .tui-image-editor-menu {\n  white-space: inherit;\n}\n.tui-image-editor-container.left .tui-image-editor-submenu,\n.tui-image-editor-container.right .tui-image-editor-submenu {\n  white-space: normal;\n}\n.tui-image-editor-container.left .tui-image-editor-submenu > div,\n.tui-image-editor-container.right .tui-image-editor-submenu > div {\n  vertical-align: middle;\n}\n.tui-image-editor-container.left .tui-image-editor-controls li,\n.tui-image-editor-container.right .tui-image-editor-controls li {\n  display: inline-block;\n  margin: 4px auto;\n}\n.tui-image-editor-container.left .tui-image-editor-icpartition,\n.tui-image-editor-container.right .tui-image-editor-icpartition {\n  position: relative;\n  top: -7px;\n  width: 24px;\n  height: 1px;\n}\n.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition,\n.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition {\n  display: block;\n  width: 75%;\n  margin: auto;\n}\n.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\n.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\n  border-left: 0;\n  height: 10px;\n  border-bottom: 1px solid #3c3c3c;\n  width: 100%;\n  margin: 0;\n}\n.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-submenu-align,\n.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-submenu-align {\n  margin-right: 0;\n}\n.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-submenu-item li,\n.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-submenu-item li {\n  margin-top: 15px;\n}\n.tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-colorpicker-clearfix li,\n.tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-submenu-item .tui-colorpicker-clearfix li {\n  margin-top: 0;\n}\n.tui-image-editor-container.left .tui-image-editor-checkbox-wrap.fixed-width,\n.tui-image-editor-container.right .tui-image-editor-checkbox-wrap.fixed-width {\n  width: 182px;\n  white-space: normal;\n}\n.tui-image-editor-container.left .tui-image-editor-range-wrap.tui-image-editor-newline label.range,\n.tui-image-editor-container.right .tui-image-editor-range-wrap.tui-image-editor-newline label.range {\n  display: block;\n  text-align: left;\n  width: 75%;\n  margin: auto;\n}\n.tui-image-editor-container.left .tui-image-editor-range,\n.tui-image-editor-container.right .tui-image-editor-range {\n  width: 136px;\n}\n.tui-image-editor-container.right .tui-image-editor-menu > .tui-image-editor-item[tooltip-content]:before {\n  left: -3px;\n  top: 11px;\n  border-left: 7px solid #2f2f2f;\n  border-top: 7px solid transparent;\n  border-bottom: 7px solid transparent;\n}\n.tui-image-editor-container.right .tui-image-editor-menu > .tui-image-editor-item[tooltip-content]:after {\n  top: 7px;\n  left: unset;\n  right: 43px;\n  white-space: nowrap;\n}\n.tui-image-editor-container.right .tui-image-editor-submenu {\n  right: 0;\n  height: 100%;\n  width: 248px;\n}\n.tui-image-editor-container.right .tui-image-editor-main-container {\n  right: 64px;\n  width: calc(100% - 64px);\n  height: 100%;\n}\n.tui-image-editor-container.right .tui-image-editor-controls {\n  right: 0;\n  width: 64px;\n  height: 100%;\n  display: table;\n}\n.tui-image-editor-container.top .tui-image-editor-submenu .tui-image-editor-partition.only-left-right,\n.tui-image-editor-container.bottom .tui-image-editor-submenu .tui-image-editor-partition.only-left-right {\n  display: none;\n}\n.tui-image-editor-container.bottom .tui-image-editor-submenu > div {\n  padding-bottom: 24px;\n}\n.tui-image-editor-container.top .color-picker-control .triangle {\n  top: -8px;\n  border-right: 7px solid transparent;\n  border-top: 0px;\n  border-left: 7px solid transparent;\n  border-bottom: 8px solid #fff;\n}\n.tui-image-editor-container.top .tui-image-editor-size-wrap {\n  height: 100%;\n}\n.tui-image-editor-container.top .tui-image-editor-main-container {\n  bottom: 0;\n}\n.tui-image-editor-container.top .tui-image-editor-menu > .tui-image-editor-item[tooltip-content]:before {\n  left: 13px;\n  border-top: 0;\n  border-bottom: 7px solid #2f2f2f;\n  top: 33px;\n}\n.tui-image-editor-container.top .tui-image-editor-menu > .tui-image-editor-item[tooltip-content]:after {\n  top: 38px;\n}\n.tui-image-editor-container.top .tui-image-editor-submenu {\n  top: 0;\n  bottom: auto;\n}\n.tui-image-editor-container.top .tui-image-editor-submenu > div {\n  padding-top: 24px;\n  vertical-align: top;\n}\n.tui-image-editor-container.top .tui-image-editor-controls-logo {\n  display: table-cell;\n}\n.tui-image-editor-container.top .tui-image-editor-controls-buttons {\n  display: table-cell;\n}\n.tui-image-editor-container.top .tui-image-editor-main {\n  top: 64px;\n  height: calc(100% - 64px);\n}\n.tui-image-editor-container.top .tui-image-editor-controls {\n  top: 0;\n  bottom: inherit;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.top {\n  white-space: nowrap;\n  width: 506px;\n  height: 40px;\n  top: 8px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.tui-image-editor-container .tui-image-editor-help-menu.top .tie-panel-history {\n  top: 45px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.top .opened .tie-panel-history:before {\n  border-right: 8px solid transparent;\n  border-left: 8px solid transparent;\n  border-bottom: 8px solid #fff;\n  left: 90px;\n  top: -8px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.top > .tui-image-editor-item[tooltip-content]:before {\n  left: 13px;\n  top: 35px;\n  border: none;\n  border-bottom: 7px solid #2f2f2f;\n  border-left: 7px solid transparent;\n  border-right: 7px solid transparent;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.top > .tui-image-editor-item[tooltip-content]:after {\n  top: 41px;\n  left: -4px;\n  white-space: nowrap;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.top > .tui-image-editor-item[tooltip-content].opened:before,\n.tui-image-editor-container .tui-image-editor-help-menu.top > .tui-image-editor-item[tooltip-content].opened:after {\n  content: none;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.bottom {\n  white-space: nowrap;\n  width: 506px;\n  height: 40px;\n  bottom: 8px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.tui-image-editor-container .tui-image-editor-help-menu.bottom .tie-panel-history {\n  bottom: 45px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.bottom .opened .tie-panel-history:before {\n  border-right: 8px solid transparent;\n  border-left: 8px solid transparent;\n  border-top: 8px solid #fff;\n  left: 90px;\n  bottom: -8px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.bottom > .tui-image-editor-item[tooltip-content]:before {\n  left: 13px;\n  top: auto;\n  bottom: 36px;\n  border: none;\n  border-top: 7px solid #2f2f2f;\n  border-left: 7px solid transparent;\n  border-right: 7px solid transparent;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.bottom > .tui-image-editor-item[tooltip-content]:after {\n  top: auto;\n  left: -4px;\n  bottom: 41px;\n  white-space: nowrap;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.bottom > .tui-image-editor-item[tooltip-content].opened:before,\n.tui-image-editor-container .tui-image-editor-help-menu.bottom > .tui-image-editor-item[tooltip-content].opened:after {\n  content: none;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.left {\n  white-space: inherit;\n  width: 40px;\n  height: 506px;\n  left: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.tui-image-editor-container .tui-image-editor-help-menu.left .tie-panel-history {\n  left: 140px;\n  top: -4px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.left .opened .tie-panel-history:before {\n  border-top: 8px solid transparent;\n  border-bottom: 8px solid transparent;\n  border-right: 8px solid #fff;\n  left: -8px;\n  top: 14px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.left .tui-image-editor-item {\n  margin: 4px auto;\n  padding: 6px 8px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.left > .tui-image-editor-item[tooltip-content]:before {\n  left: 27px;\n  top: 11px;\n  border: none;\n  border-right: 7px solid #2f2f2f;\n  border-top: 7px solid transparent;\n  border-bottom: 7px solid transparent;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.left > .tui-image-editor-item[tooltip-content]:after {\n  top: 7px;\n  left: 40px;\n  white-space: nowrap;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.left > .tui-image-editor-item[tooltip-content].opened:before,\n.tui-image-editor-container .tui-image-editor-help-menu.left > .tui-image-editor-item[tooltip-content].opened:after {\n  content: none;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.right {\n  white-space: inherit;\n  width: 40px;\n  height: 506px;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.tui-image-editor-container .tui-image-editor-help-menu.right .tie-panel-history {\n  right: -30px;\n  top: -4px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.right .opened .tie-panel-history:before {\n  border-top: 8px solid transparent;\n  border-bottom: 8px solid transparent;\n  border-left: 8px solid #fff;\n  right: -8px;\n  top: 14px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.right .tui-image-editor-item {\n  margin: 4px auto;\n  padding: 6px 8px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.right > .tui-image-editor-item[tooltip-content]:before {\n  left: -6px;\n  top: 11px;\n  border: none;\n  border-left: 7px solid #2f2f2f;\n  border-top: 7px solid transparent;\n  border-bottom: 7px solid transparent;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.right > .tui-image-editor-item[tooltip-content]:after {\n  top: 7px;\n  left: auto;\n  right: 39px;\n  white-space: nowrap;\n}\n.tui-image-editor-container .tui-image-editor-help-menu.right > .tui-image-editor-item[tooltip-content].opened:before,\n.tui-image-editor-container .tui-image-editor-help-menu.right > .tui-image-editor-item[tooltip-content].opened:after {\n  content: none;\n}\n.tui-image-editor-container .tie-icon-add-button .tui-image-editor-button {\n  min-width: 42px;\n}\n.tui-image-editor-container .svg_ic-menu,\n.tui-image-editor-container .svg_ic-helpmenu {\n  width: 24px;\n  height: 24px;\n}\n.tui-image-editor-container .svg_ic-submenu {\n  width: 32px;\n  height: 32px;\n}\n.tui-image-editor-container .svg_img-bi {\n  width: 257px;\n  height: 26px;\n}\n.tui-image-editor-container .tui-image-editor-help-menu svg > use,\n.tui-image-editor-container .tui-image-editor-controls svg > use {\n  display: none;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .enabled svg:hover > use.hover,\n.tui-image-editor-container .tui-image-editor-controls .enabled svg:hover > use.hover,\n.tui-image-editor-container .tui-image-editor-help-menu .normal svg:hover > use.hover,\n.tui-image-editor-container .tui-image-editor-controls .normal svg:hover > use.hover {\n  display: block;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .active svg:hover > use.hover,\n.tui-image-editor-container .tui-image-editor-controls .active svg:hover > use.hover {\n  display: none;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .on svg > use.hover,\n.tui-image-editor-container .tui-image-editor-controls .on svg > use.hover,\n.tui-image-editor-container .tui-image-editor-help-menu .opened svg > use.hover,\n.tui-image-editor-container .tui-image-editor-controls .opened svg > use.hover {\n  display: block;\n}\n.tui-image-editor-container .tui-image-editor-help-menu svg > use.normal,\n.tui-image-editor-container .tui-image-editor-controls svg > use.normal {\n  display: block;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .active svg > use.active,\n.tui-image-editor-container .tui-image-editor-controls .active svg > use.active {\n  display: block;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .enabled svg > use.enabled,\n.tui-image-editor-container .tui-image-editor-controls .enabled svg > use.enabled {\n  display: block;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .active svg > use.normal,\n.tui-image-editor-container .tui-image-editor-controls .active svg > use.normal,\n.tui-image-editor-container .tui-image-editor-help-menu .enabled svg > use.normal,\n.tui-image-editor-container .tui-image-editor-controls .enabled svg > use.normal {\n  display: none;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .help svg > use.disabled,\n.tui-image-editor-container .tui-image-editor-controls .help svg > use.disabled,\n.tui-image-editor-container .tui-image-editor-help-menu .help.enabled svg > use.normal,\n.tui-image-editor-container .tui-image-editor-controls .help.enabled svg > use.normal {\n  display: block;\n}\n.tui-image-editor-container .tui-image-editor-help-menu .help.enabled svg > use.disabled,\n.tui-image-editor-container .tui-image-editor-controls .help.enabled svg > use.disabled {\n  display: none;\n}\n.tui-image-editor-container .tui-image-editor-controls:hover {\n  z-index: 3;\n}\n.tui-image-editor-container div.tui-colorpicker-clearfix {\n  width: 159px;\n  height: 28px;\n  border: 1px solid #d5d5d5;\n  border-radius: 2px;\n  background-color: #f5f5f5;\n  margin-top: 6px;\n  padding: 4px 7px 4px 7px;\n}\n.tui-image-editor-container .tui-colorpicker-palette-hex {\n  width: 114px;\n  background-color: #f5f5f5;\n  border: 0;\n  font-size: 11px;\n  margin-top: 2px;\n  font-family: 'Noto Sans', sans-serif;\n}\n.tui-image-editor-container .tui-colorpicker-palette-hex[value='#ffffff'] + .tui-colorpicker-palette-preview,\n.tui-image-editor-container .tui-colorpicker-palette-hex[value=''] + .tui-colorpicker-palette-preview {\n  border: 1px solid #ccc;\n}\n.tui-image-editor-container .tui-colorpicker-palette-hex[value=''] + .tui-colorpicker-palette-preview {\n  background-size: cover;\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAdBJREFUWAnFl0FuwjAQRZ0ukiugHqFSOQNdseuKW3ALzkA4BateICvUGyCxrtRFd4WuunH/TzykaYJrnLEYaTJJsP2+x8GZZCbQrLU5mj7Bn+EP8HvnCObd+R7xBV5lWfaNON4AnsA38E94qLEt+0yiFaBzAV/Bv+Cxxr4co7hKCDpw1q9wLeNYYdlAwyn8TYt8Hme3+8D5ozcTaMCZ68PXa2tnM2sbEcOZAJhrrpl2DAcTOGNjZPSfCdzkw6JrfbiMv+osBe4y9WOedhm4jZfhbENWuxS44H9Wz/xw4WzqLOAqh1+zycgAwzEMzr5k5gaHOa9ULBwuuDkFlHI1Kl4PJ66kgIpnoywOTmRFAYcbwYk9UMApWkD8zAV5ihcwHk4Rx7gl0IFTQL0EFc+CTQ9OZHWH3YhlVJiVpTHbrTGLhTHLZVgff6s9lyBsI9KduSS83oj+34rTwJutmBmCnMsvozRwZqB5GTkBw6/jdPDu69iJ6BYk6eCcfbcgcQIK/MByaaiMqm8rHcjol2TnpWDhyAKSGdA3FrxtJUToX0ODqatetfGE+8tyEUOV8GY5dGRwLP/MBS4RHQr4bT7NRAQjlcOTfZxmv2G+c4hI8nn+Ax5PG/zhI393AAAAAElFTkSuQmCC\");\n}\n.tui-image-editor-container .tui-colorpicker-palette-preview {\n  border-radius: 100%;\n  float: left;\n  width: 17px;\n  height: 17px;\n  border: 0;\n}\n.tui-image-editor-container .color-picker-control {\n  position: absolute;\n  display: none;\n  z-index: 99;\n  width: 192px;\n  background-color: #fff;\n  box-shadow: 0 3px 22px 6px rgba(0,0,0,0.15);\n  padding: 16px;\n  border-radius: 2px;\n}\n.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-toggle-slider {\n  display: none;\n}\n.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-button {\n  border: 0;\n  border-radius: 100%;\n  margin: 2px;\n  background-size: cover;\n  font-size: 1px;\n}\n.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-button[title='#ffffff'] {\n  border: 1px solid #ccc;\n}\n.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-button[title=''] {\n  border: 1px solid #ccc;\n}\n.tui-image-editor-container .color-picker-control .triangle {\n  width: 0;\n  height: 0;\n  border-right: 7px solid transparent;\n  border-top: 8px solid #fff;\n  border-left: 7px solid transparent;\n  position: absolute;\n  bottom: -8px;\n  left: 84px;\n}\n.tui-image-editor-container .color-picker-control .tui-colorpicker-container,\n.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-container ul,\n.tui-image-editor-container .color-picker-control .tui-colorpicker-palette-container {\n  width: 100%;\n  height: auto;\n}\n.tui-image-editor-container .filter-color-item .color-picker-control label {\n  font-color: #333;\n  font-weight: normal;\n  margin-right: 7pxleft;\n}\n.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox {\n  margin-top: 0;\n}\n.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox input + label:before,\n.tui-image-editor-container .filter-color-item .tui-image-editor-checkbox > label:before {\n  left: -16px;\n}\n.tui-image-editor-container .color-picker {\n  width: 100%;\n  height: auto;\n}\n.tui-image-editor-container .color-picker-value {\n  width: 32px;\n  height: 32px;\n  border: 0px;\n  border-radius: 100%;\n  margin: auto;\n  margin-bottom: 1px;\n}\n.tui-image-editor-container .color-picker-value.transparent {\n  border: 1px solid #cbcbcb;\n  background-size: cover;\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAdBJREFUWAnFl0FuwjAQRZ0ukiugHqFSOQNdseuKW3ALzkA4BateICvUGyCxrtRFd4WuunH/TzykaYJrnLEYaTJJsP2+x8GZZCbQrLU5mj7Bn+EP8HvnCObd+R7xBV5lWfaNON4AnsA38E94qLEt+0yiFaBzAV/Bv+Cxxr4co7hKCDpw1q9wLeNYYdlAwyn8TYt8Hme3+8D5ozcTaMCZ68PXa2tnM2sbEcOZAJhrrpl2DAcTOGNjZPSfCdzkw6JrfbiMv+osBe4y9WOedhm4jZfhbENWuxS44H9Wz/xw4WzqLOAqh1+zycgAwzEMzr5k5gaHOa9ULBwuuDkFlHI1Kl4PJ66kgIpnoywOTmRFAYcbwYk9UMApWkD8zAV5ihcwHk4Rx7gl0IFTQL0EFc+CTQ9OZHWH3YhlVJiVpTHbrTGLhTHLZVgff6s9lyBsI9KduSS83oj+34rTwJutmBmCnMsvozRwZqB5GTkBw6/jdPDu69iJ6BYk6eCcfbcgcQIK/MByaaiMqm8rHcjol2TnpWDhyAKSGdA3FrxtJUToX0ODqatetfGE+8tyEUOV8GY5dGRwLP/MBS4RHQr4bT7NRAQjlcOTfZxmv2G+c4hI8nn+Ax5PG/zhI393AAAAAElFTkSuQmCC\");\n}\n.tui-image-editor-container .color-picker-value + label {\n  color: #fff;\n}\n.tui-image-editor-container .tui-image-editor-submenu svg > use {\n  display: none;\n}\n.tui-image-editor-container .tui-image-editor-submenu svg > use.normal {\n  display: block;\n}\n.tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype=\"icon-bubble\"] svg > use.active,\n.tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype=\"icon-heart\"] svg > use.active,\n.tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype=\"icon-location\"] svg > use.active,\n.tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype=\"icon-polygon\"] svg > use.active,\n.tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype=\"icon-star\"] svg > use.active,\n.tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype=\"icon-star-2\"] svg > use.active,\n.tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype=\"icon-arrow-3\"] svg > use.active,\n.tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype=\"icon-arrow-2\"] svg > use.active,\n.tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype=\"icon-arrow\"] svg > use.active {\n  display: block;\n}\n.tie-draw-line-select-button.line .tui-image-editor-button.line svg > use.normal,\n.tie-draw-line-select-button.free .tui-image-editor-button.free svg > use.normal {\n  display: none;\n}\n.tie-draw-line-select-button.line .tui-image-editor-button.line svg > use.active,\n.tie-draw-line-select-button.free .tui-image-editor-button.free svg > use.active {\n  display: block;\n}\n.tie-flip-button.resetFlip .tui-image-editor-button.resetFlip svg > use.normal,\n.tie-flip-button.flipX .tui-image-editor-button.flipX svg > use.normal,\n.tie-flip-button.flipY .tui-image-editor-button.flipY svg > use.normal {\n  display: none;\n}\n.tie-flip-button.resetFlip .tui-image-editor-button.resetFlip svg > use.active,\n.tie-flip-button.flipX .tui-image-editor-button.flipX svg > use.active,\n.tie-flip-button.flipY .tui-image-editor-button.flipY svg > use.active {\n  display: block;\n}\n.tie-mask-apply.apply.active .tui-image-editor-button.apply label {\n  color: #fff;\n}\n.tie-mask-apply.apply.active .tui-image-editor-button.apply svg > use.active {\n  display: block;\n}\n.tie-crop-button .tui-image-editor-button.apply,\n.tie-crop-preset-button .tui-image-editor-button.apply {\n  margin-right: 24px;\n}\n.tie-crop-button .tui-image-editor-button.preset.active svg > use.active,\n.tie-crop-preset-button .tui-image-editor-button.preset.active svg > use.active {\n  display: block;\n}\n.tie-crop-button .tui-image-editor-button.apply.active svg > use.active,\n.tie-crop-preset-button .tui-image-editor-button.apply.active svg > use.active {\n  display: block;\n}\n.tie-resize-button .tui-image-editor-button.apply,\n.tie-resize-preset-button .tui-image-editor-button.apply {\n  margin-right: 24px;\n}\n.tie-resize-button .tui-image-editor-button.preset.active svg > use.active,\n.tie-resize-preset-button .tui-image-editor-button.preset.active svg > use.active {\n  display: block;\n}\n.tie-resize-button .tui-image-editor-button.apply.active svg > use.active,\n.tie-resize-preset-button .tui-image-editor-button.apply.active svg > use.active {\n  display: block;\n}\n.tie-shape-button.rect .tui-image-editor-button.rect svg > use.normal,\n.tie-shape-button.circle .tui-image-editor-button.circle svg > use.normal,\n.tie-shape-button.triangle .tui-image-editor-button.triangle svg > use.normal {\n  display: none;\n}\n.tie-shape-button.rect .tui-image-editor-button.rect svg > use.active,\n.tie-shape-button.circle .tui-image-editor-button.circle svg > use.active,\n.tie-shape-button.triangle .tui-image-editor-button.triangle svg > use.active {\n  display: block;\n}\n.tie-text-effect-button .tui-image-editor-button.active svg > use.active {\n  display: block;\n}\n.tie-text-align-button.tie-text-align-left .tui-image-editor-button.left svg > use.active,\n.tie-text-align-button.tie-text-align-center .tui-image-editor-button.center svg > use.active,\n.tie-text-align-button.tie-text-align-right .tui-image-editor-button.right svg > use.active {\n  display: block;\n}\n.tie-mask-image-file,\n.tie-icon-image-file {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border: 1px solid #008000;\n  cursor: inherit;\n  left: 0;\n  top: 0;\n}\n.tie-zoom-button.resetFlip .tui-image-editor-button.resetFlip svg > use.normal,\n.tie-zoom-button.flipX .tui-image-editor-button.flipX svg > use.normal,\n.tie-zoom-button.flipY .tui-image-editor-button.flipY svg > use.normal {\n  display: none;\n}\n.tie-zoom-button.resetFlip .tui-image-editor-button.resetFlip svg > use.active,\n.tie-zoom-button.flipX .tui-image-editor-button.flipX svg > use.active,\n.tie-zoom-button.flipY .tui-image-editor-button.flipY svg > use.active {\n  display: block;\n}\n.tui-image-editor-container.top.tui-image-editor-top-optimization .tui-image-editor-controls ul {\n  text-align: right;\n}\n.tui-image-editor-container.top.tui-image-editor-top-optimization .tui-image-editor-controls-logo {\n  display: none;\n}",""])},cdca65e65529a151b0a6:function(e,t,n){var i;window,i=function(e,t,n){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s="./src/index.js")}({"./node_modules/core-js-pure/es/promise/index.js":function(e,t,n){n("./node_modules/core-js-pure/modules/es.aggregate-error.js"),n("./node_modules/core-js-pure/modules/es.object.to-string.js"),n("./node_modules/core-js-pure/modules/es.promise.js"),n("./node_modules/core-js-pure/modules/es.promise.all-settled.js"),n("./node_modules/core-js-pure/modules/es.promise.any.js"),n("./node_modules/core-js-pure/modules/es.promise.finally.js"),n("./node_modules/core-js-pure/modules/es.string.iterator.js"),n("./node_modules/core-js-pure/modules/web.dom-collections.iterator.js");var i=n("./node_modules/core-js-pure/internals/path.js");e.exports=i.Promise},"./node_modules/core-js-pure/features/promise/index.js":function(e,t,n){var i=n("./node_modules/core-js-pure/es/promise/index.js");n("./node_modules/core-js-pure/modules/esnext.aggregate-error.js"),n("./node_modules/core-js-pure/modules/esnext.promise.all-settled.js"),n("./node_modules/core-js-pure/modules/esnext.promise.try.js"),n("./node_modules/core-js-pure/modules/esnext.promise.any.js"),e.exports=i},"./node_modules/core-js-pure/internals/a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"./node_modules/core-js-pure/internals/a-possible-prototype.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/is-object.js");e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"./node_modules/core-js-pure/internals/add-to-unscopables.js":function(e,t){e.exports=function(){}},"./node_modules/core-js-pure/internals/an-instance.js":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"./node_modules/core-js-pure/internals/an-object.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/is-object.js");e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},"./node_modules/core-js-pure/internals/array-includes.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/to-indexed-object.js"),o=n("./node_modules/core-js-pure/internals/to-length.js"),r=n("./node_modules/core-js-pure/internals/to-absolute-index.js"),a=function(e){return function(t,n,a){var s,l=i(t),c=o(l.length),u=r(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"./node_modules/core-js-pure/internals/check-correctness-of-iteration.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/well-known-symbol.js")("iterator"),o=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},"./node_modules/core-js-pure/internals/classof-raw.js":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"./node_modules/core-js-pure/internals/classof.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/to-string-tag-support.js"),o=n("./node_modules/core-js-pure/internals/classof-raw.js"),r=n("./node_modules/core-js-pure/internals/well-known-symbol.js")("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:a?o(t):"Object"==(i=o(t))&&"function"==typeof t.callee?"Arguments":i}},"./node_modules/core-js-pure/internals/correct-prototype-getter.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/fails.js");e.exports=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},"./node_modules/core-js-pure/internals/create-iterator-constructor.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/iterators-core.js").IteratorPrototype,o=n("./node_modules/core-js-pure/internals/object-create.js"),r=n("./node_modules/core-js-pure/internals/create-property-descriptor.js"),a=n("./node_modules/core-js-pure/internals/set-to-string-tag.js"),s=n("./node_modules/core-js-pure/internals/iterators.js"),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=o(i,{next:r(1,n)}),a(e,c,!1,!0),s[c]=l,e}},"./node_modules/core-js-pure/internals/create-non-enumerable-property.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/descriptors.js"),o=n("./node_modules/core-js-pure/internals/object-define-property.js"),r=n("./node_modules/core-js-pure/internals/create-property-descriptor.js");e.exports=i?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/core-js-pure/internals/create-property-descriptor.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js-pure/internals/define-iterator.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/export.js"),o=n("./node_modules/core-js-pure/internals/create-iterator-constructor.js"),r=n("./node_modules/core-js-pure/internals/object-get-prototype-of.js"),a=n("./node_modules/core-js-pure/internals/object-set-prototype-of.js"),s=n("./node_modules/core-js-pure/internals/set-to-string-tag.js"),l=n("./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),c=n("./node_modules/core-js-pure/internals/redefine.js"),u=n("./node_modules/core-js-pure/internals/well-known-symbol.js"),d=n("./node_modules/core-js-pure/internals/is-pure.js"),h=n("./node_modules/core-js-pure/internals/iterators.js"),p=n("./node_modules/core-js-pure/internals/iterators-core.js"),m=p.IteratorPrototype,f=p.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v=function(){return this};e.exports=function(e,t,n,u,p,b,y){o(n,t,u);var _,j,k,E=function(e){if(e===p&&M)return M;if(!f&&e in O)return O[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},x=t+" Iterator",w=!1,O=e.prototype,C=O[g]||O["@@iterator"]||p&&O[p],M=!f&&C||E(p),S="Array"==t&&O.entries||C;if(S&&(_=r(S.call(new e)),m!==Object.prototype&&_.next&&(d||r(_)===m||(a?a(_,m):"function"!=typeof _[g]&&l(_,g,v)),s(_,x,!0,!0),d&&(h[x]=v))),"values"==p&&C&&"values"!==C.name&&(w=!0,M=function(){return C.call(this)}),d&&!y||O[g]===M||l(O,g,M),h[t]=M,p)if(j={values:E("values"),keys:b?M:E("keys"),entries:E("entries")},y)for(k in j)!f&&!w&&k in O||c(O,k,j[k]);else i({target:t,proto:!0,forced:f||w},j);return j}},"./node_modules/core-js-pure/internals/descriptors.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/fails.js");e.exports=!i(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},"./node_modules/core-js-pure/internals/document-create-element.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/global.js"),o=n("./node_modules/core-js-pure/internals/is-object.js"),r=i.document,a=o(r)&&o(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},"./node_modules/core-js-pure/internals/dom-iterables.js":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js-pure/internals/engine-is-browser.js":function(e,t){e.exports="object"==typeof window},"./node_modules/core-js-pure/internals/engine-is-ios.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/engine-user-agent.js");e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(i)},"./node_modules/core-js-pure/internals/engine-is-node.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/classof-raw.js"),o=n("./node_modules/core-js-pure/internals/global.js");e.exports="process"==i(o.process)},"./node_modules/core-js-pure/internals/engine-is-webos-webkit.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/engine-user-agent.js");e.exports=/web0s(?!.*chrome)/i.test(i)},"./node_modules/core-js-pure/internals/engine-user-agent.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/get-built-in.js");e.exports=i("navigator","userAgent")||""},"./node_modules/core-js-pure/internals/engine-v8-version.js":function(e,t,n){var i,o,r=n("./node_modules/core-js-pure/internals/global.js"),a=n("./node_modules/core-js-pure/internals/engine-user-agent.js"),s=r.process,l=s&&s.versions,c=l&&l.v8;c?o=(i=c.split("."))[0]<4?1:i[0]+i[1]:a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(o=i[1]),e.exports=o&&+o},"./node_modules/core-js-pure/internals/enum-bug-keys.js":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js-pure/internals/export.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/global.js"),o=n("./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js").f,r=n("./node_modules/core-js-pure/internals/is-forced.js"),a=n("./node_modules/core-js-pure/internals/path.js"),s=n("./node_modules/core-js-pure/internals/function-bind-context.js"),l=n("./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),c=n("./node_modules/core-js-pure/internals/has.js"),u=function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,d,h,p,m,f,g,v,b=e.target,y=e.global,_=e.stat,j=e.proto,k=y?i:_?i[b]:(i[b]||{}).prototype,E=y?a:a[b]||(a[b]={}),x=E.prototype;for(h in t)n=!r(y?h:b+(_?".":"#")+h,e.forced)&&k&&c(k,h),m=E[h],n&&(f=e.noTargetGet?(v=o(k,h))&&v.value:k[h]),p=n&&f?f:t[h],n&&typeof m===typeof p||(g=e.bind&&n?s(p,i):e.wrap&&n?u(p):j&&"function"==typeof p?s(Function.call,p):p,(e.sham||p&&p.sham||m&&m.sham)&&l(g,"sham",!0),E[h]=g,j&&(c(a,d=b+"Prototype")||l(a,d,{}),a[d][h]=p,e.real&&x&&!x[h]&&l(x,h,p)))}},"./node_modules/core-js-pure/internals/fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js-pure/internals/function-bind-context.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/a-function.js");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js-pure/internals/get-built-in.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/path.js"),o=n("./node_modules/core-js-pure/internals/global.js"),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e])||r(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},"./node_modules/core-js-pure/internals/get-iterator-method.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/classof.js"),o=n("./node_modules/core-js-pure/internals/iterators.js"),r=n("./node_modules/core-js-pure/internals/well-known-symbol.js")("iterator");e.exports=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},"./node_modules/core-js-pure/internals/global.js":function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js-pure/internals/has.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/to-object.js"),o={}.hasOwnProperty;e.exports=function(e,t){return o.call(i(e),t)}},"./node_modules/core-js-pure/internals/hidden-keys.js":function(e,t){e.exports={}},"./node_modules/core-js-pure/internals/host-report-errors.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/global.js");e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"./node_modules/core-js-pure/internals/html.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/get-built-in.js");e.exports=i("document","documentElement")},"./node_modules/core-js-pure/internals/ie8-dom-define.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/descriptors.js"),o=n("./node_modules/core-js-pure/internals/fails.js"),r=n("./node_modules/core-js-pure/internals/document-create-element.js");e.exports=!i&&!o(function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js-pure/internals/indexed-object.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/fails.js"),o=n("./node_modules/core-js-pure/internals/classof-raw.js"),r="".split;e.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?r.call(e,""):Object(e)}:Object},"./node_modules/core-js-pure/internals/inspect-source.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/shared-store.js"),o=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return o.call(e)}),e.exports=i.inspectSource},"./node_modules/core-js-pure/internals/internal-state.js":function(e,t,n){var i,o,r,a=n("./node_modules/core-js-pure/internals/native-weak-map.js"),s=n("./node_modules/core-js-pure/internals/global.js"),l=n("./node_modules/core-js-pure/internals/is-object.js"),c=n("./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),u=n("./node_modules/core-js-pure/internals/has.js"),d=n("./node_modules/core-js-pure/internals/shared-store.js"),h=n("./node_modules/core-js-pure/internals/shared-key.js"),p=n("./node_modules/core-js-pure/internals/hidden-keys.js"),m=s.WeakMap;if(a||d.state){var f=d.state||(d.state=new m),g=f.get,v=f.has,b=f.set;i=function(e,t){if(v.call(f,e))throw new TypeError("Object already initialized");return t.facade=e,b.call(f,e,t),t},o=function(e){return g.call(f,e)||{}},r=function(e){return v.call(f,e)}}else{var y=h("state");p[y]=!0,i=function(e,t){if(u(e,y))throw new TypeError("Object already initialized");return t.facade=e,c(e,y,t),t},o=function(e){return u(e,y)?e[y]:{}},r=function(e){return u(e,y)}}e.exports={set:i,get:o,has:r,enforce:function(e){return r(e)?o(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},"./node_modules/core-js-pure/internals/is-array-iterator-method.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/well-known-symbol.js"),o=n("./node_modules/core-js-pure/internals/iterators.js"),r=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[r]===e)}},"./node_modules/core-js-pure/internals/is-forced.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/fails.js"),o=/#|\.prototype\./,r=function(e,t){var n=s[a(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},a=r.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=r.data={},l=r.NATIVE="N",c=r.POLYFILL="P";e.exports=r},"./node_modules/core-js-pure/internals/is-object.js":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},"./node_modules/core-js-pure/internals/is-pure.js":function(e,t){e.exports=!0},"./node_modules/core-js-pure/internals/iterate.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/an-object.js"),o=n("./node_modules/core-js-pure/internals/is-array-iterator-method.js"),r=n("./node_modules/core-js-pure/internals/to-length.js"),a=n("./node_modules/core-js-pure/internals/function-bind-context.js"),s=n("./node_modules/core-js-pure/internals/get-iterator-method.js"),l=n("./node_modules/core-js-pure/internals/iterator-close.js"),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var u,d,h,p,m,f,g,v=n&&n.that,b=!(!n||!n.AS_ENTRIES),y=!(!n||!n.IS_ITERATOR),_=!(!n||!n.INTERRUPTED),j=a(t,v,1+b+_),k=function(e){return u&&l(u),new c(!0,e)},E=function(e){return b?(i(e),_?j(e[0],e[1],k):j(e[0],e[1])):_?j(e,k):j(e)};if(y)u=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(o(d)){for(h=0,p=r(e.length);p>h;h++)if((m=E(e[h]))&&m instanceof c)return m;return new c(!1)}u=d.call(e)}for(f=u.next;!(g=f.call(u)).done;){try{m=E(g.value)}catch(e){throw l(u),e}if("object"==typeof m&&m&&m instanceof c)return m}return new c(!1)}},"./node_modules/core-js-pure/internals/iterator-close.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/an-object.js");e.exports=function(e){var t=e.return;if(void 0!==t)return i(t.call(e)).value}},"./node_modules/core-js-pure/internals/iterators-core.js":function(e,t,n){"use strict";var i,o,r,a=n("./node_modules/core-js-pure/internals/fails.js"),s=n("./node_modules/core-js-pure/internals/object-get-prototype-of.js"),l=n("./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),c=n("./node_modules/core-js-pure/internals/has.js"),u=n("./node_modules/core-js-pure/internals/well-known-symbol.js"),d=n("./node_modules/core-js-pure/internals/is-pure.js"),h=u("iterator"),p=!1;[].keys&&("next"in(r=[].keys())?(o=s(s(r)))!==Object.prototype&&(i=o):p=!0);var m=void 0==i||a(function(){var e={};return i[h].call(e)!==e});m&&(i={}),d&&!m||c(i,h)||l(i,h,function(){return this}),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},"./node_modules/core-js-pure/internals/iterators.js":function(e,t){e.exports={}},"./node_modules/core-js-pure/internals/microtask.js":function(e,t,n){var i,o,r,a,s,l,c,u,d=n("./node_modules/core-js-pure/internals/global.js"),h=n("./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js").f,p=n("./node_modules/core-js-pure/internals/task.js").set,m=n("./node_modules/core-js-pure/internals/engine-is-ios.js"),f=n("./node_modules/core-js-pure/internals/engine-is-webos-webkit.js"),g=n("./node_modules/core-js-pure/internals/engine-is-node.js"),v=d.MutationObserver||d.WebKitMutationObserver,b=d.document,y=d.process,_=d.Promise,j=h(d,"queueMicrotask"),k=j&&j.value;k||(i=function(){var e,t;for(g&&(e=y.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():r=void 0,e}}r=void 0,e&&e.enter()},m||g||f||!v||!b?_&&_.resolve?((c=_.resolve(void 0)).constructor=_,u=c.then,a=function(){u.call(c,i)}):a=g?function(){y.nextTick(i)}:function(){p.call(d,i)}:(s=!0,l=b.createTextNode(""),new v(i).observe(l,{characterData:!0}),a=function(){l.data=s=!s})),e.exports=k||function(e){var t={fn:e,next:void 0};r&&(r.next=t),o||(o=t,a()),r=t}},"./node_modules/core-js-pure/internals/native-promise-constructor.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/global.js");e.exports=i.Promise},"./node_modules/core-js-pure/internals/native-symbol.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/engine-v8-version.js"),o=n("./node_modules/core-js-pure/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())||!Symbol.sham&&i&&i<41})},"./node_modules/core-js-pure/internals/native-weak-map.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/global.js"),o=n("./node_modules/core-js-pure/internals/inspect-source.js"),r=i.WeakMap;e.exports="function"===typeof r&&/native code/.test(o(r))},"./node_modules/core-js-pure/internals/new-promise-capability.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/a-function.js"),o=function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new o(e)}},"./node_modules/core-js-pure/internals/object-create.js":function(e,t,n){var i,o=n("./node_modules/core-js-pure/internals/an-object.js"),r=n("./node_modules/core-js-pure/internals/object-define-properties.js"),a=n("./node_modules/core-js-pure/internals/enum-bug-keys.js"),s=n("./node_modules/core-js-pure/internals/hidden-keys.js"),l=n("./node_modules/core-js-pure/internals/html.js"),c=n("./node_modules/core-js-pure/internals/document-create-element.js"),u=n("./node_modules/core-js-pure/internals/shared-key.js"),d=u("IE_PROTO"),h=function(){},p=function(e){return"<script>"+e+"<\/script>"},m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;m=i?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete m.prototype[a[n]];return m()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=o(e),n=new h,h.prototype=null,n[d]=e):n=m(),void 0===t?n:r(n,t)}},"./node_modules/core-js-pure/internals/object-define-properties.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/descriptors.js"),o=n("./node_modules/core-js-pure/internals/object-define-property.js"),r=n("./node_modules/core-js-pure/internals/an-object.js"),a=n("./node_modules/core-js-pure/internals/object-keys.js");e.exports=i?Object.defineProperties:function(e,t){r(e);for(var n,i=a(t),s=i.length,l=0;s>l;)o.f(e,n=i[l++],t[n]);return e}},"./node_modules/core-js-pure/internals/object-define-property.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/descriptors.js"),o=n("./node_modules/core-js-pure/internals/ie8-dom-define.js"),r=n("./node_modules/core-js-pure/internals/an-object.js"),a=n("./node_modules/core-js-pure/internals/to-primitive.js"),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/descriptors.js"),o=n("./node_modules/core-js-pure/internals/object-property-is-enumerable.js"),r=n("./node_modules/core-js-pure/internals/create-property-descriptor.js"),a=n("./node_modules/core-js-pure/internals/to-indexed-object.js"),s=n("./node_modules/core-js-pure/internals/to-primitive.js"),l=n("./node_modules/core-js-pure/internals/has.js"),c=n("./node_modules/core-js-pure/internals/ie8-dom-define.js"),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return r(!o.f.call(e,t),e[t])}},"./node_modules/core-js-pure/internals/object-get-prototype-of.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/has.js"),o=n("./node_modules/core-js-pure/internals/to-object.js"),r=n("./node_modules/core-js-pure/internals/shared-key.js"),a=n("./node_modules/core-js-pure/internals/correct-prototype-getter.js"),s=r("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},"./node_modules/core-js-pure/internals/object-keys-internal.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/has.js"),o=n("./node_modules/core-js-pure/internals/to-indexed-object.js"),r=n("./node_modules/core-js-pure/internals/array-includes.js").indexOf,a=n("./node_modules/core-js-pure/internals/hidden-keys.js");e.exports=function(e,t){var n,s=o(e),l=0,c=[];for(n in s)!i(a,n)&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~r(c,n)||c.push(n));return c}},"./node_modules/core-js-pure/internals/object-keys.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/object-keys-internal.js"),o=n("./node_modules/core-js-pure/internals/enum-bug-keys.js");e.exports=Object.keys||function(e){return i(e,o)}},"./node_modules/core-js-pure/internals/object-property-is-enumerable.js":function(e,t,n){"use strict";var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!i.call({1:2},1);t.f=r?function(e){var t=o(this,e);return!!t&&t.enumerable}:i},"./node_modules/core-js-pure/internals/object-set-prototype-of.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/an-object.js"),o=n("./node_modules/core-js-pure/internals/a-possible-prototype.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e.call(n,r):n.__proto__=r,n}}():void 0)},"./node_modules/core-js-pure/internals/object-to-string.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/to-string-tag-support.js"),o=n("./node_modules/core-js-pure/internals/classof.js");e.exports=i?{}.toString:function(){return"[object "+o(this)+"]"}},"./node_modules/core-js-pure/internals/path.js":function(e,t){e.exports={}},"./node_modules/core-js-pure/internals/perform.js":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},"./node_modules/core-js-pure/internals/promise-resolve.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/an-object.js"),o=n("./node_modules/core-js-pure/internals/is-object.js"),r=n("./node_modules/core-js-pure/internals/new-promise-capability.js");e.exports=function(e,t){if(i(e),o(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},"./node_modules/core-js-pure/internals/redefine-all.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/redefine.js");e.exports=function(e,t,n){for(var o in t)n&&n.unsafe&&e[o]?e[o]=t[o]:i(e,o,t[o],n);return e}},"./node_modules/core-js-pure/internals/redefine.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/create-non-enumerable-property.js");e.exports=function(e,t,n,o){o&&o.enumerable?e[t]=n:i(e,t,n)}},"./node_modules/core-js-pure/internals/require-object-coercible.js":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"./node_modules/core-js-pure/internals/set-global.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/global.js"),o=n("./node_modules/core-js-pure/internals/create-non-enumerable-property.js");e.exports=function(e,t){try{o(i,e,t)}catch(n){i[e]=t}return t}},"./node_modules/core-js-pure/internals/set-species.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/get-built-in.js"),o=n("./node_modules/core-js-pure/internals/object-define-property.js"),r=n("./node_modules/core-js-pure/internals/well-known-symbol.js"),a=n("./node_modules/core-js-pure/internals/descriptors.js"),s=r("species");e.exports=function(e){var t=i(e),n=o.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js-pure/internals/set-to-string-tag.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/to-string-tag-support.js"),o=n("./node_modules/core-js-pure/internals/object-define-property.js").f,r=n("./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),a=n("./node_modules/core-js-pure/internals/has.js"),s=n("./node_modules/core-js-pure/internals/object-to-string.js"),l=n("./node_modules/core-js-pure/internals/well-known-symbol.js")("toStringTag");e.exports=function(e,t,n,c){if(e){var u=n?e:e.prototype;a(u,l)||o(u,l,{configurable:!0,value:t}),c&&!i&&r(u,"toString",s)}}},"./node_modules/core-js-pure/internals/shared-key.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/shared.js"),o=n("./node_modules/core-js-pure/internals/uid.js"),r=i("keys");e.exports=function(e){return r[e]||(r[e]=o(e))}},"./node_modules/core-js-pure/internals/shared-store.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/global.js"),o=n("./node_modules/core-js-pure/internals/set-global.js"),r=i["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=r},"./node_modules/core-js-pure/internals/shared.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/is-pure.js"),o=n("./node_modules/core-js-pure/internals/shared-store.js");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.13.0",mode:i?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js-pure/internals/species-constructor.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/an-object.js"),o=n("./node_modules/core-js-pure/internals/a-function.js"),r=n("./node_modules/core-js-pure/internals/well-known-symbol.js")("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||void 0==(n=i(a)[r])?t:o(n)}},"./node_modules/core-js-pure/internals/string-multibyte.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/to-integer.js"),o=n("./node_modules/core-js-pure/internals/require-object-coercible.js"),r=function(e){return function(t,n){var r,a,s=String(o(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(r=s.charCodeAt(l))<55296||r>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):r:e?s.slice(l,l+2):a-56320+(r-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},"./node_modules/core-js-pure/internals/task.js":function(e,t,n){var i,o,r,a=n("./node_modules/core-js-pure/internals/global.js"),s=n("./node_modules/core-js-pure/internals/fails.js"),l=n("./node_modules/core-js-pure/internals/function-bind-context.js"),c=n("./node_modules/core-js-pure/internals/html.js"),u=n("./node_modules/core-js-pure/internals/document-create-element.js"),d=n("./node_modules/core-js-pure/internals/engine-is-ios.js"),h=n("./node_modules/core-js-pure/internals/engine-is-node.js"),p=a.location,m=a.setImmediate,f=a.clearImmediate,g=a.process,v=a.MessageChannel,b=a.Dispatch,y=0,_={},j=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},k=function(e){return function(){j(e)}},E=function(e){j(e.data)},x=function(e){a.postMessage(e+"",p.protocol+"//"+p.host)};m&&f||(m=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(y),y},f=function(e){delete _[e]},h?i=function(e){g.nextTick(k(e))}:b&&b.now?i=function(e){b.now(k(e))}:v&&!d?(r=(o=new v).port2,o.port1.onmessage=E,i=l(r.postMessage,r,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&p&&"file:"!==p.protocol&&!s(x)?(i=x,a.addEventListener("message",E,!1)):i="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),j(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:m,clear:f}},"./node_modules/core-js-pure/internals/to-absolute-index.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/to-integer.js"),o=Math.max,r=Math.min;e.exports=function(e,t){var n=i(e);return n<0?o(n+t,0):r(n,t)}},"./node_modules/core-js-pure/internals/to-indexed-object.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/indexed-object.js"),o=n("./node_modules/core-js-pure/internals/require-object-coercible.js");e.exports=function(e){return i(o(e))}},"./node_modules/core-js-pure/internals/to-integer.js":function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},"./node_modules/core-js-pure/internals/to-length.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/to-integer.js"),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},"./node_modules/core-js-pure/internals/to-object.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/require-object-coercible.js");e.exports=function(e){return Object(i(e))}},"./node_modules/core-js-pure/internals/to-primitive.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/is-object.js");e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!i(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js-pure/internals/to-string-tag-support.js":function(e,t,n){var i={};i[n("./node_modules/core-js-pure/internals/well-known-symbol.js")("toStringTag")]="z",e.exports="[object z]"===String(i)},"./node_modules/core-js-pure/internals/uid.js":function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},"./node_modules/core-js-pure/internals/use-symbol-as-uid.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/native-symbol.js");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"./node_modules/core-js-pure/internals/well-known-symbol.js":function(e,t,n){var i=n("./node_modules/core-js-pure/internals/global.js"),o=n("./node_modules/core-js-pure/internals/shared.js"),r=n("./node_modules/core-js-pure/internals/has.js"),a=n("./node_modules/core-js-pure/internals/uid.js"),s=n("./node_modules/core-js-pure/internals/native-symbol.js"),l=n("./node_modules/core-js-pure/internals/use-symbol-as-uid.js"),c=o("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||a;e.exports=function(e){return r(c,e)&&(s||"string"==typeof c[e])||(s&&r(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},"./node_modules/core-js-pure/modules/es.aggregate-error.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/export.js"),o=n("./node_modules/core-js-pure/internals/object-get-prototype-of.js"),r=n("./node_modules/core-js-pure/internals/object-set-prototype-of.js"),a=n("./node_modules/core-js-pure/internals/object-create.js"),s=n("./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),l=n("./node_modules/core-js-pure/internals/create-property-descriptor.js"),c=n("./node_modules/core-js-pure/internals/iterate.js"),u=function(e,t){var n=this;if(!(n instanceof u))return new u(e,t);r&&(n=r(new Error(void 0),o(n))),void 0!==t&&s(n,"message",String(t));var i=[];return c(e,i.push,{that:i}),s(n,"errors",i),n};u.prototype=a(Error.prototype,{constructor:l(5,u),message:l(5,""),name:l(5,"AggregateError")}),i({global:!0},{AggregateError:u})},"./node_modules/core-js-pure/modules/es.array.iterator.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/to-indexed-object.js"),o=n("./node_modules/core-js-pure/internals/add-to-unscopables.js"),r=n("./node_modules/core-js-pure/internals/iterators.js"),a=n("./node_modules/core-js-pure/internals/internal-state.js"),s=n("./node_modules/core-js-pure/internals/define-iterator.js"),l=a.set,c=a.getterFor("Array Iterator");e.exports=s(Array,"Array",function(e,t){l(this,{type:"Array Iterator",target:i(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},"./node_modules/core-js-pure/modules/es.object.to-string.js":function(e,t){},"./node_modules/core-js-pure/modules/es.promise.all-settled.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/export.js"),o=n("./node_modules/core-js-pure/internals/a-function.js"),r=n("./node_modules/core-js-pure/internals/new-promise-capability.js"),a=n("./node_modules/core-js-pure/internals/perform.js"),s=n("./node_modules/core-js-pure/internals/iterate.js");i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=r.f(t),i=n.resolve,l=n.reject,c=a(function(){var n=o(t.resolve),r=[],a=0,l=1;s(e,function(e){var o=a++,s=!1;r.push(void 0),l++,n.call(t,e).then(function(e){s||(s=!0,r[o]={status:"fulfilled",value:e},--l||i(r))},function(e){s||(s=!0,r[o]={status:"rejected",reason:e},--l||i(r))})}),--l||i(r)});return c.error&&l(c.value),n.promise}})},"./node_modules/core-js-pure/modules/es.promise.any.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/export.js"),o=n("./node_modules/core-js-pure/internals/a-function.js"),r=n("./node_modules/core-js-pure/internals/get-built-in.js"),a=n("./node_modules/core-js-pure/internals/new-promise-capability.js"),s=n("./node_modules/core-js-pure/internals/perform.js"),l=n("./node_modules/core-js-pure/internals/iterate.js");i({target:"Promise",stat:!0},{any:function(e){var t=this,n=a.f(t),i=n.resolve,c=n.reject,u=s(function(){var n=o(t.resolve),a=[],s=0,u=1,d=!1;l(e,function(e){var o=s++,l=!1;a.push(void 0),u++,n.call(t,e).then(function(e){l||d||(d=!0,i(e))},function(e){l||d||(l=!0,a[o]=e,--u||c(new(r("AggregateError"))(a,"No one promise resolved")))})}),--u||c(new(r("AggregateError"))(a,"No one promise resolved"))});return u.error&&c(u.value),n.promise}})},"./node_modules/core-js-pure/modules/es.promise.finally.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/export.js"),o=n("./node_modules/core-js-pure/internals/is-pure.js"),r=n("./node_modules/core-js-pure/internals/native-promise-constructor.js"),a=n("./node_modules/core-js-pure/internals/fails.js"),s=n("./node_modules/core-js-pure/internals/get-built-in.js"),l=n("./node_modules/core-js-pure/internals/species-constructor.js"),c=n("./node_modules/core-js-pure/internals/promise-resolve.js"),u=n("./node_modules/core-js-pure/internals/redefine.js");if(i({target:"Promise",proto:!0,real:!0,forced:!!r&&a(function(){r.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=l(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then(function(){return n})}:e,n?function(n){return c(t,e()).then(function(){throw n})}:e)}}),!o&&"function"==typeof r){var d=s("Promise").prototype.finally;r.prototype.finally!==d&&u(r.prototype,"finally",d,{unsafe:!0})}},"./node_modules/core-js-pure/modules/es.promise.js":function(e,t,n){"use strict";var i,o,r,a,s=n("./node_modules/core-js-pure/internals/export.js"),l=n("./node_modules/core-js-pure/internals/is-pure.js"),c=n("./node_modules/core-js-pure/internals/global.js"),u=n("./node_modules/core-js-pure/internals/get-built-in.js"),d=n("./node_modules/core-js-pure/internals/native-promise-constructor.js"),h=n("./node_modules/core-js-pure/internals/redefine.js"),p=n("./node_modules/core-js-pure/internals/redefine-all.js"),m=n("./node_modules/core-js-pure/internals/object-set-prototype-of.js"),f=n("./node_modules/core-js-pure/internals/set-to-string-tag.js"),g=n("./node_modules/core-js-pure/internals/set-species.js"),v=n("./node_modules/core-js-pure/internals/is-object.js"),b=n("./node_modules/core-js-pure/internals/a-function.js"),y=n("./node_modules/core-js-pure/internals/an-instance.js"),_=n("./node_modules/core-js-pure/internals/inspect-source.js"),j=n("./node_modules/core-js-pure/internals/iterate.js"),k=n("./node_modules/core-js-pure/internals/check-correctness-of-iteration.js"),E=n("./node_modules/core-js-pure/internals/species-constructor.js"),x=n("./node_modules/core-js-pure/internals/task.js").set,w=n("./node_modules/core-js-pure/internals/microtask.js"),O=n("./node_modules/core-js-pure/internals/promise-resolve.js"),C=n("./node_modules/core-js-pure/internals/host-report-errors.js"),M=n("./node_modules/core-js-pure/internals/new-promise-capability.js"),S=n("./node_modules/core-js-pure/internals/perform.js"),P=n("./node_modules/core-js-pure/internals/internal-state.js"),T=n("./node_modules/core-js-pure/internals/is-forced.js"),I=n("./node_modules/core-js-pure/internals/well-known-symbol.js"),A=n("./node_modules/core-js-pure/internals/engine-is-browser.js"),L=n("./node_modules/core-js-pure/internals/engine-is-node.js"),z=n("./node_modules/core-js-pure/internals/engine-v8-version.js"),D=I("species"),R="Promise",N=P.get,H=P.set,B=P.getterFor(R),F=d&&d.prototype,V=d,U=F,W=c.TypeError,Z=c.document,X=c.process,Y=M.f,G=Y,J=!!(Z&&Z.createEvent&&c.dispatchEvent),q="function"==typeof PromiseRejectionEvent,K=!1,Q=T(R,function(){var e=_(V)!==String(V);if(!e&&66===z)return!0;if(l&&!U.finally)return!0;if(z>=51&&/native code/.test(V))return!1;var t=new V(function(e){e(1)}),n=function(e){e(function(){},function(){})};return(t.constructor={})[D]=n,!(K=t.then(function(){})instanceof n)||!e&&A&&!q}),$=Q||!k(function(e){V.all(e).catch(function(){})}),ee=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},te=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;w(function(){for(var i=e.value,o=1==e.state,r=0;n.length>r;){var a,s,l,c=n[r++],u=o?c.ok:c.fail,d=c.resolve,h=c.reject,p=c.domain;try{u?(o||(2===e.rejection&&re(e),e.rejection=1),!0===u?a=i:(p&&p.enter(),a=u(i),p&&(p.exit(),l=!0)),a===c.promise?h(W("Promise-chain cycle")):(s=ee(a))?s.call(a,d,h):d(a)):h(i)}catch(e){p&&!l&&p.exit(),h(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)})}},ne=function(e,t,n){var i,o;J?((i=Z.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},!q&&(o=c["on"+e])?o(i):"unhandledrejection"===e&&C("Unhandled promise rejection",n)},ie=function(e){x.call(c,function(){var t,n=e.facade,i=e.value;if(oe(e)&&(t=S(function(){L?X.emit("unhandledRejection",i,n):ne("unhandledrejection",n,i)}),e.rejection=L||oe(e)?2:1,t.error))throw t.value})},oe=function(e){return 1!==e.rejection&&!e.parent},re=function(e){x.call(c,function(){var t=e.facade;L?X.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)})},ae=function(e,t,n){return function(i){e(t,i,n)}},se=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,te(e,!0))},le=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw W("Promise can't be resolved itself");var i=ee(t);i?w(function(){var n={done:!1};try{i.call(t,ae(le,n,e),ae(se,n,e))}catch(t){se(n,t,e)}}):(e.value=t,e.state=1,te(e,!1))}catch(t){se({done:!1},t,e)}}};if(Q&&(U=(V=function(e){y(this,V,R),b(e),i.call(this);var t=N(this);try{e(ae(le,t),ae(se,t))}catch(e){se(t,e)}}).prototype,(i=function(e){H(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(U,{then:function(e,t){var n=B(this),i=Y(E(this,V));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=L?X.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&te(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i,t=N(e);this.promise=e,this.resolve=ae(le,t),this.reject=ae(se,t)},M.f=Y=function(e){return e===V||e===r?new o(e):G(e)},!l&&"function"==typeof d&&F!==Object.prototype)){a=F.then,K||(h(F,"then",function(e,t){var n=this;return new V(function(e,t){a.call(n,e,t)}).then(e,t)},{unsafe:!0}),h(F,"catch",U.catch,{unsafe:!0}));try{delete F.constructor}catch(e){}m&&m(F,U)}s({global:!0,wrap:!0,forced:Q},{Promise:V}),f(V,R,!1,!0),g(R),r=u(R),s({target:R,stat:!0,forced:Q},{reject:function(e){var t=Y(this);return t.reject.call(void 0,e),t.promise}}),s({target:R,stat:!0,forced:l||Q},{resolve:function(e){return O(l&&this===r?V:this,e)}}),s({target:R,stat:!0,forced:$},{all:function(e){var t=this,n=Y(t),i=n.resolve,o=n.reject,r=S(function(){var n=b(t.resolve),r=[],a=0,s=1;j(e,function(e){var l=a++,c=!1;r.push(void 0),s++,n.call(t,e).then(function(e){c||(c=!0,r[l]=e,--s||i(r))},o)}),--s||i(r)});return r.error&&o(r.value),n.promise},race:function(e){var t=this,n=Y(t),i=n.reject,o=S(function(){var o=b(t.resolve);j(e,function(e){o.call(t,e).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}})},"./node_modules/core-js-pure/modules/es.string.iterator.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/string-multibyte.js").charAt,o=n("./node_modules/core-js-pure/internals/internal-state.js"),r=n("./node_modules/core-js-pure/internals/define-iterator.js"),a=o.set,s=o.getterFor("String Iterator");r(String,"String",function(e){a(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=s(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=i(n,o),t.index+=e.length,{value:e,done:!1})})},"./node_modules/core-js-pure/modules/esnext.aggregate-error.js":function(e,t,n){n("./node_modules/core-js-pure/modules/es.aggregate-error.js")},"./node_modules/core-js-pure/modules/esnext.promise.all-settled.js":function(e,t,n){n("./node_modules/core-js-pure/modules/es.promise.all-settled.js")},"./node_modules/core-js-pure/modules/esnext.promise.any.js":function(e,t,n){n("./node_modules/core-js-pure/modules/es.promise.any.js")},"./node_modules/core-js-pure/modules/esnext.promise.try.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js-pure/internals/export.js"),o=n("./node_modules/core-js-pure/internals/new-promise-capability.js"),r=n("./node_modules/core-js-pure/internals/perform.js");i({target:"Promise",stat:!0},{try:function(e){var t=o.f(this),n=r(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},"./node_modules/core-js-pure/modules/web.dom-collections.iterator.js":function(e,t,n){n("./node_modules/core-js-pure/modules/es.array.iterator.js");var i=n("./node_modules/core-js-pure/internals/dom-iterables.js"),o=n("./node_modules/core-js-pure/internals/global.js"),r=n("./node_modules/core-js-pure/internals/classof.js"),a=n("./node_modules/core-js-pure/internals/create-non-enumerable-property.js"),s=n("./node_modules/core-js-pure/internals/iterators.js"),l=n("./node_modules/core-js-pure/internals/well-known-symbol.js")("toStringTag");for(var c in i){var u=o[c],d=u&&u.prototype;d&&r(d)!==l&&a(d,l,c),s[c]=s.Array}},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===typeof window&&(n=window)}e.exports=n},"./src/css/index.styl":function(e,t,n){},"./src/index.js":function(e,t,n){"use strict";n("./src/js/polyfill.js");var i,o=n("./src/js/imageEditor.js"),r=(i=o)&&i.__esModule?i:{default:i};n("./src/css/index.styl"),n("./src/js/command/addIcon.js"),n("./src/js/command/addImageObject.js"),n("./src/js/command/addObject.js"),n("./src/js/command/addShape.js"),n("./src/js/command/addText.js"),n("./src/js/command/applyFilter.js"),n("./src/js/command/changeIconColor.js"),n("./src/js/command/changeShape.js"),n("./src/js/command/changeText.js"),n("./src/js/command/changeTextStyle.js"),n("./src/js/command/clearObjects.js"),n("./src/js/command/flip.js"),n("./src/js/command/loadImage.js"),n("./src/js/command/removeFilter.js"),n("./src/js/command/removeObject.js"),n("./src/js/command/resizeCanvasDimension.js"),n("./src/js/command/rotate.js"),n("./src/js/command/setObjectProperties.js"),n("./src/js/command/setObjectPosition.js"),n("./src/js/command/changeSelection.js"),n("./src/js/command/resize.js"),e.exports=r.default},"./src/js/action.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("tui-code-snippet"),r=n("./src/js/helper/imagetracer.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/util.js"),l=n("./src/js/consts.js");t.default={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var e=this,t=function(){"crop"===e.ui.submenu&&(e.stopDrawingMode(),e.ui.changeMenu("crop"))},n=function(t){var n,i;return n=t,"rotate"===e.ui.submenu&&e.ui.rotate.setRangeBarAngle("setAngle",n),i=t,"filter"===e.ui.submenu&&e.ui.filter.setFilterState(i),t},i=function(){e.ui.filter&&e.ui.filter.initFilterCheckBoxState()};return(0,o.extend)({initLoadImage:function(n,i){return e.loadImageFromURL(n,i).then(function(i){t(),e.ui.initializeImgUrl=n,e.ui.resizeEditor({imageSize:i}),e.clearUndoStack(),e._invoker.fire(l.eventNames.EXECUTE_COMMAND,l.historyNames.LOAD_IMAGE)})},undo:function(){e.isEmptyUndoStack()||(t(),e.deactivateAll(),e.undo().then(n))},redo:function(){e.isEmptyRedoStack()||(t(),e.deactivateAll(),e.redo().then(n))},reset:function(){t(),e.loadImageFromURL(e.ui.initializeImgUrl,"resetImage").then(function(n){t(),i(),e.ui.resizeEditor({imageSize:n}),e.clearUndoStack(),e._initHistory()})},delete:function(){e.ui.changeHelpButtonEnabled("delete",!1),t(),e.removeActiveObject(),e.activeObjectId=null},deleteAll:function(){t(),e.clearObjects(),e.ui.changeHelpButtonEnabled("delete",!1),e.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(n){(0,s.isSupportFileApi)()||alert("This browser does not support file-api"),e.ui.initializeImgUrl=URL.createObjectURL(n),e.loadImageFromFile(n).then(function(n){t(),i(),e.clearUndoStack(),e.ui.activeMenuEvent(),e.ui.resizeEditor({imageSize:n}),e._clearHistory(),e._invoker.fire(l.eventNames.EXECUTE_COMMAND,l.historyNames.LOAD_IMAGE)}).catch(function(e){return Promise.reject(e)})},download:function(){var t=e.toDataURL(),n=e.getImageName(),i=void 0,o=void 0;(0,s.isSupportFileApi)()&&window.saveAs?(o=(i=(0,s.base64ToBlob)(t)).type.split("/")[1],n.split(".").pop()!==o&&(n+="."+o),saveAs(i,n)):window.open().document.body.innerHTML="<img src='"+t+"'>"},history:function(t){e.ui.toggleHistoryMenu(t)},zoomIn:function(){var t;e.ui.toggleZoomButtonStatus("zoomIn"),e.deactivateAll(),t=e._graphics.getZoomMode(),e.stopDrawingMode(),t!==l.zoomModes.ZOOM?(e.startDrawingMode(l.drawingModes.ZOOM),e._graphics.startZoomInMode()):e._graphics.endZoomInMode()},zoomOut:function(){e._graphics.zoomOut()},hand:function(){var t;e.ui.offZoomInButtonStatus(),e.ui.toggleZoomButtonStatus("hand"),e.deactivateAll(),t=e._graphics.getZoomMode(),e.stopDrawingMode(),t!==l.zoomModes.HAND?(e.startDrawingMode(l.drawingModes.ZOOM),e._graphics.startHandMode()):e._graphics.endHandMode()}},this._commonAction())},_iconAction:function(){var e=this;return(0,o.extend)({changeColor:function(t){e.activeObjectId&&e.changeIconColor(e.activeObjectId,t)},addIcon:function(t,n){e.startDrawingMode("ICON"),e.setDrawingIcon(t,n)},cancelAddIcon:function(){e.ui.icon.clearIconType(),e.changeSelectableAll(!0),e.changeCursor("default"),e.stopDrawingMode()},registerDefaultIcons:function(t,n){var i={};i[t]=n,e.registerIcons(i)},registerCustomIcon:function(t,n){(new a.default).imageToSVG(t,function(t){var i=t.match(/path[^>]*d="([^"]*)"/)[1],o={};o[n.name]=i,e.registerIcons(o),e.addIcon(n.name,{left:100,top:100})},a.default.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var e=this;return(0,o.extend)({setDrawMode:function(t,n){e.stopDrawingMode(),"free"===t?e.startDrawingMode("FREE_DRAWING",n):e.startDrawingMode("LINE_DRAWING",n)},setColor:function(t){e.setBrush({color:t})}},this._commonAction())},_maskAction:function(){var e=this;return(0,o.extend)({loadImageFromURL:function(t,n){return e.loadImageFromURL(e.toDataURL(),"FilterImage").then(function(){e.addImageObject(t).then(function(){URL.revokeObjectURL(n)}),e._invoker.fire(l.eventNames.EXECUTE_COMMAND,l.historyNames.LOAD_MASK_IMAGE)})},applyFilter:function(){e.applyFilter("mask",{maskObjId:e.activeObjectId})}},this._commonAction())},_textAction:function(){var e=this;return(0,o.extend)({changeTextStyle:function(t,n){e.activeObjectId&&e.changeTextStyle(e.activeObjectId,t,n)}},this._commonAction())},_rotateAction:function(){var e=this;return(0,o.extend)({rotate:function(t,n){e.rotate(t,n),e.ui.resizeEditor(),e.ui.rotate.setRangeBarAngle("rotate",t)},setAngle:function(t,n){e.setAngle(t,n),e.ui.resizeEditor(),e.ui.rotate.setRangeBarAngle("setAngle",t)}},this._commonAction())},_shapeAction:function(){var e=this;return(0,o.extend)({changeShape:function(t,n){e.activeObjectId&&e.changeShape(e.activeObjectId,t,n)},setDrawingShape:function(t){e.setDrawingShape(t)}},this._commonAction())},_cropAction:function(){var e=this;return(0,o.extend)({crop:function(){var t=e.getCropzoneRect();t&&!(0,s.isEmptyCropzone)(t)&&e.crop(t).then(function(){e.stopDrawingMode(),e.ui.resizeEditor(),e.ui.changeMenu("crop"),e._invoker.fire(l.eventNames.EXECUTE_COMMAND,l.historyNames.CROP)}).catch(function(e){return Promise.reject(e)})},cancel:function(){e.stopDrawingMode(),e.ui.changeMenu("crop")},preset:function(t){switch(t){case"preset-square":e.setCropzoneRect(1);break;case"preset-3-2":e.setCropzoneRect(1.5);break;case"preset-4-3":e.setCropzoneRect(4/3);break;case"preset-5-4":e.setCropzoneRect(5/4);break;case"preset-7-5":e.setCropzoneRect(1.4);break;case"preset-16-9":e.setCropzoneRect(16/9);break;default:e.setCropzoneRect(),e.ui.crop.changeApplyButtonStatus(!1)}}},this._commonAction())},_resizeAction:function(){var e=this;return(0,o.extend)({getCurrentDimensions:function(){return e._graphics.getCurrentDimensions()},preview:function(t,n,i){var o=e._graphics.getCurrentDimensions(),r=function(){return o.width/o.height},a={};switch(t){case"width":a.width=n,a.height=i?n/r():o.height;break;case"height":a.height=n,a.width=i?n*r():o.width;break;default:a=o}e._graphics.resize(a).then(function(){e.ui.resizeEditor()}),i&&(e.ui.resize.setWidthValue(a.width),e.ui.resize.setHeightValue(a.height))},lockAspectRatio:function(t,n,i){var o=e._graphics.getCurrentDimensions(),r=o.width,a=o.height,s=r/a;if(t)if(r>a){var l=i/s,c=n*s;e.ui.resize.setLimit({minWidth:c>n?c:n,minHeight:n,maxWidth:i,maxHeight:l<i?l:i})}else{var u=i*s,d=n/s;e.ui.resize.setLimit({minWidth:n,minHeight:d>n?d:n,maxWidth:u<i?u:i,maxHeight:i})}else e.ui.resize.setLimit({minWidth:n,minHeight:n,maxWidth:i,maxHeight:i})},resize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t||(t=e._graphics.getCurrentDimensions()),e.resize(t).then(function(){e._graphics.setOriginalDimensions(t),e.stopDrawingMode(),e.ui.resizeEditor(),e.ui.changeMenu("resize")}).catch(function(e){return Promise.reject(e)})},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e._graphics.getOriginalDimensions();e.ui.resize.setWidthValue(n.width,!0),e.ui.resize.setHeightValue(n.height,!0),e._graphics.resize(n).then(function(){t||(e.stopDrawingMode(),e.ui.resizeEditor(),e.ui.changeMenu("resize"))})}},this._commonAction())},_flipAction:function(){var e=this;return(0,o.extend)({flip:function(t){return e[t]()}},this._commonAction())},_filterAction:function(){var e=this;return(0,o.extend)({applyFilter:function(t,n,i,o){t?e.applyFilter(n,i,o):e.hasFilter(n)&&e.removeFilter(n)}},this._commonAction())},setReAction:function(){var e=this;this.on({undoStackChanged:function(t){t?(e.ui.changeHelpButtonEnabled("undo",!0),e.ui.changeHelpButtonEnabled("reset",!0)):(e.ui.changeHelpButtonEnabled("undo",!1),e.ui.changeHelpButtonEnabled("reset",!1)),e.ui.resizeEditor()},redoStackChanged:function(t){t?e.ui.changeHelpButtonEnabled("redo",!0):e.ui.changeHelpButtonEnabled("redo",!1),e.ui.resizeEditor()},objectActivated:function(t){e.activeObjectId=t.id,e.ui.changeHelpButtonEnabled("delete",!0),e.ui.changeHelpButtonEnabled("deleteAll",!0),"cropzone"===t.type?e.ui.crop.changeApplyButtonStatus(!0):["rect","circle","triangle"].indexOf(t.type)>-1?(e.stopDrawingMode(),"shape"!==e.ui.submenu&&e.ui.changeMenu("shape",!1,!1),e.ui.shape.setShapeStatus({strokeColor:t.stroke,strokeWidth:t.strokeWidth,fillColor:t.fill}),e.ui.shape.setMaxStrokeValue(Math.min(t.width,t.height))):"path"===t.type||"line"===t.type?"draw"!==e.ui.submenu&&(e.ui.changeMenu("draw",!1,!1),e.ui.draw.changeStandbyMode()):["i-text","text"].indexOf(t.type)>-1?("text"!==e.ui.submenu&&e.ui.changeMenu("text",!1,!1),e.ui.text.setTextStyleStateOnAction(t)):"icon"===t.type&&(e.stopDrawingMode(),"icon"!==e.ui.submenu&&e.ui.changeMenu("icon",!1,!1),e.ui.icon.setIconPickerColor(t.fill))},addText:function(t){var n=e.ui.text,i=n.textColor,o=n.fontSize,r=n.fontStyle,a=n.fontWeight,s=n.underline;e.addText("Double Click",{position:t.originPosition,styles:{fill:i,fontSize:o,fontFamily:"Noto Sans",fontStyle:r,fontWeight:a,underline:s}}).then(function(){e.changeCursor("default")})},addObjectAfter:function(t){"icon"===t.type?e.ui.icon.changeStandbyMode():["rect","circle","triangle"].indexOf(t.type)>-1&&(e.ui.shape.setMaxStrokeValue(Math.min(t.width,t.height)),e.ui.shape.changeStandbyMode())},objectScaled:function(t){if(["i-text","text"].indexOf(t.type)>-1)e.ui.text.fontSize=(0,s.toInteger)(t.fontSize);else if(["rect","circle","triangle"].indexOf(t.type)>=0){var n=t.width,i=t.height,o=e.ui.shape.getStrokeValue();n<o&&e.ui.shape.setStrokeValue(n),i<o&&e.ui.shape.setStrokeValue(i)}},selectionCleared:function(){e.activeObjectId=null,"text"===e.ui.submenu?e.changeCursor("text"):(0,s.includes)(["draw","crop","resize"],e.ui.submenu)||e.stopDrawingMode()}})},_historyAction:function(){var e=this;return{undo:function(t){return e.undo(t)},redo:function(t){return e.redo(t)}}},_commonAction:function(){var e=this,t=l.drawingModes.TEXT,n=l.drawingModes.CROPPER,i=l.drawingModes.SHAPE,o=l.drawingModes.ZOOM,r=l.drawingModes.RESIZE;return{modeChange:function(a){switch(a){case l.drawingMenuNames.TEXT:e._changeActivateMode(t);break;case l.drawingMenuNames.CROP:e.startDrawingMode(n);break;case l.drawingMenuNames.SHAPE:e._changeActivateMode(i),e.setDrawingShape(e.ui.shape.type,e.ui.shape.options);break;case l.drawingMenuNames.ZOOM:e.startDrawingMode(o);break;case l.drawingMenuNames.RESIZE:e.startDrawingMode(r)}},deactivateAll:this.deactivateAll.bind(this),changeSelectableAll:this.changeSelectableAll.bind(this),discardSelection:this.discardSelection.bind(this),stopDrawingMode:this.stopDrawingMode.bind(this)}},mixin:function(e){(0,o.extend)(e.prototype,this)}}},"./src/js/command/addIcon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js"),s=n("./src/js/consts.js");var l=s.componentNames.ICON,c={name:s.commandNames.ADD_ICON,execute:function(e,t,n){var i=this;return e.getComponent(l).add(t,n).then(function(t){return i.undoData.object=e.getObject(t.id),t})},undo:function(e){return e.remove(this.undoData.object),a.Promise.resolve()}};r.default.register(c),t.default=c},"./src/js/command/addImageObject.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js");var s={name:n("./src/js/consts.js").commandNames.ADD_IMAGE_OBJECT,execute:function(e,t){var n=this;return e.addImageObject(t).then(function(t){return n.undoData.object=e.getObject(t.id),t})},undo:function(e){return e.remove(this.undoData.object),a.Promise.resolve()}};r.default.register(s),t.default=s},"./src/js/command/addObject.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js"),s=n("./src/js/consts.js");var l={name:s.commandNames.ADD_OBJECT,execute:function(e,t){return new a.Promise(function(n,i){e.contains(t)?i(s.rejectMessages.addedObject):(e.add(t),n(t))})},undo:function(e,t){return new a.Promise(function(n,i){e.contains(t)?(e.remove(t),n(t)):i(s.rejectMessages.noObject)})}};r.default.register(l),t.default=l},"./src/js/command/addShape.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js"),s=n("./src/js/consts.js");var l=s.componentNames.SHAPE,c={name:s.commandNames.ADD_SHAPE,execute:function(e,t,n){var i=this;return e.getComponent(l).add(t,n).then(function(t){var n=t.id;return i.undoData.object=e.getObject(n),t})},undo:function(e){return e.remove(this.undoData.object),a.Promise.resolve()}};r.default.register(c),t.default=c},"./src/js/command/addText.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js"),s=n("./src/js/consts.js"),l=n("./src/js/helper/selectionModifyHelper.js");var c=s.componentNames.TEXT,u={name:s.commandNames.ADD_TEXT,execute:function(e,t,n){var i=this,o=e.getComponent(c);if(this.undoData.object){var r=this.undoData.object;return new a.Promise(function(t,n){e.contains(r)?n(s.rejectMessages.redo):(e.add(r),t(r))})}return o.add(t,n).then(function(t){var n=t.id,o=e.getObject(n);return i.undoData.object=o,(0,l.setCachedUndoDataForDimension)((0,l.makeSelectionUndoData)(o,function(){return(0,l.makeSelectionUndoDatum)(n,o,!1)})),t})},undo:function(e){return e.remove(this.undoData.object),a.Promise.resolve()}};r.default.register(u),t.default=u},"./src/js/command/applyFilter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("tui-code-snippet")),o=a(n("./src/js/factory/command.js")),r=n("./src/js/consts.js");function a(e){return e&&e.__esModule?e:{default:e}}var s=r.componentNames.FILTER,l=null;var c={name:r.commandNames.APPLY_FILTER,execute:function(e,t,n,o){var a=e.getComponent(s);if("mask"===t){var c=e.getObject(n.maskObjId);if(!c||!c.isType("image"))return Promise.reject(r.rejectMessages.invalidParameters);i.default.extend(n,{mask:c}),e.remove(n.mask)}if(!this.isRedo){var u=function(e,t,n){var i={};return"mask"===e&&(i.object=n.mask),i.options=t,i}(t,a.getOptions(t),n);l=this.setUndoData(u,l,o)}return a.add(t,n)},undo:function(e,t){var n=e.getComponent(s);if("mask"===t){var i=this.undoData.object;return e.add(i),e.setActiveObject(i),n.remove(t)}return this.undoData.options?n.add(t,this.undoData.options):n.remove(t)}};o.default.register(c),t.default=c},"./src/js/command/changeIconColor.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js"),s=n("./src/js/consts.js");var l=s.componentNames.ICON,c={name:s.commandNames.CHANGE_ICON_COLOR,execute:function(e,t,n){var i=this;return new a.Promise(function(o,r){var a=e.getComponent(l),c=e.getObject(t);c||r(s.rejectMessages.noObject),i.undoData.object=c,i.undoData.color=a.getColor(c),a.setColor(n,c),o()})},undo:function(e){var t=e.getComponent(l),n=this.undoData,i=n.object,o=n.color;return t.setColor(o,i),a.Promise.resolve()}};r.default.register(c),t.default=c},"./src/js/command/changeSelection.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js"),s=n("./src/js/consts.js"),l=n("./src/js/helper/selectionModifyHelper.js");var c={name:s.commandNames.CHANGE_SELECTION,execute:function(e,t){return this.isRedo?t.forEach(function(t){e.setObjectProperties(t.id,t)}):this.undoData=(0,l.getCachedUndoDataForDimension)(),a.Promise.resolve()},undo:function(e){return this.undoData.forEach(function(t){e.setObjectProperties(t.id,t)}),a.Promise.resolve()}};r.default.register(c),t.default=c},"./src/js/command/changeShape.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("tui-code-snippet")),o=s(n("./src/js/factory/command.js")),r=n("./src/js/util.js"),a=n("./src/js/consts.js");function s(e){return e&&e.__esModule?e:{default:e}}var l=a.componentNames.SHAPE,c=null;var u={name:a.commandNames.CHANGE_SHAPE,execute:function(e,t,n,o){var s=e.getComponent(l),u=e.getObject(t);if(!u)return r.Promise.reject(a.rejectMessages.noObject);if(!this.isRedo){var d=function(e,t){var n={object:t,options:{}};return i.default.forEachOwnProperties(e,function(e,i){n.options[i]=t[i]}),n}(n,u);c=this.setUndoData(d,c,o)}return s.change(u,n)},undo:function(e){var t=e.getComponent(l),n=this.undoData,i=n.object,o=n.options;return t.change(i,o)}};o.default.register(u),t.default=u},"./src/js/command/changeText.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js"),s=n("./src/js/consts.js");var l=s.componentNames.TEXT,c={name:s.commandNames.CHANGE_TEXT,execute:function(e,t,n){var i=e.getComponent(l),o=e.getObject(t);return o?(this.undoData.object=o,this.undoData.text=i.getText(o),i.change(o,n)):a.Promise.reject(s.rejectMessages.noObject)},undo:function(e){var t=e.getComponent(l),n=this.undoData,i=n.object,o=n.text;return t.change(i,o)}};r.default.register(c),t.default=c},"./src/js/command/changeTextStyle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("tui-code-snippet")),o=s(n("./src/js/factory/command.js")),r=n("./src/js/util.js"),a=n("./src/js/consts.js");function s(e){return e&&e.__esModule?e:{default:e}}var l=a.componentNames.TEXT,c=null;var u={name:a.commandNames.CHANGE_TEXT_STYLE,execute:function(e,t,n,o){var s=e.getComponent(l),u=e.getObject(t);if(!u)return r.Promise.reject(a.rejectMessages.noObject);if(!this.isRedo){var d=function(e,t){var n={object:t,styles:{}};return i.default.forEachOwnProperties(e,function(e,i){var o=t[i];n.styles[i]=o}),n}(n,u);c=this.setUndoData(d,c,o)}return s.setStyle(u,n)},undo:function(e){var t=e.getComponent(l),n=this.undoData,i=n.object,o=n.styles;return t.setStyle(i,o)}};o.default.register(u),t.default=u},"./src/js/command/clearObjects.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js");var s={name:n("./src/js/consts.js").commandNames.CLEAR_OBJECTS,execute:function(e){var t=this;return new a.Promise(function(n){t.undoData.objects=e.removeAll(),n()})},undo:function(e){return e.add(this.undoData.objects),a.Promise.resolve()}};r.default.register(s),t.default=s},"./src/js/command/flip.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/consts.js");var s=a.componentNames.FLIP,l={name:a.commandNames.FLIP_IMAGE,execute:function(e,t){var n=e.getComponent(s);return this.undoData.setting=n.getCurrentSetting(),n[t]()},undo:function(e){return e.getComponent(s).set(this.undoData.setting)}};r.default.register(l),t.default=l},"./src/js/command/loadImage.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/consts.js");var s=a.componentNames.IMAGE_LOADER,l={name:a.commandNames.LOAD_IMAGE,execute:function(e,t,n){var i=e.getComponent(s),o=i.getCanvasImage(),r=o?o.width:0,a=o?o.height:0,l=e.removeAll(!0).filter(function(e){return"cropzone"!==e.type});return l.forEach(function(e){e.evented=!0}),this.undoData={name:i.getImageName(),image:o,objects:l},i.load(t,n).then(function(e){return{oldWidth:r,oldHeight:a,newWidth:e.width,newHeight:e.height}})},undo:function(e){var t=e.getComponent(s),n=this.undoData,i=n.objects,o=n.name,r=n.image;return e.removeAll(!0),e.add(i),t.load(o,r)}};r.default.register(l),t.default=l},"./src/js/command/removeFilter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/consts.js");var s=a.componentNames.FILTER,l={name:a.commandNames.REMOVE_FILTER,execute:function(e,t){var n=e.getComponent(s);return this.undoData.options=n.getOptions(t),n.remove(t)},undo:function(e,t){var n=e.getComponent(s),i=this.undoData.options;return n.add(t,i)}};r.default.register(l),t.default=l},"./src/js/command/removeObject.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js"),s=n("./src/js/consts.js");var l={name:s.commandNames.REMOVE_OBJECT,execute:function(e,t){var n=this;return new a.Promise(function(i,o){n.undoData.objects=e.removeObjectById(t),n.undoData.objects.length?i():o(s.rejectMessages.noObject)})},undo:function(e){return e.add(this.undoData.objects),a.Promise.resolve()}};r.default.register(l),t.default=l},"./src/js/command/resize.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/consts.js");var s=a.componentNames.RESIZE,l={name:a.commandNames.RESIZE_IMAGE,execute:function(e,t){var n=e.getComponent(s),i=n.getOriginalDimensions();return i||(i=n.getCurrentDimensions()),this.undoData.dimensions=i,n.resize(t)},undo:function(e){return e.getComponent(s).resize(this.undoData.dimensions)}};r.default.register(l),t.default=l},"./src/js/command/resizeCanvasDimension.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js");var s={name:n("./src/js/consts.js").commandNames.RESIZE_CANVAS_DIMENSION,execute:function(e,t){var n=this;return new a.Promise(function(i){n.undoData.size={width:e.cssMaxWidth,height:e.cssMaxHeight},e.setCssMaxDimension(t),e.adjustCanvasDimension(),i()})},undo:function(e){return e.setCssMaxDimension(this.undoData.size),e.adjustCanvasDimension(),a.Promise.resolve()}};r.default.register(s),t.default=s},"./src/js/command/rotate.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/consts.js");var s=a.componentNames.ROTATION,l=null;var c={name:a.commandNames.ROTATE_IMAGE,execute:function(e,t,n,i){var o=e.getComponent(s);if(!this.isRedo){var r=function(e){return{angle:e.getCurrentAngle()}}(o);l=this.setUndoData(r,l,i)}return o[t](n)},undo:function(e){var t=e.getComponent(s),n=this.args,i=n[1],o=n[2];return"setAngle"===i?t[i](this.undoData.angle):t.rotate(-o)}};r.default.register(c),t.default=c},"./src/js/command/setObjectPosition.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/factory/command.js"),r=(i=o)&&i.__esModule?i:{default:i},a=n("./src/js/util.js"),s=n("./src/js/consts.js");var l={name:s.commandNames.SET_OBJECT_POSITION,execute:function(e,t,n){return e.getObject(t)?(this.undoData.objectId=t,this.undoData.props=e.getObjectProperties(t,["left","top"]),e.setObjectPosition(t,n),e.renderAll(),a.Promise.resolve()):a.Promise.reject(s.rejectMessages.noObject)},undo:function(e){var t=this.undoData,n=t.objectId,i=t.props;return e.setObjectProperties(n,i),e.renderAll(),a.Promise.resolve()}};r.default.register(l),t.default=l},"./src/js/command/setObjectProperties.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("tui-code-snippet")),o=s(n("./src/js/factory/command.js")),r=n("./src/js/util.js"),a=n("./src/js/consts.js");function s(e){return e&&e.__esModule?e:{default:e}}var l={name:a.commandNames.SET_OBJECT_PROPERTIES,execute:function(e,t,n){var o=this,s=e.getObject(t);return s?(this.undoData.props={},i.default.forEachOwnProperties(n,function(e,t){o.undoData.props[t]=s[t]}),e.setObjectProperties(t,n),r.Promise.resolve()):r.Promise.reject(a.rejectMessages.noObject)},undo:function(e,t){var n=this.undoData.props;return e.setObjectProperties(t,n),r.Promise.resolve()}};o.default.register(l),t.default=l},"./src/js/component/cropper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=u(n("tui-code-snippet")),r=u(n("fabric")),a=u(n("./src/js/interface/component.js")),s=u(n("./src/js/extension/cropzone.js")),l=n("./src/js/consts.js"),c=n("./src/js/util.js");function u(e){return e&&e.__esModule?e:{default:e}}var d={presetRatio:null,top:-10,left:-10,height:1,width:1},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.CROPPER,e));return n._cropzone=null,n._startX=null,n._startY=null,n._withShiftKey=!1,n._listeners={keydown:n._onKeyDown.bind(n),keyup:n._onKeyUp.bind(n),mousedown:n._onFabricMouseDown.bind(n),mousemove:n._onFabricMouseMove.bind(n),mouseup:n._onFabricMouseUp.bind(n)},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"start",value:function(){if(!this._cropzone){var e=this.getCanvas();e.forEachObject(function(e){e.evented=!1}),this._cropzone=new s.default(e,o.default.extend({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},l.CROPZONE_DEFAULT_OPTIONS,this.graphics.cropSelectionStyle)),e.discardActiveObject(),e.add(this._cropzone),e.on("mouse:down",this._listeners.mousedown),e.selection=!1,e.defaultCursor="crosshair",r.default.util.addListener(document,"keydown",this._listeners.keydown),r.default.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var e=this.getCanvas(),t=this._cropzone;t&&(e.remove(t),e.selection=!0,e.defaultCursor="default",e.off("mouse:down",this._listeners.mousedown),e.forEachObject(function(e){e.evented=!0}),this._cropzone=null,r.default.util.removeListener(document,"keydown",this._listeners.keydown),r.default.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(e){this._cropzone&&this._cropzone.set({visible:e})}},{key:"_onFabricMouseDown",value:function(e){var t=this.getCanvas();if(!e.target){t.selection=!1;var n=t.getPointer(e.e);this._startX=n.x,this._startY=n.y,t.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e),i=n.x,o=n.y,r=this._cropzone;Math.abs(i-this._startX)+Math.abs(o-this._startY)>10&&(t.remove(r),r.set(this._calcRectDimensionFromPoint(i,o)),t.add(r),t.setActiveObject(r))}},{key:"_calcRectDimensionFromPoint",value:function(e,t){var n=this.getCanvas(),i=n.getWidth(),o=n.getHeight(),r=this._startX,a=this._startY,s=(0,c.clamp)(e,0,r),l=(0,c.clamp)(t,0,a),u=(0,c.clamp)(e,r,i)-s,d=(0,c.clamp)(t,a,o)-l;return this._withShiftKey&&(u>d?d=u:d>u&&(u=d),r>=e&&(s=r-u),a>=t&&(l=a-d)),{left:s,top:l,width:u,height:d}}},{key:"_onFabricMouseUp",value:function(){var e=this._cropzone,t=this._listeners,n=this.getCanvas();n.setActiveObject(e),n.off({"mouse:move":t.mousemove,"mouse:up":t.mouseup})}},{key:"getCroppedImageData",value:function(e){var t=this.getCanvas(),n=t.contains(this._cropzone);if(!e)return null;n&&t.remove(this._cropzone);var i={imageName:this.getImageName(),url:t.toDataURL(e)};return n&&t.add(this._cropzone),i}},{key:"getCropzoneRect",value:function(){var e=this._cropzone;return e.isValid()?{left:e.left,top:e.top,width:e.width,height:e.height}:null}},{key:"setCropzoneRect",value:function(e){var t=this.getCanvas(),n=this._cropzone;t.discardActiveObject(),t.selection=!1,t.remove(n),n.set(e?this._getPresetPropertiesForCropSize(e):d),t.add(n),t.selection=!0,e&&t.setActiveObject(n)}},{key:"_getPresetPropertiesForCropSize",value:function(e){var t=this.getCanvas(),n=t.getWidth(),i=t.getHeight(),r=n>=i?n:i,a=function(e,t){return e>t?t/e:1},s=r*e,l=r,u=a(s,n),d=o.default.map([s,l],function(e){return e*u});s=d[0];var h=a(l=d[1],i),p=o.default.map([s,l],function(e){return(0,c.fixFloatingPoint)(e*h)});return s=p[0],{presetRatio:e,top:(i-(l=p[1]))/2,left:(n-s)/2,width:s,height:l}}},{key:"_onKeyDown",value:function(e){e.keyCode===l.keyCodes.SHIFT&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(e){e.keyCode===l.keyCodes.SHIFT&&(this._withShiftKey=!1)}}]),t}();t.default=h},"./src/js/component/filter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("tui-code-snippet"),r=p(n("fabric")),a=p(n("./src/js/interface/component.js")),s=n("./src/js/util.js"),l=n("./src/js/consts.js"),c=p(n("./src/js/extension/mask.js")),u=p(n("./src/js/extension/sharpen.js")),d=p(n("./src/js/extension/emboss.js")),h=p(n("./src/js/extension/colorFilter.js"));function p(e){return e&&e.__esModule?e:{default:e}}var m=r.default.Image.filters;m.Mask=c.default,m.Sharpen=u.default,m.Emboss=d.default,m.ColorFilter=h.default;var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.FILTER,e))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"add",value:function(e,t){var n=this;return new s.Promise(function(i,o){var r=n._getSourceImage(),a=n.getCanvas(),s=n._getFilter(r,e);s||(s=n._createFilter(r,e,t)),s||o(l.rejectMessages.invalidParameters),n._changeFilterValues(s,t),n._apply(r,function(){a.renderAll(),i({type:e,action:"add",options:t})})})}},{key:"remove",value:function(e){var t=this;return new s.Promise(function(n,i){var o=t._getSourceImage(),r=t.getCanvas(),a=t.getOptions(e);o.filters.length||i(l.rejectMessages.unsupportedOperation),t._removeFilter(o,e),t._apply(o,function(){r.renderAll(),n({type:e,action:"remove",options:a})})})}},{key:"hasFilter",value:function(e){return!!this._getFilter(this._getSourceImage(),e)}},{key:"getOptions",value:function(e){var t=this._getSourceImage(),n=this._getFilter(t,e);return n?(0,o.extend)({},n.options):null}},{key:"_changeFilterValues",value:function(e,t){(0,o.forEach)(t,function(t,n){(0,o.isUndefined)(e[n])||(e[n]=t)}),(0,o.forEach)(e.options,function(n,i){(0,o.isUndefined)(t[i])||(e.options[i]=t[i])})}},{key:"_apply",value:function(e,t){e.filters.push(),e.applyFilters()&&t()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(e,t,n){var i=void 0,o=this._getFabricFilterType(t),a=r.default.Image.filters[o];return a&&((i=new a(n)).options=n,e.filters.push(i)),i}},{key:"_getFilter",value:function(e,t){var n=null;if(e){var i=this._getFabricFilterType(t),o=e.filters.length,r=void 0,a=void 0;for(a=0;a<o;a+=1)if((r=e.filters[a]).type===i){n=r;break}}return n}},{key:"_removeFilter",value:function(e,t){var n=this._getFabricFilterType(t);e.filters=(0,o.filter)(e.filters,function(e){return e.type!==n})}},{key:"_getFabricFilterType",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}]),t}();t.default=f},"./src/js/component/flip.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n("tui-code-snippet")),r=l(n("./src/js/interface/component.js")),a=n("./src/js/util.js"),s=n("./src/js/consts.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.componentNames.FLIP,e))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"getCurrentSetting",value:function(){var e=this.getCanvasImage();return{flipX:e.flipX,flipY:e.flipY}}},{key:"set",value:function(e){var t=this.getCurrentSetting(),n=t.flipX!==e.flipX,i=t.flipY!==e.flipY;return n||i?(o.default.extend(t,e),this.setImageProperties(t,!0),this._invertAngle(n,i),this._flipObjects(n,i),a.Promise.resolve({flipX:t.flipX,flipY:t.flipY,angle:this.getCanvasImage().angle})):a.Promise.reject(s.rejectMessages.flip)}},{key:"_invertAngle",value:function(e,t){var n=this.getCanvasImage(),i=n.angle;e&&(i*=-1),t&&(i*=-1),n.rotate(parseFloat(i)).setCoords()}},{key:"_flipObjects",value:function(e,t){var n=this.getCanvas();e&&n.forEachObject(function(e){e.set({angle:parseFloat(-1*e.angle),flipX:!e.flipX,left:n.width-e.left}).setCoords()}),t&&n.forEachObject(function(e){e.set({angle:parseFloat(-1*e.angle),flipY:!e.flipY,top:n.height-e.top}).setCoords()}),n.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var e=this.getCurrentSetting();return this.set({flipX:!e.flipX,flipY:e.flipY})}},{key:"flipY",value:function(){var e=this.getCurrentSetting();return this.set({flipX:e.flipX,flipY:!e.flipY})}}]),t}();t.default=c},"./src/js/component/freeDrawing.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n("fabric")),r=s(n("./src/js/interface/component.js")),a=n("./src/js/consts.js");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.componentNames.FREE_DRAWING,e));return n.width=12,n.oColor=new o.default.Color("rgba(0, 0, 0, 0.5)"),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"start",value:function(e){this.getCanvas().isDrawingMode=!0,this.setBrush(e)}},{key:"setBrush",value:function(e){var t=this.getCanvas().freeDrawingBrush;e=e||{},this.width=e.width||this.width,e.color&&(this.oColor=new o.default.Color(e.color)),t.width=this.width,t.color=this.oColor.toRgba()}},{key:"end",value:function(){this.getCanvas().isDrawingMode=!1}}]),t}();t.default=l},"./src/js/component/icon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n("tui-code-snippet")),r=c(n("fabric")),a=c(n("./src/js/interface/component.js")),s=n("./src/js/util.js"),l=n("./src/js/consts.js");function c(e){return e&&e.__esModule?e:{default:e}}var u={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.ICON,e));return n._oColor="#000000",n._pathMap=u,n._type=null,n._iconColor=null,n._handlers={mousedown:n._onFabricMouseDown.bind(n),mousemove:n._onFabricMouseMove.bind(n),mouseup:n._onFabricMouseUp.bind(n)},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"setStates",value:function(e,t){this._type=e,this._iconColor=t}},{key:"start",value:function(){var e=this.getCanvas();e.selection=!1,e.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var e=this.getCanvas();e.selection=!0,e.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(e,t){var n=this;return new s.Promise(function(i,r){var a=n.getCanvas(),s=n._pathMap[e],c=l.fObjectOptions.SELECTION_STYLE,u=s?n._createIcon(s):null;n._icon=u,u||r(l.rejectMessages.invalidParameters),u.set(o.default.extend({type:"icon",fill:n._oColor},c,t,n.graphics.controlStyle)),a.add(u).setActiveObject(u),i(n.graphics.createObjectProperties(u))})}},{key:"registerPaths",value:function(e){var t=this;o.default.forEach(e,function(e,n){t._pathMap[n]=e},this)}},{key:"setColor",value:function(e,t){this._oColor=e,t&&"icon"===t.get("type")&&(t.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(e){return e.fill}},{key:"_createIcon",value:function(e){return new r.default.Path(e)}},{key:"_onFabricMouseDown",value:function(e){var t=this,n=this.getCanvas();this._startPoint=n.getPointer(e.e);var i=this._startPoint,o=i.x,r=i.y;this.add(this._type,{left:o,top:r,fill:this._iconColor}).then(function(){t.fire(l.eventNames.ADD_OBJECT,t.graphics.createObjectProperties(t._icon)),n.on("mouse:move",t._handlers.mousemove),n.on("mouse:up",t._handlers.mouseup)})}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas();if(this._icon){var n=t.getPointer(e.e),i=(n.x-this._startPoint.x)/this._icon.width,o=(n.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs(2*i),scaleY:Math.abs(2*o)}),this._icon.setCoords(),t.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var e=this.getCanvas();this.fire(l.eventNames.OBJECT_ADDED,this.graphics.createObjectProperties(this._icon)),this._icon=null,e.off("mouse:down",this._handlers.mousedown),e.off("mouse:move",this._handlers.mousemove),e.off("mouse:up",this._handlers.mouseup)}}]),t}();t.default=d},"./src/js/component/imageLoader.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./src/js/interface/component.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/util.js"),l=n("./src/js/consts.js");var c={padding:0,crossOrigin:"Anonymous"},u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.IMAGE_LOADER,e))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"load",value:function(e,t){var n=this,i=void 0;if(e||t)i=this._setBackgroundImage(t).then(function(t){return n.setCanvasImage(e,t),n.adjustCanvasDimension(),t});else{var o=this.getCanvas();o.backgroundImage=null,o.renderAll(),i=new s.Promise(function(e){n.setCanvasImage("",null),e()})}return i}},{key:"_setBackgroundImage",value:function(e){var t=this;return e?new s.Promise(function(n,i){var o=t.getCanvas();o.setBackgroundImage(e,function(){var e=o.backgroundImage;e&&e.getElement()?n(e):i(l.rejectMessages.loadingImageFailed)},c)}):s.Promise.reject(l.rejectMessages.loadImage)}}]),t}();t.default=u},"./src/js/component/line.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n("tui-code-snippet")),r=c(n("fabric")),a=c(n("./src/js/interface/component.js")),s=c(n("./src/js/extension/arrowLine.js")),l=n("./src/js/consts.js");function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.LINE,e));return n._width=12,n._oColor=new r.default.Color("rgba(0, 0, 0, 0.5)"),n._listeners={mousedown:n._onFabricMouseDown.bind(n),mousemove:n._onFabricMouseMove.bind(n),mouseup:n._onFabricMouseUp.bind(n)},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"setHeadOption",value:function(e){var t=e.arrowType,n=void 0===t?{head:null,tail:null}:t;this._arrowType=n}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getCanvas();t.defaultCursor="crosshair",t.selection=!1,this.setHeadOption(e),this.setBrush(e),t.forEachObject(function(e){e.set({evented:!1})}),t.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(e){var t=this.getCanvas().freeDrawingBrush;e=e||{},this._width=e.width||this._width,e.color&&(this._oColor=new r.default.Color(e.color)),t.width=this._width,t.color=this._oColor.toRgba()}},{key:"end",value:function(){var e=this.getCanvas();e.defaultCursor="default",e.selection=!0,e.forEachObject(function(e){e.set({evented:!0})}),e.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e),i=n.x,o=n.y,r=[i,o,i,o];this._line=new s.default(r,{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(l.fObjectOptions.SELECTION_STYLE),t.add(this._line),t.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(l.eventNames.ADD_OBJECT,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e);this._line.set({x2:n.x,y2:n.y}),this._line.setCoords(),t.renderAll()}},{key:"_onFabricMouseUp",value:function(){var e=this.getCanvas();this.fire(l.eventNames.OBJECT_ADDED,this._createLineEventObjectProperties()),this._line=null,e.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var e=this.graphics.createObjectProperties(this._line),t=this._line,n=t.x1,i=t.x2,r=t.y1,a=t.y2;return o.default.extend({},e,{startPosition:{x:n,y:r},endPosition:{x:i,y:a}})}}]),t}();t.default=u},"./src/js/component/resize.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./src/js/util.js"),a=n("./src/js/interface/component.js"),s=(i=a)&&i.__esModule?i:{default:i},l=n("./src/js/consts.js");var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.RESIZE,e));return n._dimensions=null,n._originalDimensions=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"getCurrentDimensions",value:function(){var e=this.getCanvasImage();if(!this._dimensions&&e){var t=e.width,n=e.height;this._dimensions={width:t,height:n}}return this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(e){this._originalDimensions=e}},{key:"resize",value:function(e){var t=this.getCanvasImage(),n=t.width,i=t.height,o=t.scaleX,a=t.scaleY,s=e.width,l=e.height,c={scaleX:s?s/n:o,scaleY:l?l/i:a};return o===c.scaleX&&a===c.scaleY||(t.set(c).setCoords(),this._dimensions={width:t.width*t.scaleX,height:t.height*t.scaleY}),this.adjustCanvasDimensionBase(),r.Promise.resolve()}},{key:"start",value:function(){var e=this.getCurrentDimensions();this.setOriginalDimensions(e)}},{key:"end",value:function(){}}]),t}();t.default=c},"./src/js/component/rotation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n("fabric")),r=l(n("./src/js/interface/component.js")),a=n("./src/js/util.js"),s=n("./src/js/consts.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.componentNames.ROTATION,e))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(e){var t=this.getCurrentAngle()%360;e%=360;var n=this.getCanvasImage(),i=n.getCenterPoint();n.set({angle:e}).setCoords(),this.adjustCanvasDimension();var o=n.getCenterPoint();return this._rotateForEachObject(i,o,e-t),a.Promise.resolve(e)}},{key:"_rotateForEachObject",value:function(e,t,n){var i=this.getCanvas(),r=e.x-t.x,a=e.y-t.y;i.forEachObject(function(t){var i=t.getCenterPoint(),s=o.default.util.degreesToRadians(n),l=o.default.util.rotatePoint(i,e,s);t.set({left:l.x-r,top:l.y-a,angle:(t.angle+n)%360}),t.setCoords()}),i.renderAll()}},{key:"rotate",value:function(e){var t=this.getCurrentAngle();return this.setAngle(t+e)}}]),t}();t.default=c},"./src/js/component/shape.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("tui-code-snippet"),r=d(n("fabric")),a=d(n("./src/js/interface/component.js")),s=d(n("./src/js/helper/shapeResizeHelper.js")),l=n("./src/js/helper/shapeFilterFillHelper.js"),c=n("./src/js/util.js"),u=n("./src/js/consts.js");function d(e){return e&&e.__esModule?e:{default:e}}var h=(0,o.extend)({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},u.SHAPE_DEFAULT_OPTIONS),p="rect";function m(e,t,n){var i=e.fill,r=(0,c.getFillTypeFromOption)(e.fill),a=i;i.color&&(a=i.color);var s=null;if("filter"===r){var u=n();s=(0,l.makeFillPatternForFilter)(t,i.filter,u)}else s={fill:a};return(0,o.extend)({},e,s)}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u.componentNames.SHAPE,e));return n._shapeObj=null,n._type=p,n._options=(0,o.extend)({},h),n._isSelected=!1,n._startPoint={},n._withShiftKey=!1,n._handlers={mousedown:n._onFabricMouseDown.bind(n),mousemove:n._onFabricMouseMove.bind(n),mouseup:n._onFabricMouseUp.bind(n),keydown:n._onKeyDown.bind(n),keyup:n._onKeyUp.bind(n)},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"start",value:function(){var e=this.getCanvas();this._isSelected=!1,e.defaultCursor="crosshair",e.selection=!1,e.uniformScaling=!0,e.on({"mouse:down":this._handlers.mousedown}),r.default.util.addListener(document,"keydown",this._handlers.keydown),r.default.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var e=this.getCanvas();this._isSelected=!1,e.defaultCursor="default",e.selection=!0,e.uniformScaling=!1,e.off({"mouse:down":this._handlers.mousedown}),r.default.util.removeListener(document,"keydown",this._handlers.keydown),r.default.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(e,t){this._type=e,t&&(this._options=(0,o.extend)(this._options,t))}},{key:"add",value:function(e,t){var n=this;return new c.Promise(function(i){var o=n.getCanvas(),r=n._extendOptions(t),a=n._createInstance(e,r),s=n.graphics.createObjectProperties(a);n._bindEventOnShape(a),o.add(a).setActiveObject(a),n._resetPositionFillFilter(a),i(s)})}},{key:"change",value:function(e,t){var n=this;return new c.Promise(function(i,o){(0,c.isShape)(e)||o(u.rejectMessages.unsupportedType);var r="filter"===(0,c.getFillTypeFromOption)(t.fill),a=n.graphics,s=a.canvasImage,l=a.createStaticCanvas;e.set(r?m(t,s,l):t),r&&n._resetPositionFillFilter(e),n.getCanvas().renderAll(),i()})}},{key:"makeFillPropertyForUserEvent",value:function(e){var t=(0,c.getFillTypeFromObject)(e),n={};if(t===u.SHAPE_FILL_TYPE.FILTER){var i=(0,l.getFillImageFromShape)(e),o=(0,l.makeFilterOptionFromFabricImage)(i);n.type=t,n.filter=o}else n.type=u.SHAPE_FILL_TYPE.COLOR,n.color=e.fill||"transparent";return n}},{key:"processForCopiedObject",value:function(e,t){if(this._bindEventOnShape(e),"filter"===(0,c.getFillTypeFromObject)(e)){var n=(0,l.getFillImageFromShape)(t),i=(0,l.makeFilterOptionFromFabricImage)(n),o=this.graphics.createStaticCanvas();e.set((0,l.makeFillPatternForFilter)(this.graphics.canvasImage,i,o)),this._resetPositionFillFilter(e)}}},{key:"_createInstance",value:function(e,t){var n=void 0;switch(e){case"rect":n=new r.default.Rect(t);break;case"circle":n=new r.default.Ellipse((0,o.extend)({type:"circle"},t));break;case"triangle":n=new r.default.Triangle(t);break;default:n={}}return n}},{key:"_extendOptions",value:function(e){var t=u.fObjectOptions.SELECTION_STYLE,n=this.graphics,i=n.canvasImage,r=n.createStaticCanvas;return m(e=(0,o.extend)({},h,this._options,t,e),i,r)}},{key:"_bindEventOnShape",value:function(e){var t=this,n=this.getCanvas();e.on({added:function(){t._shapeObj=this,s.default.setOrigins(t._shapeObj)},selected:function(){t._isSelected=!0,t._shapeObj=this,n.uniformScaling=!0,n.defaultCursor="default",s.default.setOrigins(t._shapeObj)},deselected:function(){t._isSelected=!1,t._shapeObj=null,n.defaultCursor="crosshair",n.uniformScaling=!1},modified:function(){var e=t._shapeObj;s.default.adjustOriginToCenter(e),s.default.setOrigins(e)},modifiedInGroup:function(n){t._fillFilterRePositionInGroupSelection(e,n)},moving:function(){t._resetPositionFillFilter(this)},rotating:function(){t._resetPositionFillFilter(this)},scaling:function(e){var i=n.getPointer(e.e),o=t._shapeObj;n.setCursor("crosshair"),s.default.resize(o,i,!0),t._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(e){if(e.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var t=this.getCanvas();this._startPoint=t.getPointer(e.e),t.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(e){var t=this,n=this.getCanvas(),i=n.getPointer(e.e),o=this._startPoint.x,r=this._startPoint.y,a=o-i.x,l=r-i.y,c=this._shapeObj;c?(this._shapeObj.set({isRegular:this._withShiftKey}),s.default.resize(c,i),n.renderAll(),this._resetPositionFillFilter(c)):this.add(this._type,{left:o,top:r,width:a,height:l}).then(function(e){t.fire(u.eventNames.ADD_OBJECT,e)})}},{key:"_onFabricMouseUp",value:function(){var e=this,t=this.getCanvas(),n=this._startPoint.x,i=this._startPoint.y,o=this._shapeObj;o?o&&(s.default.adjustOriginToCenter(o),this.fire(u.eventNames.OBJECT_ADDED,this.graphics.createObjectProperties(o))):this.add(this._type,{left:n,top:i,width:20,height:20}).then(function(t){e.fire(u.eventNames.ADD_OBJECT,t)}),t.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(e){e.keyCode===u.keyCodes.SHIFT&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(e){e.keyCode===u.keyCodes.SHIFT&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(e){if("filter"===(0,c.getFillTypeFromObject)(e)){var t=(0,c.getCustomProperty)(e,"patternSourceCanvas").patternSourceCanvas,n=(0,l.getFillImageFromShape)(e),i=(0,c.getCustomProperty)(n,"originalAngle").originalAngle;this.graphics.canvasImage.angle!==i&&(0,l.reMakePatternImageSource)(e,this.graphics.canvasImage);var o=e.originX,r=e.originY;s.default.adjustOriginToCenter(e),e.width*=e.scaleX,e.height*=e.scaleY,e.rx*=e.scaleX,e.ry*=e.scaleY,e.scaleX=1,e.scaleY=1,(0,l.rePositionFilterTypeFillImage)(e),(0,c.changeOrigin)(e,{originX:o,originY:r}),(0,l.resetFillPatternCanvas)(t)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(e,t){1===t.scaleX&&1===t.scaleY||t.addWithUpdate();var n=e.angle,i=e.left,o=e.top;r.default.util.addTransformToObject(e,t.calcTransformMatrix()),this._resetPositionFillFilter(e),e.set({angle:n,left:i,top:o})}}]),t}();t.default=f},"./src/js/component/text.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n("tui-code-snippet")),r=c(n("fabric")),a=c(n("./src/js/interface/component.js")),s=n("./src/js/util.js"),l=n("./src/js/consts.js");function c(e){return e&&e.__esModule?e:{default:e}}var u={fill:"#000000",left:0,top:0},d={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.componentNames.TEXT,e));return n._defaultStyles=u,n._isSelected=!1,n._selectedObj={},n._editingObj={},n._listeners={mousedown:n._onFabricMouseDown.bind(n),select:n._onFabricSelect.bind(n),selectClear:n._onFabricSelectClear.bind(n),scaling:n._onFabricScaling.bind(n),textChanged:n._onFabricTextChanged.bind(n)},n._textarea=null,n._ratio=1,n._lastClickTime=(new Date).getTime(),n._editingObjInfos={},n.isPrevEditing=!1,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"start",value:function(){var e=this,t=this.getCanvas();t.selection=!1,t.defaultCursor="text",t.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),t.forEachObject(function(t){"i-text"===t.type&&e.adjustOriginPosition(t,"start")}),this.setCanvasRatio()}},{key:"end",value:function(){var e=this,t=this.getCanvas();t.selection=!0,t.defaultCursor="default",t.forEachObject(function(n){"i-text"===n.type&&(""===n.text?t.remove(n):e.adjustOriginPosition(n,"end"))}),t.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(e,t){var n="center",i="center";"start"===t&&(n="left",i="top");var o=e.getPointByOrigin(n,i),r=o.x,a=o.y;e.set({left:r,top:a,originX:n,originY:i}),e.setCoords()}},{key:"add",value:function(e,t){var n=this;return new s.Promise(function(i){var a=n.getCanvas(),s=null,c=l.fObjectOptions.SELECTION_STYLE,u=n._defaultStyles;n._setInitPos(t.position),t.styles&&(u=o.default.extend(u,t.styles)),o.default.isExisty(t.autofocus)||(t.autofocus=!0),s=new r.default.IText(e,u),c=o.default.extend({},c,{originX:"left",originY:"top"}),s.set(c),s.on({mouseup:n._onFabricMouseUp.bind(n)}),a.add(s),t.autofocus&&(s.enterEditing(),s.selectAll()),a.getActiveObject()||a.setActiveObject(s),n.isPrevEditing=!0,i(n.graphics.createObjectProperties(s))})}},{key:"change",value:function(e,t){var n=this;return new s.Promise(function(i){e.set("text",t),n.getCanvas().renderAll(),i()})}},{key:"setStyle",value:function(e,t){var n=this;return new s.Promise(function(i){o.default.forEach(t,function(n,i){e[i]===n&&"fontSize"!==i&&(t[i]=d[i]||"")},n),"textDecoration"in t&&o.default.extend(t,n._getTextDecorationAdaptObject(t.textDecoration)),e.set(t),n.getCanvas().renderAll(),i()})}},{key:"getText",value:function(e){return e.text}},{key:"setSelectedInfo",value:function(e,t){this._selectedObj=e,this._isSelected=t}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var e=this.getCanvasElement(),t=parseInt(e.style.maxWidth,10),n=e.width;this._ratio=n/t}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(e){return{underline:"underline"===e,linethrough:"line-through"===e,overline:"overline"===e}}},{key:"_setInitPos",value:function(e){e=e||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=e.x,this._defaultStyles.top=e.y}},{key:"_onInput",value:function(){var e=this.getCanvasRatio(),t=this._editingObj,n=this._textarea.style;n.width=Math.ceil(t.width/e)+"px",n.height=Math.ceil(t.height/e)+"px"}},{key:"_onKeyDown",value:function(){var e=this,t=this.getCanvasRatio(),n=this._editingObj,i=this._textarea.style;setTimeout(function(){n.text(e._textarea.value),i.width=Math.ceil(n.width/t)+"px",i.height=Math.ceil(n.height/t)+"px"},0)}},{key:"_onBlur",value:function(){var e=this.getCanvasRatio(),t=this._editingObj,n=this._editingObjInfos,i=this._textarea.value,r=t.width/e-n.width/e,a=t.height/e-n.height/e;if(1===e&&(r/=2,a/=2),this._textarea.style.display="none",t.set({left:n.left+r,top:n.top+a}),i.length){this.getCanvas().add(t);var s={id:o.default.stamp(t),type:t.type,text:i};this.fire(l.eventNames.TEXT_CHANGED,s)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(e){var t=e.target;t.fontSize=t.fontSize*t.scaleY,t.scaleX=1,t.scaleY=1}},{key:"_onFabricTextChanged",value:function(e){this.fire(l.eventNames.TEXT_CHANGED,e.target)}},{key:"_onFabricSelectClear",value:function(e){var t=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(e.target,!1),t&&""===t.text&&this.getCanvas().remove(t)}},{key:"_onFabricSelect",value:function(e){this.isPrevEditing=!0,this.setSelectedInfo(e.target,!0)}},{key:"_onFabricMouseDown",value:function(e){var t=e.target;t&&!t.isType("text")||(this.isPrevEditing?this.isPrevEditing=!1:this._fireAddText(e))}},{key:"_fireAddText",value:function(e){var t=e.target,n=e.e||{},i=this.getCanvas().getPointer(n);t||this.fire(l.eventNames.ADD_TEXT,{originPosition:{x:i.x,y:i.y},clientPosition:{x:n.clientX||0,y:n.clientY||0}})}},{key:"_onFabricMouseUp",value:function(e){var t=e.target,n=(new Date).getTime();this._isDoubleClick(n)&&!t.isEditing&&t.enterEditing(),t.isEditing&&this.fire(l.eventNames.TEXT_EDITING),this._lastClickTime=n}},{key:"_isDoubleClick",value:function(e){return e-this._lastClickTime<500}}]),t}();t.default=h},"./src/js/component/zoom.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n("fabric")),r=l(n("./src/js/interface/component.js")),a=n("./src/js/util.js"),s=n("./src/js/consts.js");function l(e){return e&&e.__esModule?e:{default:e}}var c={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},u=.0045,d=.003,h=.003,p=.0066,m=.0044,f=.003,g=1,v=s.eventNames.ZOOM_CHANGED,b=s.eventNames.ADD_TEXT,y=s.eventNames.TEXT_EDITING,_=s.eventNames.OBJECT_MODIFIED,j=s.eventNames.KEY_DOWN,k=s.eventNames.KEY_UP,E=s.eventNames.HAND_STARTED,x=s.eventNames.HAND_STOPPED,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.componentNames.ZOOM,e));n.zoomArea=null,n._startPoint=null,n._centerPoints=[],n.zoomLevel=g,n.zoomMode=s.zoomModes.DEFAULT,n._listeners={startZoom:n._onMouseDownWithZoomMode.bind(n),moveZoom:n._onMouseMoveWithZoomMode.bind(n),stopZoom:n._onMouseUpWithZoomMode.bind(n),startHand:n._onMouseDownWithHandMode.bind(n),moveHand:n._onMouseMoveWithHandMode.bind(n),stopHand:n._onMouseUpWithHandMode.bind(n),zoomChanged:n._changeScrollState.bind(n),keydown:n._startHandModeWithSpaceBar.bind(n),keyup:n._endHandModeWithSpaceBar.bind(n)};var i=n.getCanvas();return n.aspectRatio=i.width/i.height,n._verticalScroll=new o.default.Rect(c),n._horizontalScroll=new o.default.Rect(c),i.on(v,n._listeners.zoomChanged),n.graphics.on(b,n._startTextEditingHandler.bind(n)),n.graphics.on(y,n._startTextEditingHandler.bind(n)),n.graphics.on(_,n._stopTextEditingHandler.bind(n)),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"attachKeyboardZoomEvents",value:function(){o.default.util.addListener(document,j,this._listeners.keydown),o.default.util.addListener(document,k,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){o.default.util.removeListener(document,j,this._listeners.keydown),o.default.util.removeListener(document,k,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(e){this.withSpace||this.isTextEditing||e.keyCode===s.keyCodes.SPACE&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(e){e.keyCode===s.keyCodes.SPACE&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=s.zoomModes.ZOOM;var e=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new o.default.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),e.discardActiveObject(),e.add(this.zoomArea),e.on("mouse:down",this._listeners.startZoom),e.selection=!1,e.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=s.zoomModes.DEFAULT;var e=this.getCanvas(),t=this._listeners,n=t.startZoom,i=t.moveZoom,o=t.stopZoom;e.selection=!0,e.defaultCursor="auto",e.off({"mouse:down":n,"mouse:move":i,"mouse:up":o}),this._changeObjectsEventedState(!0),e.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=s.zoomModes.HAND;var e=this.getCanvas();this._changeObjectsEventedState(!1),e.discardActiveObject(),e.off("mouse:down",this._listeners.startHand),e.on("mouse:down",this._listeners.startHand),e.selection=!1,e.defaultCursor="grab",e.fire(E)}},{key:"endHandMode",value:function(){this.zoomMode=s.zoomModes.DEFAULT;var e=this.getCanvas();this._changeObjectsEventedState(!0),e.off("mouse:down",this._listeners.startHand),e.selection=!0,e.defaultCursor="auto",this._startHandPoint=null,e.fire(x)}},{key:"_onMouseDownWithZoomMode",value:function(e){var t=e.target,n=e.e;if(!t){var i=this.getCanvas();i.selection=!1,this._startPoint=i.getPointer(n),this.zoomArea.set({width:0,height:0});var o=this._listeners,r=o.moveZoom,a=o.stopZoom;i.on({"mouse:move":r,"mouse:up":a})}}},{key:"_onMouseMoveWithZoomMode",value:function(e){var t=e.e,n=this.getCanvas(),i=n.getPointer(t),o=i.x,r=i.y,a=this.zoomArea,s=this._startPoint;Math.abs(o-s.x)+Math.abs(r-s.y)>10&&(n.remove(a),a.set(this._calcRectDimensionFromPoint(o,r)),n.add(a))}},{key:"_calcRectDimensionFromPoint",value:function(e,t){var n=this.getCanvas(),i=n.getWidth(),o=n.getHeight(),r=this._startPoint,s=r.x,l=r.y,c=Math.min,u=c(s,e),d=c(l,t);return{left:u,top:d,width:(0,a.clamp)(e,s,i)-u,height:(0,a.clamp)(t,l,o)-d}}},{key:"_onMouseUpWithZoomMode",value:function(){var e=this.zoomLevel,t=this.zoomArea,n=this._listeners,i=n.moveZoom,o=n.stopZoom,r=this.getCanvas(),a=this._getCenterPoint(),s=a.x,l=a.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:s,y:l,prevZoomLevel:e,zoomLevel:e+1}),e+=1,r.zoomToPoint({x:s,y:l},e),this._fireZoomChanged(r,e),this.zoomLevel=e),r.off({"mouse:move":i,"mouse:up":o}),r.remove(t),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var e=this.zoomArea,t=e.left,n=e.top,i=e.width,o=e.height,r=this._startPoint,a=r.x,s=r.y,l=this.aspectRatio;return i<10&&o<10?{x:a,y:s}:i>o?{x:t+l*o/2,y:n+o/2}:{x:t+i/2,y:n+i/l/2}}},{key:"zoom",value:function(e){for(var t=e.x,n=e.y,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoomLevel,o=this.getCanvas(),r=this._centerPoints,a=r.length-1;a>=0&&!(r[a].zoomLevel<i);a-=1){var s=r.pop(),l=s.x,c=s.y,u=s.prevZoomLevel;o.zoomToPoint({x:l,y:c},u),this.zoomLevel=u}o.zoomToPoint({x:t,y:n},i),this._isDefaultZoomLevel(i)||this._centerPoints.push({x:t,y:n,zoomLevel:i,prevZoomLevel:this.zoomLevel}),this.zoomLevel=i,this._fireZoomChanged(o,i)}},{key:"zoomOut",value:function(){var e=this._centerPoints;if(e.length){var t=this.getCanvas(),n=e.pop(),i=n.x,o=n.y,r=n.prevZoomLevel;this._isDefaultZoomLevel(r)?t.setViewportTransform([1,0,0,1,0,0]):t.zoomToPoint({x:i,y:o},r),this.zoomLevel=r,this._fireZoomChanged(t,this.zoomLevel)}}},{key:"resetZoom",value:function(){var e=this.getCanvas();e.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=g,this._centerPoints=[],this._fireZoomChanged(e,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(e){var t=e.x,n=e.y,i=this._centerPoints;if(i.length){var o=this.getCanvas(),r=this.zoomLevel,a=i.pop(),s=a.x,l=a.y,c=a.prevZoomLevel,u=s-t,d=l-n;o.zoomToPoint({x:s,y:l},c),o.zoomToPoint({x:u,y:d},r),i.push({x:u,y:d,prevZoomLevel:c,zoomLevel:r}),this._fireZoomChanged(o,r)}}},{key:"_onMouseDownWithHandMode",value:function(e){var t=e.target,n=e.e;if(!t){var i=this.getCanvas();if(!(this.zoomLevel<=g)){i.selection=!1,this._startHandPoint=i.getPointer(n);var o=this._listeners,r=o.moveHand,a=o.stopHand;i.on({"mouse:move":r,"mouse:up":a})}}}},{key:"_onMouseMoveWithHandMode",value:function(e){var t=e.e,n=this.getCanvas().getPointer(t),i=n.x,o=n.y,r=i-this._startHandPoint.x,a=o-this._startHandPoint.y;this._movePointOfZoom({x:r,y:a})}},{key:"_onMouseUpWithHandMode",value:function(){var e=this.getCanvas(),t=this._listeners,n=t.moveHand,i=t.stopHand;e.off({"mouse:move":n,"mouse:up":i}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(e){var t=e.viewport,n=e.zoomLevel,i=this.getCanvas();if(i.remove(this._verticalScroll),i.remove(this._horizontalScroll),!this._isDefaultZoomLevel(n)){var o=i.width,r=i.height,s=t.tl,l=t.tr,c=t.bl,g=l.x-s.x,v=c.y-s.y,b=g*g/o,y=v*p,_=(0,a.clamp)(s.x+s.x/o*g,s.x,l.x-b),j=v*m,k=v*f;this._horizontalScroll.set({left:_,top:c.y-y-j,width:b,height:y,rx:k,ry:k});var E=g*u,x=v*v/r,w=(0,a.clamp)(s.y+s.y/r*v,l.y,c.y-x),O=g*d,C=g*h;this._verticalScroll.set({left:l.x-E-O,top:w,width:E,height:x,rx:C,ry:C}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getCanvas().forEachObject(function(t){t.evented=e})}},{key:"_addScrollBar",value:function(){var e=this,t=this.getCanvas();t.add(this._horizontalScroll),t.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=setTimeout(function(){t.remove(e._horizontalScroll),t.remove(e._verticalScroll)},3e3)}},{key:"_isDefaultZoomLevel",value:function(e){return e===g}},{key:"_fireZoomChanged",value:function(e,t){e.fire(v,{viewport:e.calcViewportBoundaries(),zoomLevel:t})}},{key:"mode",get:function(){return this.zoomMode}}]),t}();t.default=w},"./src/js/consts.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultResizePixelValues=t.emptyCropRectValues=t.defaultFilterRangeValues=t.defaultTextRangeValues=t.defaultShapeStrokeValues=t.defaultDrawRangeValues=t.defaultRotateRangeValues=t.defaultIconPath=t.rejectMessages=t.fObjectOptions=t.keyCodes=t.zoomModes=t.drawingMenuNames=t.drawingModes=t.historyNames=t.selectorNames=t.eventNames=t.commandNames=t.CROPZONE_DEFAULT_OPTIONS=t.SHAPE_DEFAULT_OPTIONS=t.componentNames=t.filterType=t.OBJ_TYPE=t.SHAPE_TYPE=t.SHAPE_FILL_TYPE=t.HELP_MENUS=t.DELETE_HELP_MENUS=t.COMMAND_HELP_MENUS=t.ZOOM_HELP_MENUS=void 0;var i=n("./src/js/util.js"),o=t.ZOOM_HELP_MENUS=["zoomIn","zoomOut","hand"],r=t.COMMAND_HELP_MENUS=["history","undo","redo","reset"],a=t.DELETE_HELP_MENUS=["delete","deleteAll"];t.HELP_MENUS=[].concat(o,r,a),t.SHAPE_FILL_TYPE={FILTER:"filter",COLOR:"color"},t.SHAPE_TYPE=["rect","circle","triangle"],t.OBJ_TYPE={CROPZONE:"cropzone"},t.filterType={VINTAGE:"vintage",SEPIA2:"sepia2",REMOVE_COLOR:"removeColor",COLOR_FILTER:"colorFilter",REMOVE_WHITE:"removeWhite",BLEND_COLOR:"blendColor",BLEND:"blend"},t.componentNames=(0,i.keyMirror)("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),t.SHAPE_DEFAULT_OPTIONS={lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1},t.CROPZONE_DEFAULT_OPTIONS={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},t.commandNames={CLEAR_OBJECTS:"clearObjects",LOAD_IMAGE:"loadImage",FLIP_IMAGE:"flip",ROTATE_IMAGE:"rotate",ADD_OBJECT:"addObject",REMOVE_OBJECT:"removeObject",APPLY_FILTER:"applyFilter",REMOVE_FILTER:"removeFilter",ADD_ICON:"addIcon",CHANGE_ICON_COLOR:"changeIconColor",ADD_SHAPE:"addShape",CHANGE_SHAPE:"changeShape",ADD_TEXT:"addText",CHANGE_TEXT:"changeText",CHANGE_TEXT_STYLE:"changeTextStyle",ADD_IMAGE_OBJECT:"addImageObject",RESIZE_CANVAS_DIMENSION:"resizeCanvasDimension",SET_OBJECT_PROPERTIES:"setObjectProperties",SET_OBJECT_POSITION:"setObjectPosition",CHANGE_SELECTION:"changeSelection",RESIZE_IMAGE:"resize"},t.eventNames={OBJECT_ACTIVATED:"objectActivated",OBJECT_MOVED:"objectMoved",OBJECT_SCALED:"objectScaled",OBJECT_CREATED:"objectCreated",OBJECT_ROTATED:"objectRotated",OBJECT_ADDED:"objectAdded",OBJECT_MODIFIED:"objectModified",TEXT_EDITING:"textEditing",TEXT_CHANGED:"textChanged",ICON_CREATE_RESIZE:"iconCreateResize",ICON_CREATE_END:"iconCreateEnd",ADD_TEXT:"addText",ADD_OBJECT:"addObject",ADD_OBJECT_AFTER:"addObjectAfter",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove",REDO_STACK_CHANGED:"redoStackChanged",UNDO_STACK_CHANGED:"undoStackChanged",SELECTION_CLEARED:"selectionCleared",SELECTION_CREATED:"selectionCreated",EXECUTE_COMMAND:"executeCommand",AFTER_UNDO:"afterUndo",AFTER_REDO:"afterRedo",ZOOM_CHANGED:"zoomChanged",HAND_STARTED:"handStarted",HAND_STOPPED:"handStopped",KEY_DOWN:"keydown",KEY_UP:"keyup",INPUT_BOX_EDITING_STARTED:"inputBoxEditingStarted",INPUT_BOX_EDITING_STOPPED:"inputBoxEditingStopped",FOCUS:"focus",BLUR:"blur",IMAGE_RESIZED:"imageResized"},t.selectorNames={COLOR_PICKER_INPUT_BOX:".tui-colorpicker-palette-hex"},t.historyNames={LOAD_IMAGE:"Load",LOAD_MASK_IMAGE:"Mask",ADD_MASK_IMAGE:"Mask",ADD_IMAGE_OBJECT:"Mask",CROP:"Crop",RESIZE:"Resize",APPLY_FILTER:"Filter",REMOVE_FILTER:"Filter",CHANGE_SHAPE:"Shape",CHANGE_ICON_COLOR:"Icon",ADD_TEXT:"Text",CHANGE_TEXT_STYLE:"Text",REMOVE_OBJECT:"Delete",CLEAR_OBJECTS:"Delete"},t.drawingModes=(0,i.keyMirror)("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),t.drawingMenuNames={TEXT:"text",CROP:"crop",RESIZE:"resize",SHAPE:"shape",ZOOM:"zoom"},t.zoomModes={DEFAULT:"normal",ZOOM:"zoom",HAND:"hand"},t.keyCodes={Z:90,Y:89,C:67,V:86,SHIFT:16,BACKSPACE:8,DEL:46,ARROW_DOWN:40,ARROW_UP:38,SPACE:32},t.fObjectOptions={SELECTION_STYLE:{borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1}},t.rejectMessages={addedObject:"The object is already added.",flip:"The flipX and flipY setting values are not changed.",invalidDrawingMode:"This operation is not supported in the drawing mode.",invalidParameters:"Invalid parameters.",isLock:"The executing command state is locked.",loadImage:"The background image is empty.",loadingImageFailed:"Invalid image loaded.",noActiveObject:"There is no active object.",noObject:"The object is not in canvas.",redo:"The promise of redo command is reject.",rotation:"The current angle is same the old angle.",undo:"The promise of undo command is reject.",unsupportedOperation:"Unsupported operation.",unsupportedType:"Unsupported object type."},t.defaultIconPath={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},t.defaultRotateRangeValues={realTimeEvent:!0,min:-360,max:360,value:0},t.defaultDrawRangeValues={min:5,max:30,value:12},t.defaultShapeStrokeValues={realTimeEvent:!0,min:2,max:300,value:3},t.defaultTextRangeValues={realTimeEvent:!0,min:10,max:100,value:50},t.defaultFilterRangeValues={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},t.emptyCropRectValues={LEFT:0,TOP:0,WIDTH:.5,HEIGHT:.5},t.defaultResizePixelValues={realTimeEvent:!0,min:32,max:4088,value:800}},"./src/js/drawingMode/cropper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./src/js/interface/drawingMode.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/consts.js");var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.drawingModes.CROPPER))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"start",value:function(e){e.getComponent(s.componentNames.CROPPER).start()}},{key:"end",value:function(e){e.getComponent(s.componentNames.CROPPER).end()}}]),t}();t.default=l},"./src/js/drawingMode/freeDrawing.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./src/js/interface/drawingMode.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/consts.js");var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.drawingModes.FREE_DRAWING))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"start",value:function(e,t){e.getComponent(s.componentNames.FREE_DRAWING).start(t)}},{key:"end",value:function(e){e.getComponent(s.componentNames.FREE_DRAWING).end()}}]),t}();t.default=l},"./src/js/drawingMode/icon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./src/js/interface/drawingMode.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/consts.js");var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.drawingModes.ICON))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"start",value:function(e){e.getComponent(s.componentNames.ICON).start()}},{key:"end",value:function(e){e.getComponent(s.componentNames.ICON).end()}}]),t}();t.default=l},"./src/js/drawingMode/lineDrawing.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./src/js/interface/drawingMode.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/consts.js");var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.drawingModes.LINE_DRAWING))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"start",value:function(e,t){e.getComponent(s.componentNames.LINE).start(t)}},{key:"end",value:function(e){e.getComponent(s.componentNames.LINE).end()}}]),t}();t.default=l},"./src/js/drawingMode/resize.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./src/js/interface/drawingMode.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/consts.js");var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.drawingModes.RESIZE))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"start",value:function(e){e.getComponent(s.componentNames.RESIZE).start()}},{key:"end",value:function(e){e.getComponent(s.componentNames.RESIZE).end()}}]),t}();t.default=l},"./src/js/drawingMode/shape.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./src/js/interface/drawingMode.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/consts.js");var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.drawingModes.SHAPE))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"start",value:function(e){e.getComponent(s.componentNames.SHAPE).start()}},{key:"end",value:function(e){e.getComponent(s.componentNames.SHAPE).end()}}]),t}();t.default=l},"./src/js/drawingMode/text.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./src/js/interface/drawingMode.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/consts.js");var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.drawingModes.TEXT))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"start",value:function(e){e.getComponent(s.componentNames.TEXT).start()}},{key:"end",value:function(e){e.getComponent(s.componentNames.TEXT).end()}}]),t}();t.default=l},"./src/js/drawingMode/zoom.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./src/js/interface/drawingMode.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/consts.js");var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.drawingModes.ZOOM))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"start",value:function(e){e.getComponent(s.componentNames.ZOOM).start()}},{key:"end",value:function(e){e.getComponent(s.componentNames.ZOOM).end()}}]),t}();t.default=l},"./src/js/extension/arrowLine.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("fabric"),r=(i=o)&&i.__esModule?i:{default:i};var a=r.default.util.createClass(r.default.Line,{type:"line",initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callSuper("initialize",e,t),this.arrowType=t.arrowType},_render:function(e){var t=this.calcLinePoints(),n={fromX:t.x1,fromY:t.y1,toX:t.x2,toY:t.y2};this.ctx=e,e.lineWidth=this.strokeWidth,this._renderBasicLinePath(n),this._drawDecoratorPath(n),this._renderStroke(e)},_renderBasicLinePath:function(e){var t=e.fromX,n=e.fromY,i=e.toX,o=e.toY;this.ctx.beginPath(),this.ctx.moveTo(t,n),this.ctx.lineTo(i,o)},_drawDecoratorPath:function(e){this._drawDecoratorPathType("head",e),this._drawDecoratorPathType("tail",e)},_drawDecoratorPathType:function(e,t){switch(this.arrowType[e]){case"triangle":this._drawTrianglePath(e,t);break;case"chevron":this._drawChevronPath(e,t)}},_drawTrianglePath:function(e,t){var n=1.7*this.ctx.lineWidth;this._drawChevronPath(e,t,n),this.ctx.closePath()},_drawChevronPath:function(e,t,n){var i=this,o=t.fromX,r=t.fromY,a=t.toX,s=t.toY,l=this.ctx;n||(n=2.7*this.ctx.lineWidth);var c="head"===e?[o,r]:[a,s],u=c[0],d=c[1],h="head"===e?[a,s]:[o,r],p=h[0],m=h[1],f=180*Math.atan2(m-d,p-u)/Math.PI,g=function(e){return i.getRotatePosition(n,e,{x:u,y:d})};l.moveTo.apply(l,g(f+30)),l.lineTo(u,d),l.lineTo.apply(l,g(f-30))},getRotatePosition:function(e,t,n){var i=t*Math.PI/180,o=n.x,r=n.y;return[e*Math.cos(i)+o,e*Math.sin(i)+r]}});t.default=a},"./src/js/extension/colorFilter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("fabric"),r=(i=o)&&i.__esModule?i:{default:i};var a=r.default.util.createClass(r.default.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(e){e||(e={}),this.color=e.color||"#FFFFFF",this.threshold=e.threshold||45,this.x=e.x||null,this.y=e.y||null},applyTo:function(e){var t,n=e.canvasEl,i=n.getContext("2d"),o=i.getImageData(0,0,n.width,n.height),a=o.data,s=this.threshold,l=r.default.Color.sourceFromHex(this.color),c=void 0;for(this.x&&this.y&&(l=this._getColor(o,this.x,this.y)),c=0,t=a.length;c<t;c+=4)this._isOutsideThreshold(a[c],l[0],s)||this._isOutsideThreshold(a[c+1],l[1],s)||this._isOutsideThreshold(a[c+2],l[2],s)||(a[c]=a[c+1]=a[c+2]=a[c+3]=0);i.putImageData(o,0,0)},_isOutsideThreshold:function(e,t,n){var i=e-t;return Math.abs(i)>n},_getColor:function(e,t,n){var i=[0,0,0,0],o=e.data,r=4*(e.width*n+t);return i[0]=o[r],i[1]=o[r+1],i[2]=o[r+2],i[3]=o[r+3],i}});t.default=a},"./src/js/extension/cropzone.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("tui-code-snippet")),o=s(n("fabric")),r=n("./src/js/util.js"),a=n("./src/js/consts.js");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=["tl","tr","mt","ml","mr","mb","bl","br"],u=function(){};function d(e,t){return e>t?"width":"height"}var h=o.default.util.createClass(o.default.Rect,{initialize:function(e,t,n){(t=i.default.extend(t,n)).type="cropzone",this.callSuper("initialize",t),this._addEventHandler(),this.canvas=e,this.options=t},canvasEventDelegation:function(e){var t="unregistered";return this.canvasEventTrigger[e]!==u?t="registered":[a.eventNames.OBJECT_MOVED,a.eventNames.OBJECT_SCALED].indexOf(e)<0&&(t="none"),t},canvasEventRegister:function(e,t){this.canvasEventTrigger[e]=t},_addEventHandler:function(){var e;this.canvasEventTrigger=(l(e={},a.eventNames.OBJECT_MOVED,u),l(e,a.eventNames.OBJECT_SCALED,u),e),this.on({moving:this._onMoving.bind(this),scaling:this._onScaling.bind(this)}),o.default.util.addListener(document,"keydown",this._onKeyDown.bind(this)),o.default.util.addListener(document,"keyup",this._onKeyUp.bind(this))},_renderCropzone:function(e){var t=this.flipX?-1:1,n=this.flipY?-1:1,i=t/this.scaleX,o=n/this.scaleY;e.scale(i,o),this._fillOuterRect(e,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(e),this._strokeBorder(e,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(e,"rgb(0, 0, 0)",{lineDashWidth:7}),this._strokeBorder(e,"rgb(255, 255, 255)",{lineDashWidth:7,lineDashOffset:7})),e.scale(1/i,1/o)},_render:function(e){this.callSuper("_render",e),this._renderCropzone(e)},_fillOuterRect:function(e,t){var n=this._getCoordinates(),i=n.x,o=n.y;e.save(),e.fillStyle=t,e.beginPath(),e.moveTo(i[0]-1,o[0]-1),e.lineTo(i[3]+1,o[0]-1),e.lineTo(i[3]+1,o[3]+1),e.lineTo(i[0]-1,o[3]+1),e.lineTo(i[0]-1,o[0]-1),e.closePath(),e.moveTo(i[1],o[1]),e.lineTo(i[1],o[2]),e.lineTo(i[2],o[2]),e.lineTo(i[2],o[1]),e.lineTo(i[1],o[1]),e.closePath(),e.fill(),e.restore()},_fillInnerRect:function(e){var t=this._getCoordinates(),n=t.x,i=t.y,o=this._caculateInnerPosition(n,(n[2]-n[1])/3),r=this._caculateInnerPosition(i,(i[2]-i[1])/3);e.save(),e.strokeStyle="rgba(255, 255, 255, 0.7)",e.lineWidth=this.options.lineWidth,e.beginPath(),e.moveTo(o[0],r[1]),e.lineTo(o[3],r[1]),e.moveTo(o[0],r[2]),e.lineTo(o[3],r[2]),e.moveTo(o[1],r[0]),e.lineTo(o[1],r[3]),e.moveTo(o[2],r[0]),e.lineTo(o[2],r[3]),e.stroke(),e.closePath(),e.restore()},_caculateInnerPosition:function(e,t){var n=[];return n[0]=e[1],n[1]=e[1]+t,n[2]=e[1]+2*t,n[3]=e[2],n},_getCoordinates:function(){var e=this.canvas,t=this.width,n=this.height,o=this.left,r=this.top,a=t/2,s=n/2,l=e.getHeight(),c=e.getWidth();return{x:i.default.map([-(a+o),-a,a,a+(c-o-t)],Math.ceil),y:i.default.map([-(s+r),-s,s,s+(l-r-n)],Math.ceil)}},_strokeBorder:function(e,t,n){var i=n.lineDashWidth,o=n.lineDashOffset,r=n.lineWidth,a=this.width/2,s=this.height/2;e.save(),e.strokeStyle=t,e.setLineDash&&e.setLineDash([i,i]),o&&(e.lineDashOffset=o),r&&(e.lineWidth=r),e.beginPath(),e.moveTo(-a,-s),e.lineTo(a,-s),e.lineTo(a,s),e.lineTo(-a,s),e.lineTo(-a,-s),e.stroke(),e.restore()},_onMoving:function(){var e=this.height,t=this.width,n=this.left,i=this.top,o=this.canvas.getWidth()-t,s=this.canvas.getHeight()-e;this.left=(0,r.clamp)(n,0,o),this.top=(0,r.clamp)(i,0,s),this.canvasEventTrigger[a.eventNames.OBJECT_MOVED](this)},_onScaling:function(e){var t=e.transform.corner,n=this.canvas.getPointer(e.e),i=this._calcScalingSizeFromPointer(n,t);this.scale(1).set(i),this.canvasEventTrigger[a.eventNames.OBJECT_SCALED](this)},_calcScalingSizeFromPointer:function(e,t){return function(e){return c.indexOf(e)>=0}(t)&&this._resizeCropZone(e,t)},adjustRatioCropzoneSize:function(e){var t=e.width,n=e.height,i=e.leftMaker,o=e.topMaker,a=e.maxWidth,s=e.maxHeight,l=e.scaleTo;if(t=a?(0,r.clamp)(t,1,a):t,n=s?(0,r.clamp)(n,1,s):n,!this.presetRatio)return this._withShiftKey&&(t>n?n=t:n>t&&(t=n)),{width:t,height:n,left:i(t),top:o(n)};"width"===l?n=t/this.presetRatio:t=n*this.presetRatio;var c=Math.min(a/t,s/n);if(c<=1){var u=[t,n].map(function(e){return e*c});t=u[0],n=u[1]}return{width:t,height:n,left:i(t),top:o(n)}},_getCropzoneRectInfo:function(){var e=this.canvas,t=e.width,n=e.height,i=this.getBoundingRect(!1,!0),o=i.top,r=i.left,a=i.width,s=i.height;return{rectTop:o,rectLeft:r,rectWidth:a,rectHeight:s,rectRight:r+a,rectBottom:o+s,canvasWidth:t,canvasHeight:n}},_resizeCropZone:function(e,t){var n=e.x,i=e.y,o=this._getCropzoneRectInfo(),r=o.rectWidth,a=o.rectHeight,s=o.rectTop,l=o.rectLeft,c=o.rectBottom,u=o.rectRight,h=o.canvasWidth,p=o.canvasHeight,m={tl:{width:u-n,height:c-i,leftMaker:function(e){return u-e},topMaker:function(e){return c-e},maxWidth:u,maxHeight:c,scaleTo:d(l-n,s-i)},tr:{width:n-l,height:c-i,leftMaker:function(){return l},topMaker:function(e){return c-e},maxWidth:h-l,maxHeight:c,scaleTo:d(n-u,s-i)},mt:{width:r,height:c-i,leftMaker:function(){return l},topMaker:function(e){return c-e},maxWidth:h-l,maxHeight:c,scaleTo:"height"},ml:{width:u-n,height:a,leftMaker:function(e){return u-e},topMaker:function(){return s},maxWidth:u,maxHeight:p-s,scaleTo:"width"},mr:{width:n-l,height:a,leftMaker:function(){return l},topMaker:function(){return s},maxWidth:h-l,maxHeight:p-s,scaleTo:"width"},mb:{width:r,height:i-s,leftMaker:function(){return l},topMaker:function(){return s},maxWidth:h-l,maxHeight:p-s,scaleTo:"height"},bl:{width:u-n,height:i-s,leftMaker:function(e){return u-e},topMaker:function(){return s},maxWidth:u,maxHeight:p-s,scaleTo:d(l-n,i-c)},br:{width:n-l,height:i-s,leftMaker:function(){return l},topMaker:function(){return s},maxWidth:h-l,maxHeight:p-s,scaleTo:d(n-u,i-c)}};return this.adjustRatioCropzoneSize(m[t])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(e){e.keyCode===a.keyCodes.SHIFT&&(this._withShiftKey=!0)},_onKeyUp:function(e){e.keyCode===a.keyCodes.SHIFT&&(this._withShiftKey=!1)}});t.default=h},"./src/js/extension/emboss.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("fabric"),r=(i=o)&&i.__esModule?i:{default:i};var a=r.default.util.createClass(r.default.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}});t.default=a},"./src/js/extension/mask.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("fabric"),r=(i=o)&&i.__esModule?i:{default:i};var a=r.default.util.createClass(r.default.Image.filters.BlendImage,{applyTo:function(e){if(this.mask){var t=e.canvasEl,n=t.width,i=t.height,o=this._createCanvasOfMask(n,i),r=t.getContext("2d"),a=o.getContext("2d"),s=r.getImageData(0,0,n,i);this._drawMask(a,t,r),this._mapData(a,s,n,i),e.imageData=s}},_createCanvasOfMask:function(e,t){var n=r.default.util.createCanvasElement();return n.width=e,n.height=t,n},_drawMask:function(e){var t=this.mask,n=t.getElement(),i=t.angle,o=t.left,r=t.scaleX,a=t.scaleY,s=t.top;e.save(),e.translate(o,s),e.rotate(i*Math.PI/180),e.scale(r,a),e.drawImage(n,-n.width/2,-n.height/2),e.restore()},_mapData:function(e,t,n,i){for(var o=t.data,r=t.height,a=o,s=t.width*r*4,l=e.getImageData(0,0,n,i).data,c=0;c<s;c+=4)a[c+3]=l[c]}});t.default=a},"./src/js/extension/sharpen.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("fabric"),r=(i=o)&&i.__esModule?i:{default:i};var a=r.default.util.createClass(r.default.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}});t.default=a},"./src/js/factory/command.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("./src/js/interface/command.js"),r=(i=o)&&i.__esModule?i:{default:i};var a={};t.default={create:function(e){var t=a[e];if(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return new r.default(t,i)}return null},register:function(e){a[e.name]=e}}},"./src/js/factory/errorMessage.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n("tui-code-snippet"),r=(i=o)&&i.__esModule?i:{default:i};var a=(0,n("./src/js/util.js").keyMirror)("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),s="Should implement a method: ",l="Should set a component name",c={UN_IMPLEMENTATION:function(e){return s+e},NO_COMPONENT_NAME:function(){return l}};t.default={types:r.default.extend({},a),create:function(e){e=e.toLowerCase();for(var t=c[e],n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.apply(void 0,i)}}},"./src/js/graphics.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=S(n("tui-code-snippet")),r=S(n("fabric")),a=S(n("./src/js/component/imageLoader.js")),s=S(n("./src/js/component/cropper.js")),l=S(n("./src/js/component/flip.js")),c=S(n("./src/js/component/rotation.js")),u=S(n("./src/js/component/freeDrawing.js")),d=S(n("./src/js/component/line.js")),h=S(n("./src/js/component/text.js")),p=S(n("./src/js/component/icon.js")),m=S(n("./src/js/component/filter.js")),f=S(n("./src/js/component/shape.js")),g=S(n("./src/js/component/zoom.js")),v=S(n("./src/js/drawingMode/cropper.js")),b=S(n("./src/js/drawingMode/freeDrawing.js")),y=S(n("./src/js/drawingMode/lineDrawing.js")),_=S(n("./src/js/drawingMode/shape.js")),j=S(n("./src/js/drawingMode/text.js")),k=S(n("./src/js/drawingMode/icon.js")),E=S(n("./src/js/drawingMode/zoom.js")),x=n("./src/js/helper/selectionModifyHelper.js"),w=n("./src/js/util.js"),O=n("./src/js/consts.js"),C=S(n("./src/js/component/resize.js")),M=S(n("./src/js/drawingMode/resize.js"));function S(e){return e&&e.__esModule?e:{default:e}}var P=o.default.extend,T=o.default.stamp,I=o.default.isArray,A=o.default.isString,L=o.default.forEachArray,z=o.default.forEachOwnProperties,D=o.default.CustomEvents,R=1e3,N=800,H={cssOnly:!0},B={backstoreOnly:!0},F=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.cssMaxWidth,o=n.cssMaxHeight;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvasImage=null,this.cssMaxWidth=i||R,this.cssMaxHeight=o||N,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=O.drawingModes.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:this._onMouseDown.bind(this),onObjectAdded:this._onObjectAdded.bind(this),onObjectRemoved:this._onObjectRemoved.bind(this),onObjectMoved:this._onObjectMoved.bind(this),onObjectScaled:this._onObjectScaled.bind(this),onObjectModified:this._onObjectModified.bind(this),onObjectRotated:this._onObjectRotated.bind(this),onObjectSelected:this._onObjectSelected.bind(this),onPathCreated:this._onPathCreated.bind(this),onSelectionCleared:this._onSelectionCleared.bind(this),onSelectionCreated:this._onSelectionCreated.bind(this)},this._setObjectCachingToFalse(),this._setCanvasElement(t),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return i(e,[{key:"destroy",value:function(){var e=this._canvas.wrapperEl;this._canvas.clear(),e.parentNode.removeChild(e),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){this.getComponent(O.componentNames.ZOOM).attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){this.getComponent(O.componentNames.ZOOM).detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(e){var t,n=[];I(e)?n=e:n.push(e),(t=this._canvas).add.apply(t,n)}},{key:"contains",value:function(e){return this._canvas.contains(e)}},{key:"getObjects",value:function(){return this._canvas.getObjects().slice()}},{key:"getObject",value:function(e){return this._objects[e]}},{key:"remove",value:function(e){this._canvas.remove(e)}},{key:"removeAll",value:function(e){var t=this._canvas,n=t.getObjects().slice();return t.remove.apply(t,this._canvas.getObjects()),e&&t.clear(),n}},{key:"removeObjectById",value:function(e){var t=[],n=this._canvas,i=this.getObject(e);return i&&i.isType("group")&&!i.isEmpty()?(n.discardActiveObject(),i.forEachObject(function(e){t.push(e),n.remove(e)})):n.contains(i)&&(t.push(i),n.remove(i)),t}},{key:"getObjectId",value:function(e){var t=null;for(t in this._objects)if(this._objects.hasOwnProperty(t)&&e===this._objects[t])return t;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var e=this.getActiveObject(),t=e.type,n=e.left,i=e.top;if("activeSelection"===t){var o=new r.default.Group([].concat(e.getObjects()),{left:n,top:i});return this._addFabricObject(o)}return this.getObjectId(e)}},{key:"isReadyRemoveObject",value:function(){var e=this.getActiveObject();return e&&!e.isEditing}},{key:"getActiveObjects",value:function(){var e=this._canvas._activeObject;return e&&"activeSelection"===e.type?e:null}},{key:"getActiveSelectionFromObjects",value:function(e){var t=this.getCanvas();return new r.default.ActiveSelection(e,{canvas:t})}},{key:"setActiveObject",value:function(e){this._canvas.setActiveObject(e)}},{key:"setCropSelectionStyle",value:function(e){this.cropSelectionStyle=e}},{key:"getComponent",value:function(e){return this._componentMap[e]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(e,t){if(this._isSameDrawingMode(e))return!0;this.stopDrawingMode();var n=this._getDrawingModeInstance(e);return n&&n.start&&(n.start(this,t),this._drawingMode=e),!!n}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(O.drawingModes.NORMAL)){var e=this._getDrawingModeInstance(this.getDrawingMode());e&&e.end&&e.end(this),this._drawingMode=O.drawingModes.NORMAL}}},{key:"zoom",value:function(e,t){var n=e.x,i=e.y,o=this.getComponent(O.componentNames.ZOOM);o.zoom({x:n,y:i},t)}},{key:"getZoomMode",value:function(){return this.getComponent(O.componentNames.ZOOM).mode}},{key:"startZoomInMode",value:function(){this.getComponent(O.componentNames.ZOOM).startZoomInMode()}},{key:"endZoomInMode",value:function(){this.getComponent(O.componentNames.ZOOM).endZoomInMode()}},{key:"zoomOut",value:function(){this.getComponent(O.componentNames.ZOOM).zoomOut()}},{key:"startHandMode",value:function(){this.getComponent(O.componentNames.ZOOM).startHandMode()}},{key:"endHandMode",value:function(){this.getComponent(O.componentNames.ZOOM).endHandMode()}},{key:"resetZoom",value:function(){this.getComponent(O.componentNames.ZOOM).resetZoom()}},{key:"toDataURL",value:function(e){var t=this.getComponent(O.componentNames.CROPPER);t.changeVisibility(!1);var n=this._canvas&&this._canvas.toDataURL(e);return t.changeVisibility(!0),n}},{key:"setCanvasImage",value:function(e,t){t&&T(t),this.imageName=e,this.canvasImage=t}},{key:"setCssMaxDimension",value:function(e){this.cssMaxWidth=e.width||this.cssMaxWidth,this.cssMaxHeight=e.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=this.canvasImage);var t=e.getBoundingRect(),n=t.width,i=t.height,o=this._calcMaxDimension(n,i);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":o.width+"px","max-height":o.height+"px"}),this.setCanvasBackstoreDimension({width:n,height:i}),this._canvas.centerObject(e)}},{key:"setCanvasCssDimension",value:function(e){this._canvas.setDimensions(e,H)}},{key:"setCanvasBackstoreDimension",value:function(e){this._canvas.setDimensions(e,B)}},{key:"setImageProperties",value:function(e,t){var n=this.canvasImage;n&&(n.set(e).setCoords(),t&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(e){var t=this,n=this._callbackAfterLoadingImageObject.bind(this);return new w.Promise(function(i){r.default.Image.fromURL(e,function(e){n(e),i(t.createObjectProperties(e))},{crossOrigin:"Anonymous"})})}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(O.componentNames.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(e){this.getComponent(O.componentNames.CROPPER).setCropzoneRect(e)}},{key:"getCroppedImageData",value:function(e){return this.getComponent(O.componentNames.CROPPER).getCroppedImageData(e)}},{key:"setBrush",value:function(e){var t=this._drawingMode,n=O.componentNames.FREE_DRAWING;t===O.drawingModes.LINE_DRAWING&&(n=O.componentNames.LINE),this.getComponent(n).setBrush(e)}},{key:"setDrawingShape",value:function(e,t){this.getComponent(O.componentNames.SHAPE).setStates(e,t)}},{key:"setIconStyle",value:function(e,t){this.getComponent(O.componentNames.ICON).setStates(e,t)}},{key:"registerPaths",value:function(e){this.getComponent(O.componentNames.ICON).registerPaths(e)}},{key:"changeCursor",value:function(e){var t=this.getCanvas();t.defaultCursor=e,t.renderAll()}},{key:"hasFilter",value:function(e){return this.getComponent(O.componentNames.FILTER).hasFilter(e)}},{key:"setSelectionStyle",value:function(e){P(O.fObjectOptions.SELECTION_STYLE,e)}},{key:"setObjectProperties",value:function(e,t){var n=this.getObject(e),i=P({},t);return n.set(i),n.setCoords(),this.getCanvas().renderAll(),i}},{key:"getObjectProperties",value:function(e,t){var n=this.getObject(e),i={};return A(t)?i[t]=n[t]:I(t)?L(t,function(e){i[e]=n[e]}):z(t,function(e,t){i[t]=n[t]}),i}},{key:"getObjectPosition",value:function(e,t,n){var i=this.getObject(e);return i?i.getPointByOrigin(t,n):null}},{key:"setObjectPosition",value:function(e,t){var n=this.getObject(e),i=t.x,o=t.y,r=t.originX,a=t.originY;if(!n)return!1;var s=n.getPointByOrigin(r,a),l=n.getPointByOrigin("center","center"),c=l.x-s.x,u=l.y-s.y;return n.set({left:i+c,top:o+u}),n.setCoords(),!0}},{key:"getCanvasSize",value:function(){var e=this.getCanvasImage();return{width:e?e.width:0,height:e?e.height:0}}},{key:"createStaticCanvas",value:function(){var e=new r.default.StaticCanvas;return e.set({enableRetinaScaling:!1}),e}},{key:"_getDrawingModeInstance",value:function(e){return this._drawingModeMap[e]}},{key:"_setObjectCachingToFalse",value:function(){r.default.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(e){var t=void 0,n=void 0;"CANVAS"!==(t=e.nodeType?e:document.querySelector(e)).nodeName.toUpperCase()&&(n=document.createElement("canvas"),t.appendChild(n)),this._canvas=new r.default.Canvas(n,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new v.default),this._register(this._drawingModeMap,new b.default),this._register(this._drawingModeMap,new y.default),this._register(this._drawingModeMap,new _.default),this._register(this._drawingModeMap,new j.default),this._register(this._drawingModeMap,new k.default),this._register(this._drawingModeMap,new E.default),this._register(this._drawingModeMap,new M.default)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new a.default(this)),this._register(this._componentMap,new s.default(this)),this._register(this._componentMap,new l.default(this)),this._register(this._componentMap,new c.default(this)),this._register(this._componentMap,new u.default(this)),this._register(this._componentMap,new d.default(this)),this._register(this._componentMap,new h.default(this)),this._register(this._componentMap,new p.default(this)),this._register(this._componentMap,new m.default(this)),this._register(this._componentMap,new f.default(this)),this._register(this._componentMap,new g.default(this)),this._register(this._componentMap,new C.default(this))}},{key:"_register",value:function(e,t){e[t.getName()]=t}},{key:"_isSameDrawingMode",value:function(e){return this.getDrawingMode()===e}},{key:"_calcMaxDimension",value:function(e,t){var n=this.cssMaxWidth/e,i=this.cssMaxHeight/t,o=Math.min(e,this.cssMaxWidth),r=Math.min(t,this.cssMaxHeight);return n<1&&n<i?(o=e*n,r=t*n):i<1&&i<n&&(o=e*i,r=t*i),{width:Math.floor(o),height:Math.floor(r)}}},{key:"_callbackAfterLoadingImageObject",value:function(e){var t=this.getCanvasImage().getCenterPoint();e.set(O.fObjectOptions.SELECTION_STYLE),e.set({left:t.x,top:t.y,crossOrigin:"Anonymous"}),this.getCanvas().add(e).setActiveObject(e)}},{key:"_attachCanvasEvents",value:function(){var e=this._canvas,t=this._handler;e.on({"mouse:down":t.onMouseDown,"object:added":t.onObjectAdded,"object:removed":t.onObjectRemoved,"object:moving":t.onObjectMoved,"object:scaling":t.onObjectScaled,"object:modified":t.onObjectModified,"object:rotating":t.onObjectRotated,"path:created":t.onPathCreated,"selection:cleared":t.onSelectionCleared,"selection:created":t.onSelectionCreated,"selection:updated":t.onObjectSelected})}},{key:"_onMouseDown",value:function(e){var t=this,n=e.e,i=e.target,o=this._canvas.getPointer(n);if(i){var r=i.type,a=(0,x.makeSelectionUndoData)(i,function(e){return(0,x.makeSelectionUndoDatum)(t.getObjectId(e),e,"activeSelection"===r)});(0,x.setCachedUndoDataForDimension)(a)}this.fire(O.eventNames.MOUSE_DOWN,n,o)}},{key:"_onObjectAdded",value:function(e){var t=e.target;t.isType("cropzone")||this._addFabricObject(t)}},{key:"_onObjectRemoved",value:function(e){var t=e.target;this._removeFabricObject(T(t))}},{key:"_onObjectMoved",value:function(e){var t=this;this._lazyFire(O.eventNames.OBJECT_MOVED,function(e){return t.createObjectProperties(e)},e.target)}},{key:"_onObjectScaled",value:function(e){var t=this;this._lazyFire(O.eventNames.OBJECT_SCALED,function(e){return t.createObjectProperties(e)},e.target)}},{key:"_onObjectModified",value:function(e){var t=e.target;"activeSelection"===t.type&&t.getObjects().forEach(function(e){return e.fire("modifiedInGroup",t)});this.fire(O.eventNames.OBJECT_MODIFIED,t,this.getObjectId(t))}},{key:"_onObjectRotated",value:function(e){var t=this;this._lazyFire(O.eventNames.OBJECT_ROTATED,function(e){return t.createObjectProperties(e)},e.target)}},{key:"_lazyFire",value:function(e,t,n){var i=this,o=n&&n.canvasEventDelegation?n.canvasEventDelegation(e):"none";"unregistered"===o&&n.canvasEventRegister(e,function(n){i.fire(e,t(n))}),"none"===o&&this.fire(e,t(n))}},{key:"_onObjectSelected",value:function(e){var t=e.target,n=this.createObjectProperties(t);this.fire(O.eventNames.OBJECT_ACTIVATED,n)}},{key:"_onPathCreated",value:function(e){var t=e.path.getCenterPoint(),n=t.x,i=t.y;e.path.set(P({left:n,top:i},O.fObjectOptions.SELECTION_STYLE));var o=this.createObjectProperties(e.path);this.fire(O.eventNames.ADD_OBJECT,o)}},{key:"_onSelectionCleared",value:function(){this.fire(O.eventNames.SELECTION_CLEARED)}},{key:"_onSelectionCreated",value:function(e){var t=e.target,n=this.createObjectProperties(t);this.fire(O.eventNames.OBJECT_ACTIVATED,n),this.fire(O.eventNames.SELECTION_CREATED,e.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(e){this._canvas.forEachObject(function(t){t.selectable=e,t.hoverCursor=e?"move":"crosshair"})}},{key:"createObjectProperties",value:function(e){var t={id:T(e),type:e.type};if(P(t,(0,w.getProperties)(e,["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"])),(0,w.includes)(["i-text","text"],e.type))P(t,this._createTextProperties(e,t));else if((0,w.includes)(["rect","triangle","circle"],e.type)){var n=this.getComponent(O.componentNames.SHAPE);P(t,{fill:n.makeFillPropertyForUserEvent(e)})}return t}},{key:"_createTextProperties",value:function(e){var t={};return P(t,(0,w.getProperties)(e,["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"])),t}},{key:"_addFabricObject",value:function(e){var t=T(e);return this._objects[t]=e,t}},{key:"_removeFabricObject",value:function(e){delete this._objects[e]}},{key:"resetTargetObjectForCopyPaste",value:function(){var e=this.getActiveObject();e&&(this.targetObjectForCopyPaste=e)}},{key:"pasteObject",value:function(){var e=this;if(!this.targetObjectForCopyPaste)return w.Promise.resolve([]);var t=this.targetObjectForCopyPaste,n="activeSelection"===t.type?t.getObjects():[t],i=null;return this.discardSelection(),this._cloneObject(n).then(function(t){i=t.length>1?e.getActiveSelectionFromObjects(t):t[0],e.targetObjectForCopyPaste=i,e.setActiveObject(i)})}},{key:"_cloneObject",value:function(e){var t=this,n=o.default.map(e,function(e){return t._cloneObjectItem(e)});return w.Promise.all(n)}},{key:"_cloneObjectItem",value:function(e){var t=this;return this._copyFabricObjectForPaste(e).then(function(e){var n=t.createObjectProperties(e);return t.add(e),t.fire(O.eventNames.ADD_OBJECT,n),e})}},{key:"_copyFabricObjectForPaste",value:function(e){var t=this,n=function(e,t){return t?e-10:e+10};return this._copyFabricObject(e).then(function(e){var i=e.left,r=e.top,a=e.width,s=e.height,l=t.getCanvasSize(),c=l.width,u=l.height,d=i+a/2,h=r+s/2;return e.set(o.default.extend({left:n(i,d+10>c),top:n(r,h+10>u)},O.fObjectOptions.SELECTION_STYLE)),e})}},{key:"_copyFabricObject",value:function(e){var t=this;return new w.Promise(function(n){e.clone(function(i){var o=t.getComponent(O.componentNames.SHAPE);(0,w.isShape)(i)&&o.processForCopiedObject(i,e),n(i)})})}},{key:"getCurrentDimensions",value:function(){return this.getComponent(O.componentNames.RESIZE).getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){return this.getComponent(O.componentNames.RESIZE).getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(e){this.getComponent(O.componentNames.RESIZE).setOriginalDimensions(e)}},{key:"resize",value:function(e){var t=this.getComponent(O.componentNames.RESIZE);return t.resize(e)}}]),e}();D.mixin(F),t.default=F},"./src/js/helper/imagetracer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return i(e,null,[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),i(e,[{key:"imageToSVG",value:function(e,t,n){var i=this;n=this.checkoptions(n),this.loadImage(e,function(e){t(i.imagedataToSVG(i.getImgdata(e),n))},n)}},{key:"imagedataToSVG",value:function(e,t){t=this.checkoptions(t);var n=this.imagedataToTracedata(e,t);return this.getsvgstring(n,t)}},{key:"imageToTracedata",value:function(e,t,n){var i=this;n=this.checkoptions(n),this.loadImage(e,function(e){t(i.imagedataToTracedata(i.getImgdata(e),n))},n)}},{key:"imagedataToTracedata",value:function(e,t){t=this.checkoptions(t);var n=this.colorquantization(e,t),i=void 0;if(0===t.layering){i={layers:[],palette:n.palette,width:n.array[0].length-2,height:n.array.length-2};for(var o=0;o<n.palette.length;o+=1){var r=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(n,o),t.pathomit),t),t.ltres,t.qtres);i.layers.push(r)}}else{var a=this.layering(n);t.layercontainerid&&this.drawLayers(a,this.specpalette,t.scale,t.layercontainerid);var s=this.batchpathscan(a,t.pathomit),l=this.batchinternodes(s,t);i={layers:this.batchtracelayers(l,t.ltres,t.qtres),palette:n.palette,width:e.width,height:e.height}}return i}},{key:"checkoptions",value:function(e){"string"===typeof(e=e||{})&&(e=e.toLowerCase(),e=this.optionpresets[e]?this.optionpresets[e]:{});for(var t=Object.keys(this.optionpresets.default),n=0;n<t.length;n+=1)e.hasOwnProperty(t[n])||(e[t[n]]=this.optionpresets.default[t[n]]);return e}},{key:"colorquantization",value:function(e,t){var n=[],i=0,o=void 0,r=void 0,a=void 0,s=[],l=e.width*e.height,c=void 0,u=void 0,d=void 0,h=void 0,p=void 0;for(u=0;u<e.height+2;u+=1)for(n[u]=[],c=0;c<e.width+2;c+=1)n[u][c]=-1;for(p=t.pal?t.pal:0===t.colorsampling?this.generatepalette(t.numberofcolors):1===t.colorsampling?this.samplepalette(t.numberofcolors,e):this.samplepalette2(t.numberofcolors,e),t.blurradius>0&&(e=this.blur(e,t.blurradius,t.blurdelta)),h=0;h<t.colorquantcycles;h+=1){if(h>0)for(d=0;d<p.length;d+=1)s[d].n>0&&(p[d]={r:Math.floor(s[d].r/s[d].n),g:Math.floor(s[d].g/s[d].n),b:Math.floor(s[d].b/s[d].n),a:Math.floor(s[d].a/s[d].n)}),s[d].n/l<t.mincolorratio&&h<t.colorquantcycles-1&&(p[d]={r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())});for(c=0;c<p.length;c+=1)s[c]={r:0,g:0,b:0,a:0,n:0};for(u=0;u<e.height;u+=1)for(c=0;c<e.width;c+=1){for(i=4*(u*e.width+c),a=0,r=1024,d=0;d<p.length;d+=1)(o=Math.abs(p[d].r-e.data[i])+Math.abs(p[d].g-e.data[i+1])+Math.abs(p[d].b-e.data[i+2])+Math.abs(p[d].a-e.data[i+3]))<r&&(r=o,a=d);s[a].r+=e.data[i],s[a].g+=e.data[i+1],s[a].b+=e.data[i+2],s[a].a+=e.data[i+3],s[a].n+=1,n[u+1][c+1]=a}}return{array:n,palette:p}}},{key:"samplepalette",value:function(e,t){for(var n=void 0,i=[],o=0;o<e;o+=1)n=4*Math.floor(Math.random()*t.data.length/4),i.push({r:t.data[n],g:t.data[n+1],b:t.data[n+2],a:t.data[n+3]});return i}},{key:"samplepalette2",value:function(e,t){for(var n=void 0,i=[],o=Math.ceil(Math.sqrt(e)),r=Math.ceil(e/o),a=t.width/(o+1),s=t.height/(r+1),l=0;l<r;l+=1)for(var c=0;c<o&&i.length!==e;c+=1)n=4*Math.floor((l+1)*s*t.width+(c+1)*a),i.push({r:t.data[n],g:t.data[n+1],b:t.data[n+2],a:t.data[n+3]});return i}},{key:"generatepalette",value:function(e){var t=[],n=void 0,i=void 0,o=void 0;if(e<8)for(var r=Math.floor(255/(e-1)),a=0;a<e;a+=1)t.push({r:a*r,g:a*r,b:a*r,a:255});else{var s=Math.floor(Math.pow(e,1/3)),l=Math.floor(255/(s-1)),c=e-s*s*s;for(n=0;n<s;n+=1)for(i=0;i<s;i+=1)for(o=0;o<s;o+=1)t.push({r:n*l,g:i*l,b:o*l,a:255});for(n=0;n<c;n+=1)t.push({r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())})}return t}},{key:"layering",value:function(e){var t=[],n=0,i=e.array.length,o=e.array[0].length,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,h=void 0,p=void 0,m=void 0,f=void 0;for(f=0;f<e.palette.length;f+=1)for(t[f]=[],m=0;m<i;m+=1)for(t[f][m]=[],p=0;p<o;p+=1)t[f][m][p]=0;for(m=1;m<i-1;m+=1)for(p=1;p<o-1;p+=1)n=e.array[m][p],r=e.array[m-1][p-1]===n?1:0,a=e.array[m-1][p]===n?1:0,s=e.array[m-1][p+1]===n?1:0,l=e.array[m][p-1]===n?1:0,c=e.array[m][p+1]===n?1:0,u=e.array[m+1][p-1]===n?1:0,d=e.array[m+1][p]===n?1:0,h=e.array[m+1][p+1]===n?1:0,t[n][m+1][p+1]=1+2*c+4*h+8*d,l||(t[n][m+1][p]=2+4*d+8*u),a||(t[n][m][p+1]=0+2*s+4*c+8),r||(t[n][m][p]=0+2*a+4+8*l);return t}},{key:"layeringstep",value:function(e,t){var n=[],i=e.array.length,o=e.array[0].length,r=void 0,a=void 0;for(a=0;a<i;a+=1)for(n[a]=[],r=0;r<o;r+=1)n[a][r]=0;for(a=1;a<i;a+=1)for(r=1;r<o;r+=1)n[a][r]=(e.array[a-1][r-1]===t?1:0)+(e.array[a-1][r]===t?2:0)+(e.array[a][r-1]===t?8:0)+(e.array[a][r]===t?4:0);return n}},{key:"pathscan",value:function(e,t){for(var n=[],i=0,o=0,r=0,a=0,s=e[0].length,l=e.length,c=0,u=!0,d=!1,h=void 0,p=0;p<l;p+=1)for(var m=0;m<s;m+=1)if(4===e[p][m]||11===e[p][m])for(r=m,a=p,n[i]={},n[i].points=[],n[i].boundingbox=[r,a,r,a],n[i].holechildren=[],u=!1,o=0,d=11===e[p][m],c=1;!u;){if(n[i].points[o]={},n[i].points[o].x=r-1,n[i].points[o].y=a-1,n[i].points[o].t=e[a][r],r-1<n[i].boundingbox[0]&&(n[i].boundingbox[0]=r-1),r-1>n[i].boundingbox[2]&&(n[i].boundingbox[2]=r-1),a-1<n[i].boundingbox[1]&&(n[i].boundingbox[1]=a-1),a-1>n[i].boundingbox[3]&&(n[i].boundingbox[3]=a-1),h=this.pathscan_combined_lookup[e[a][r]][c],e[a][r]=h[0],c=h[1],r+=h[2],a+=h[3],r-1===n[i].points[0].x&&a-1===n[i].points[0].y)if(u=!0,n[i].points.length<t)n.pop();else{if(n[i].isholepath=!!d,d){for(var f=0,g=[-1,-1,s+1,l+1],v=0;v<i;v++)!n[v].isholepath&&this.boundingboxincludes(n[v].boundingbox,n[i].boundingbox)&&this.boundingboxincludes(g,n[v].boundingbox)&&(f=v,g=n[v].boundingbox);n[f].holechildren.push(i)}i+=1}o+=1}return n}},{key:"boundingboxincludes",value:function(e,t){return e[0]<t[0]&&e[1]<t[1]&&e[2]>t[2]&&e[3]>t[3]}},{key:"batchpathscan",value:function(e,t){var n=[];for(var i in e)e.hasOwnProperty(i)&&(n[i]=this.pathscan(e[i],t));return n}},{key:"internodes",value:function(e,t){var n=[],i=0,o=0,r=0,a=0,s=0,l=void 0,c=void 0;for(l=0;l<e.length;l+=1)for(n[l]={},n[l].points=[],n[l].boundingbox=e[l].boundingbox,n[l].holechildren=e[l].holechildren,n[l].isholepath=e[l].isholepath,i=e[l].points.length,c=0;c<i;c+=1)o=(c+1)%i,r=(c+2)%i,a=(c-1+i)%i,s=(c-2+i)%i,t.rightangleenhance&&this.testrightangle(e[l],s,a,c,o,r)&&(n[l].points.length>0&&(n[l].points[n[l].points.length-1].linesegment=this.getdirection(n[l].points[n[l].points.length-1].x,n[l].points[n[l].points.length-1].y,e[l].points[c].x,e[l].points[c].y)),n[l].points.push({x:e[l].points[c].x,y:e[l].points[c].y,linesegment:this.getdirection(e[l].points[c].x,e[l].points[c].y,(e[l].points[c].x+e[l].points[o].x)/2,(e[l].points[c].y+e[l].points[o].y)/2)})),n[l].points.push({x:(e[l].points[c].x+e[l].points[o].x)/2,y:(e[l].points[c].y+e[l].points[o].y)/2,linesegment:this.getdirection((e[l].points[c].x+e[l].points[o].x)/2,(e[l].points[c].y+e[l].points[o].y)/2,(e[l].points[o].x+e[l].points[r].x)/2,(e[l].points[o].y+e[l].points[r].y)/2)});return n}},{key:"testrightangle",value:function(e,t,n,i,o,r){return e.points[i].x===e.points[t].x&&e.points[i].x===e.points[n].x&&e.points[i].y===e.points[o].y&&e.points[i].y===e.points[r].y||e.points[i].y===e.points[t].y&&e.points[i].y===e.points[n].y&&e.points[i].x===e.points[o].x&&e.points[i].x===e.points[r].x}},{key:"getdirection",value:function(e,t,n,i){return e<n?t<i?1:t>i?7:0:e>n?t<i?3:t>i?5:4:t<i?2:t>i?6:8}},{key:"batchinternodes",value:function(e,t){var n=[];for(var i in e)e.hasOwnProperty(i)&&(n[i]=this.internodes(e[i],t));return n}},{key:"tracepath",value:function(e,t,n){var i=0,o=void 0,r=void 0,a=void 0,s={segments:[]};for(s.boundingbox=e.boundingbox,s.holechildren=e.holechildren,s.isholepath=e.isholepath;i<e.points.length;){for(o=e.points[i].linesegment,r=-1,a=i+1;(e.points[a].linesegment===o||e.points[a].linesegment===r||-1===r)&&a<e.points.length-1;)e.points[a].linesegment!==o&&-1===r&&(r=e.points[a].linesegment),a+=1;a===e.points.length-1&&(a=0),s.segments=s.segments.concat(this.fitseq(e,t,n,i,a)),i=a>0?a:e.points.length}return s}},{key:"fitseq",value:function(e,t,n,i,o){if(o>e.points.length||o<0)return[];var r=i,a=0,s=!0,l=void 0,c=void 0,u=void 0,d=o-i;d<0&&(d+=e.points.length);for(var h=(e.points[o].x-e.points[i].x)/d,p=(e.points[o].y-e.points[i].y)/d,m=(i+1)%e.points.length,f=void 0;m!=o;)(f=m-i)<0&&(f+=e.points.length),l=e.points[i].x+h*f,c=e.points[i].y+p*f,(u=(e.points[m].x-l)*(e.points[m].x-l)+(e.points[m].y-c)*(e.points[m].y-c))>t&&(s=!1),u>a&&(r=m,a=u),m=(m+1)%e.points.length;if(s)return[{type:"L",x1:e.points[i].x,y1:e.points[i].y,x2:e.points[o].x,y2:e.points[o].y}];var g=r;s=!0,a=0;var v=(g-i)/d,b=(1-v)*(1-v),y=2*(1-v)*v,_=v*v,j=(b*e.points[i].x+_*e.points[o].x-e.points[g].x)/-y,k=(b*e.points[i].y+_*e.points[o].y-e.points[g].y)/-y;for(m=i+1;m!=o;)y=2*(1-(v=(m-i)/d))*v,_=v*v,l=(b=(1-v)*(1-v))*e.points[i].x+y*j+_*e.points[o].x,c=b*e.points[i].y+y*k+_*e.points[o].y,(u=(e.points[m].x-l)*(e.points[m].x-l)+(e.points[m].y-c)*(e.points[m].y-c))>n&&(s=!1),u>a&&(r=m,a=u),m=(m+1)%e.points.length;if(s)return[{type:"Q",x1:e.points[i].x,y1:e.points[i].y,x2:j,y2:k,x3:e.points[o].x,y3:e.points[o].y}];var E=g;return this.fitseq(e,t,n,i,E).concat(this.fitseq(e,t,n,E,o))}},{key:"batchtracepaths",value:function(e,t,n){var i=[];for(var o in e)e.hasOwnProperty(o)&&i.push(this.tracepath(e[o],t,n));return i}},{key:"batchtracelayers",value:function(e,t,n){var i=[];for(var o in e)e.hasOwnProperty(o)&&(i[o]=this.batchtracepaths(e[o],t,n));return i}},{key:"roundtodec",value:function(e,t){return Number(e.toFixed(t))}},{key:"svgpathstring",value:function(e,t,n,i){var o=e.layers[t],r=o[n],a="",s=void 0;if(i.linefilter&&r.segments.length<3)return a;if(a="<path "+(i.desc?'desc="l '+t+" p "+n+'" ':"")+this.tosvgcolorstr(e.palette[t],i)+'d="',-1===i.roundcoords){for(a+="M "+r.segments[0].x1*i.scale+" "+r.segments[0].y1*i.scale+" ",s=0;s<r.segments.length;s++)a+=r.segments[s].type+" "+r.segments[s].x2*i.scale+" "+r.segments[s].y2*i.scale+" ",r.segments[s].hasOwnProperty("x3")&&(a+=r.segments[s].x3*i.scale+" "+r.segments[s].y3*i.scale+" ");a+="Z "}else{for(a+="M "+this.roundtodec(r.segments[0].x1*i.scale,i.roundcoords)+" "+this.roundtodec(r.segments[0].y1*i.scale,i.roundcoords)+" ",s=0;s<r.segments.length;s++)a+=r.segments[s].type+" "+this.roundtodec(r.segments[s].x2*i.scale,i.roundcoords)+" "+this.roundtodec(r.segments[s].y2*i.scale,i.roundcoords)+" ",r.segments[s].hasOwnProperty("x3")&&(a+=this.roundtodec(r.segments[s].x3*i.scale,i.roundcoords)+" "+this.roundtodec(r.segments[s].y3*i.scale,i.roundcoords)+" ");a+="Z "}for(var l=0;l<r.holechildren.length;l++){var c=o[r.holechildren[l]];if(-1===i.roundcoords)for(c.segments[c.segments.length-1].hasOwnProperty("x3")?a+="M "+c.segments[c.segments.length-1].x3*i.scale+" "+c.segments[c.segments.length-1].y3*i.scale+" ":a+="M "+c.segments[c.segments.length-1].x2*i.scale+" "+c.segments[c.segments.length-1].y2*i.scale+" ",s=c.segments.length-1;s>=0;s--)a+=c.segments[s].type+" ",c.segments[s].hasOwnProperty("x3")&&(a+=c.segments[s].x2*i.scale+" "+c.segments[s].y2*i.scale+" "),a+=c.segments[s].x1*i.scale+" "+c.segments[s].y1*i.scale+" ";else for(c.segments[c.segments.length-1].hasOwnProperty("x3")?a+="M "+this.roundtodec(c.segments[c.segments.length-1].x3*i.scale)+" "+this.roundtodec(c.segments[c.segments.length-1].y3*i.scale)+" ":a+="M "+this.roundtodec(c.segments[c.segments.length-1].x2*i.scale)+" "+this.roundtodec(c.segments[c.segments.length-1].y2*i.scale)+" ",s=c.segments.length-1;s>=0;s--)a+=c.segments[s].type+" ",c.segments[s].hasOwnProperty("x3")&&(a+=this.roundtodec(c.segments[s].x2*i.scale)+" "+this.roundtodec(c.segments[s].y2*i.scale)+" "),a+=this.roundtodec(c.segments[s].x1*i.scale)+" "+this.roundtodec(c.segments[s].y1*i.scale)+" ";a+="Z "}if(a+='" />',i.lcpr||i.qcpr){for(s=0;s<r.segments.length;s++)r.segments[s].hasOwnProperty("x3")&&i.qcpr&&(a+='<circle cx="'+r.segments[s].x2*i.scale+'" cy="'+r.segments[s].y2*i.scale+'" r="'+i.qcpr+'" fill="cyan" stroke-width="'+.2*i.qcpr+'" stroke="black" />',a+='<circle cx="'+r.segments[s].x3*i.scale+'" cy="'+r.segments[s].y3*i.scale+'" r="'+i.qcpr+'" fill="white" stroke-width="'+.2*i.qcpr+'" stroke="black" />',a+='<line x1="'+r.segments[s].x1*i.scale+'" y1="'+r.segments[s].y1*i.scale+'" x2="'+r.segments[s].x2*i.scale+'" y2="'+r.segments[s].y2*i.scale+'" stroke-width="'+.2*i.qcpr+'" stroke="cyan" />',a+='<line x1="'+r.segments[s].x2*i.scale+'" y1="'+r.segments[s].y2*i.scale+'" x2="'+r.segments[s].x3*i.scale+'" y2="'+r.segments[s].y3*i.scale+'" stroke-width="'+.2*i.qcpr+'" stroke="cyan" />'),!r.segments[s].hasOwnProperty("x3")&&i.lcpr&&(a+='<circle cx="'+r.segments[s].x2*i.scale+'" cy="'+r.segments[s].y2*i.scale+'" r="'+i.lcpr+'" fill="white" stroke-width="'+.2*i.lcpr+'" stroke="black" />');for(l=0;l<r.holechildren.length;l++){c=o[r.holechildren[l]];for(s=0;s<c.segments.length;s++)c.segments[s].hasOwnProperty("x3")&&i.qcpr&&(a+='<circle cx="'+c.segments[s].x2*i.scale+'" cy="'+c.segments[s].y2*i.scale+'" r="'+i.qcpr+'" fill="cyan" stroke-width="'+.2*i.qcpr+'" stroke="black" />',a+='<circle cx="'+c.segments[s].x3*i.scale+'" cy="'+c.segments[s].y3*i.scale+'" r="'+i.qcpr+'" fill="white" stroke-width="'+.2*i.qcpr+'" stroke="black" />',a+='<line x1="'+c.segments[s].x1*i.scale+'" y1="'+c.segments[s].y1*i.scale+'" x2="'+c.segments[s].x2*i.scale+'" y2="'+c.segments[s].y2*i.scale+'" stroke-width="'+.2*i.qcpr+'" stroke="cyan" />',a+='<line x1="'+c.segments[s].x2*i.scale+'" y1="'+c.segments[s].y2*i.scale+'" x2="'+c.segments[s].x3*i.scale+'" y2="'+c.segments[s].y3*i.scale+'" stroke-width="'+.2*i.qcpr+'" stroke="cyan" />'),!c.segments[s].hasOwnProperty("x3")&&i.lcpr&&(a+='<circle cx="'+c.segments[s].x2*i.scale+'" cy="'+c.segments[s].y2*i.scale+'" r="'+i.lcpr+'" fill="white" stroke-width="'+.2*i.lcpr+'" stroke="black" />')}}return a}},{key:"getsvgstring",value:function(e,t){t=this.checkoptions(t);for(var n=e.width*t.scale,i=e.height*t.scale,o="<svg "+(t.viewbox?'viewBox="0 0 '+n+" "+i+'" ':'width="'+n+'" height="'+i+'" ')+'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version '+this.versionnumber+'" >',r=0;r<e.layers.length;r+=1)for(var a=0;a<e.layers[r].length;a+=1)e.layers[r][a].isholepath||(o+=this.svgpathstring(e,r,a,t));return o+="</svg>"}},{key:"compareNumbers",value:function(e,t){return e-t}},{key:"torgbastr",value:function(e){return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"}},{key:"tosvgcolorstr",value:function(e,t){return'fill="rgb('+e.r+","+e.g+","+e.b+')" stroke="rgb('+e.r+","+e.g+","+e.b+')" stroke-width="'+t.strokewidth+'" opacity="'+e.a/255+'" '}},{key:"appendSVGString",value:function(e,t){var n=void 0;t?(n=document.getElementById(t))||((n=document.createElement("div")).id=t,document.body.appendChild(n)):(n=document.createElement("div"),document.body.appendChild(n)),n.innerHTML+=e}},{key:"blur",value:function(e,t,n){var i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,h={width:e.width,height:e.height,data:[]};if((t=Math.floor(t))<1)return e;t>5&&(t=5),(n=Math.abs(n))>1024&&(n=1024);var p=this.gks[t-1];for(o=0;o<e.height;o++)for(i=0;i<e.width;i++){for(s=0,l=0,c=0,u=0,d=0,r=-t;r<t+1;r++)i+r>0&&i+r<e.width&&(a=4*(o*e.width+i+r),s+=e.data[a]*p[r+t],l+=e.data[a+1]*p[r+t],c+=e.data[a+2]*p[r+t],u+=e.data[a+3]*p[r+t],d+=p[r+t]);a=4*(o*e.width+i),h.data[a]=Math.floor(s/d),h.data[a+1]=Math.floor(l/d),h.data[a+2]=Math.floor(c/d),h.data[a+3]=Math.floor(u/d)}var m=new Uint8ClampedArray(h.data);for(o=0;o<e.height;o++)for(i=0;i<e.width;i++){for(s=0,l=0,c=0,u=0,d=0,r=-t;r<t+1;r++)o+r>0&&o+r<e.height&&(s+=m[a=4*((o+r)*e.width+i)]*p[r+t],l+=m[a+1]*p[r+t],c+=m[a+2]*p[r+t],u+=m[a+3]*p[r+t],d+=p[r+t]);a=4*(o*e.width+i),h.data[a]=Math.floor(s/d),h.data[a+1]=Math.floor(l/d),h.data[a+2]=Math.floor(c/d),h.data[a+3]=Math.floor(u/d)}for(o=0;o<e.height;o++)for(i=0;i<e.width;i++)a=4*(o*e.width+i),Math.abs(h.data[a]-e.data[a])+Math.abs(h.data[a+1]-e.data[a+1])+Math.abs(h.data[a+2]-e.data[a+2])+Math.abs(h.data[a+3]-e.data[a+3])>n&&(h.data[a]=e.data[a],h.data[a+1]=e.data[a+1],h.data[a+2]=e.data[a+2],h.data[a+3]=e.data[a+3]);return h}},{key:"loadImage",value:function(e,t,n){var i=new Image;n&&n.corsenabled&&(i.crossOrigin="Anonymous"),i.src=e,i.onload=function(){var e=document.createElement("canvas");e.width=i.width,e.height=i.height,e.getContext("2d").drawImage(i,0,0),t(e)}}},{key:"getImgdata",value:function(e){return e.getContext("2d").getImageData(0,0,e.width,e.height)}},{key:"drawLayers",value:function(e,t,n,i){n=n||1;var o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0;for(l in i?(c=document.getElementById(i))||((c=document.createElement("div")).id=i,document.body.appendChild(c)):(c=document.createElement("div"),document.body.appendChild(c)),e)if(e.hasOwnProperty(l)){o=e[l][0].length,r=e[l].length;var u=document.createElement("canvas");u.width=o*n,u.height=r*n;var d=u.getContext("2d");for(s=0;s<r;s+=1)for(a=0;a<o;a+=1)d.fillStyle=this.torgbastr(t[e[l][s][a]%t.length]),d.fillRect(a*n,s*n,n,n);c.appendChild(u)}}}]),e}();t.default=o},"./src/js/helper/selectionModifyHelper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCachedUndoDataForDimension=function(e){s=e},t.getCachedUndoDataForDimension=function(){return s},t.makeSelectionUndoData=function(e,t){var n=void 0;n="activeSelection"===e.type?e.getObjects().map(function(n){var i=n.angle,o=n.left,r=n.top,s=n.scaleX,l=n.scaleY,c=n.width,u=n.height;a.default.util.addTransformToObject(n,e.calcTransformMatrix());var d=t(n);return n.set({angle:i,left:o,top:r,width:c,height:u,scaleX:s,scaleY:l}),d}):[t(e)];return n},t.makeSelectionUndoDatum=function(e,t,n){return n?{id:e,width:t.width,height:t.height,top:t.top,left:t.left,angle:t.angle,scaleX:t.scaleX,scaleY:t.scaleY}:(0,o.extend)({id:e},t)};var i,o=n("tui-code-snippet"),r=n("fabric"),a=(i=r)&&i.__esModule?i:{default:i};var s=null},"./src/js/helper/shapeFilterFillHelper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFillImageFromShape=p,t.rePositionFilterTypeFillImage=function(e){var t=e.angle,n=e.flipX,i=e.flipY,r=p(e),a=function(e){var t=g(e),n=t[0],i=n.x,o=n.y,r=t[1],a=r.x,s=r.y,l=t[2],c=l.x,u=l.y,d=t[3],h=d.x,p=d.y,m=Math.min(i,a,c,h),f=Math.min(o,s,u,p),v=Math.max(i,a,c,h),b=Math.max(o,s,u,p);return{left:m,top:f,right:v,bottom:b,width:v-m,height:b-f}}(e),l=a.right,c=a.bottom,d=a.width,m=a.height,f=(d-e.width)/2,v=(m-e.height)/2,b=e.left-e.width/2-f,y=e.top-e.height/2-v,_=d/2-f,j=m/2-v,k=Math.max(d,m)+Math.max(f,v),E=function(e){var t=e.shapeObj,n=e.left,i=e.top,r=e.width,a=e.height,s=e.cropX,l=e.cropY,c=e.flipX,d=e.flipY,p=e.right,m=e.bottom,f=function(e,n,i,r){return function(e){var t=e.type,n=e.shapeObj,i=e.outDistance,r=e.left,a=e.top,s=e.flipX,l=e.flipY,c=g(n),u=function(e,t,n){var i=0,r=0;(0,o.forEach)(t,function(t,n){t[e]<i&&(i=t[e],r=n)});var a=n[r],s=a[0],l=a[1];return{startPointIndex:r,endPointIndex1:s,endPointIndex2:l}}(t,c,[[1,2],[0,3],[0,3],[1,2]]),d=function(e,t,n){var i=n.startPointIndex,r=n.endPointIndex1,a=n.endPointIndex2,s="x"===e?180:270;return(0,o.map)([r,a],function(e){var n=t[i],o=t[e],r=n.y-o.y,a=n.x-o.x;return 180*Math.atan2(r,a)/Math.PI-s})}(t,c,u),h=u.startPointIndex,p=function(e){var t=e.outDistance,n=e.startPointIndex,i=e.flipX,o=e.flipY,r=e.reatAngles,a=t*Math.cos(r[0]*Math.PI/180),s=t*Math.cos(r[1]*Math.PI/180),l=2===n||3===n,c={top:l?a:s,left:l?s:a};(function(e,t,n){return(!t&&n||!t&&!n)&&0===e||(t&&n||t&&!n)&&1===e||(!t&&!n||!t&&n)&&2===e||(t&&!n||t&&n)&&3===e})(n,i,o)&&(c.left=-1*c.left);(function(e,t,n){return(t&&!n||!t&&!n)&&0===e||(!t&&!n||t&&!n)&&1===e||(t&&n||!t&&n)&&2===e||(!t&&n||t&&n)&&3===e})(n,i,o)&&(c.top=-1*c.top);return c}({outDistance:i,startPointIndex:h,flipX:s,flipY:l,reatAngles:d});return[r+p.left,a+p.top]}({type:e,outDistance:n,shapeObj:t,flipX:c,flipY:d,left:i,top:r})},v=r,b=a,y=function(e,t){var n=t.left,i=t.top,r=t.width,a=t.height,s=t.cropX,l=t.cropY,c={width:r,height:a};return(0,o.forEach)(["x","y"],function(t){var o="x"===t?s:l,r=c[u[t]],a=h[u[t]];if(r>a){var d=(r-a)/2;c[u[t]]=a;var p=e(t,d,n,i);n=p[0],i=p[1]}if(o<0){var m=e(t,o,n,i);n=m[0],i=m[1]}}),[n,i,c.width,c.height]}(f,{left:n,top:i,width:r,height:a,cropX:s,cropY:l});n=y[0],i=y[1],r=y[2],a=y[3];var _=function(e,t){var n=t.left,i=t.top,r=t.insideCanvasRealImageWidth,a=t.insideCanvasRealImageHeight,s=t.right,l=t.bottom,c=t.cropX,u=t.cropY,d=t.originalWidth,p=t.originalHeight,m=r,f=a,g=h,v=g.width,b=g.height;s>v&&c>0&&(m=d-Math.abs(s-v));l>b&&u>0&&(f=p-Math.abs(l-b));var y={x:(r-m)/2,y:(a-f)/2};return(0,o.forEach)(["x","y"],function(t){var o=y[t];if(o>0){var r=e(t,o,n,i);n=r[0],i=r[1]}}),[n,i,m,f]}(f,{left:n,top:i,insideCanvasRealImageWidth:r,insideCanvasRealImageHeight:a,right:p,bottom:m,cropX:s,cropY:l,originalWidth:v,originalHeight:b});return n=_[0],i=_[1],r=_[2],a=_[3],[n,i,r,a]}({shapeObj:e,left:_,top:j,width:d,height:m,cropX:b,cropY:y,flipX:n,flipY:i,right:l,bottom:c});_=E[0],j=E[1],d=E[2],m=E[3],r.set({angle:n===i?-t:t,left:_,top:j,width:d,height:m,cropX:b,cropY:y,flipX:n,flipY:i}),(0,s.setCustomProperty)(r,{fillImageMaxSize:k})},t.makeFilterOptionFromFabricImage=m,t.makeFillPatternForFilter=function(e,t,n){var i=v(f(e),e.angle,t);n.add(i);var o={fill:new fabric.Pattern({source:n.getElement(),repeat:"no-repeat"})};return(0,s.setCustomProperty)(o,{patternSourceCanvas:n}),o},t.resetFillPatternCanvas=function(e){var t=e.getObjects()[0],n=(0,s.getCustomProperty)(t,"fillImageMaxSize").fillImageMaxSize;n=Math.max(1,n),e.setDimensions({width:n,height:n}),e.renderAll()},t.reMakePatternImageSource=function(e,t){var n=(0,s.getCustomProperty)(e,"patternSourceCanvas").patternSourceCanvas,i=n.getObjects()[0],o=m(i);n.remove(i);var r=v(f(t,!0),t.angle,o);n.add(r)},t.getCachedCanvasImageElement=f;var i,o=n("tui-code-snippet"),r=n("./src/js/helper/shapeResizeHelper.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/util.js");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={pixelate:"blocksize",blur:"blur"},u={x:"width",y:"height"},d=(0,s.flipObject)(c),h=null;function p(e){return(0,s.getCustomProperty)(e,"patternSourceCanvas").patternSourceCanvas.getObjects()[0]}function m(e){return(0,o.map)(e.filters,function(e){var t=Object.keys(e)[0];return l({},d[t],e[t])})}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return h&&!t||(h=e.toCanvasElement()),h}function g(e){return[e.getPointByOrigin("left","top"),e.getPointByOrigin("right","top"),e.getPointByOrigin("left","bottom"),e.getPointByOrigin("right","bottom")]}function v(e,t,n){var i=new fabric.Image(e);return(0,o.forEach)(o.extend.apply(void 0,[{}].concat(n)),function(e,t){var n=(0,s.capitalizeString)(t),o=new fabric.Image.filters[n](l({},c[t],e));i.filters.push(o)}),i.applyFilters(),(0,s.setCustomProperty)(i,{originalAngle:t,fillImageMaxSize:Math.max(i.width,i.height)}),a.default.adjustOriginToCenter(i),i}},"./src/js/helper/shapeResizeHelper.js":function(e,t,n){"use strict";var i={rect:1,circle:2,triangle:1},o={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function r(e,t,n){var i=e.x,o=e.y,r=t.x,a=t.y,s=n*Math.PI/180;return{originX:i>(r-i)*Math.cos(s)-(a-o)*Math.sin(s)+i?"right":"left",originY:o>(r-i)*Math.sin(s)+(a-o)*Math.cos(s)+o?"bottom":"top"}}e.exports={setOrigins:function(e){var t=e.getPointByOrigin("left","top"),n=e.getPointByOrigin("right","top"),i=e.getPointByOrigin("right","bottom"),o=e.getPointByOrigin("left","bottom");e.origins={lt:t,rt:n,rb:i,lb:o}},resize:function(e,t,n){(function(e){return"center"===e.originX&&"center"===e.originY})(e)&&(function(e,t){var n=t.getPointByOrigin("center","center"),i=r(n,e,-t.angle),o=i.originX,a=i.originY,s=t.getPointByOrigin(o,a),l=t.left-(n.x-s.x),c=t.top-(n.y-s.y);t.set({originX:o,originY:a,left:l,top:c}),t.setCoords()}(t,e),function(e){var t=e.originX,n=e.originY,i=t.substring(0,1)+n.substring(0,1);e.startPoint=e.origins[i]}(e)),n?function(e){var t=e.type,n=e.scaleX,i=e.scaleY,r=o[t],a=e[r.w]*n,s=e[r.h]*i;if(e.isRegular){var l=Math.max(n,i);a=e[r.w]*l,s=e[r.h]*l}var c={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};c[r.w]=a,c[r.h]=s,e.set(c)}(e):function(e,t){var n=t.type,r=t.strokeWidth,a=t.startPoint,s=i[n],l=o[n],c=!("triangle"!==t.type),u={},d=Math.abs(a.x-e.x)/s,h=Math.abs(a.y-e.y)/s;d>r&&(d-=r/s),h>r&&(h-=r/s),t.isRegular&&(d=h=Math.max(d,h),c&&(h=Math.sqrt(3)/2*d)),u[l.w]=d,u[l.h]=h,t.set(u)}(t,e),function(e,t){var n=t.startPoint,i=r(n,e,-t.angle),o=i.originX,a=i.originY;t.setPositionByOrigin(n,o,a),t.setCoords()}(t,e)},adjustOriginToCenter:function(e){var t=e.getPointByOrigin("center","center"),n=e.originX,i=e.originY,o=e.getPointByOrigin(n,i),r=e.left+(t.x-o.x),a=e.top+(t.y-o.y);e.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:r,top:a}),e.setCoords()}}},"./src/js/imageEditor.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=p(n("tui-code-snippet")),r=p(n("./src/js/invoker.js")),a=p(n("./src/js/ui.js")),s=p(n("./src/js/action.js")),l=p(n("./src/js/factory/command.js")),c=p(n("./src/js/graphics.js")),u=n("./src/js/helper/selectionModifyHelper.js"),d=n("./src/js/util.js"),h=n("./src/js/consts.js");function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=o.default.isUndefined,g=o.default.forEach,v=o.default.CustomEvents,b=h.eventNames.MOUSE_DOWN,y=h.eventNames.OBJECT_MOVED,_=h.eventNames.OBJECT_SCALED,j=h.eventNames.OBJECT_ACTIVATED,k=h.eventNames.OBJECT_ROTATED,E=h.eventNames.OBJECT_ADDED,x=h.eventNames.OBJECT_MODIFIED,w=h.eventNames.ADD_TEXT,O=h.eventNames.ADD_OBJECT,C=h.eventNames.TEXT_EDITING,M=h.eventNames.TEXT_CHANGED,S=h.eventNames.ICON_CREATE_RESIZE,P=h.eventNames.ICON_CREATE_END,T=h.eventNames.SELECTION_CLEARED,I=h.eventNames.SELECTION_CREATED,A=h.eventNames.ADD_OBJECT_AFTER,L=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=o.default.extend({includeUI:!1,usageStatistics:!0},n),this.mode=null,this.activeObjectId=null,n.includeUI){var i=n.includeUI;i.usageStatistics=n.usageStatistics,this.ui=new a.default(t,i,this.getActions()),n=this.ui.setUiDefaultSelectionStyle(n)}this._invoker=new r.default,this._graphics=new c.default(this.ui?this.ui.getEditorArea():t,{cssMaxWidth:n.cssMaxWidth,cssMaxHeight:n.cssMaxHeight}),this._handlers={keydown:this._onKeyDown.bind(this),mousedown:this._onMouseDown.bind(this),objectActivated:this._onObjectActivated.bind(this),objectMoved:this._onObjectMoved.bind(this),objectScaled:this._onObjectScaled.bind(this),objectRotated:this._onObjectRotated.bind(this),objectAdded:this._onObjectAdded.bind(this),objectModified:this._onObjectModified.bind(this),createdPath:this._onCreatedPath,addText:this._onAddText.bind(this),addObject:this._onAddObject.bind(this),textEditing:this._onTextEditing.bind(this),textChanged:this._onTextChanged.bind(this),iconCreateResize:this._onIconCreateResize.bind(this),iconCreateEnd:this._onIconCreateEnd.bind(this),selectionCleared:this._selectionCleared.bind(this),selectionCreated:this._selectionCreated.bind(this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(n.selectionStyle,{applyCropSelectionStyle:n.applyCropSelectionStyle,applyGroupSelectionStyle:n.applyGroupSelectionStyle}),n.usageStatistics&&(0,d.sendHostName)(),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),fabric.enableGLFiltering=!1}return i(e,[{key:"_attachColorPickerInputBoxEvents",value:function(){var e=this;this.ui.on(h.eventNames.INPUT_BOX_EDITING_STARTED,function(){e.isColorPickerInputBoxEditing=!0}),this.ui.on(h.eventNames.INPUT_BOX_EDITING_STOPPED,function(){e.isColorPickerInputBoxEditing=!1})}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(h.eventNames.INPUT_BOX_EDITING_STARTED),this.ui.off(h.eventNames.INPUT_BOX_EDITING_STOPPED)}},{key:"_setSelectionStyle",value:function(e,t){var n=t.applyCropSelectionStyle,i=t.applyGroupSelectionStyle;e&&this._graphics.setSelectionStyle(e),n&&this._graphics.setCropSelectionStyle(e),i&&this.on("selectionCreated",function(t){"activeSelection"===t.type&&t.set(e)})}},{key:"_attachInvokerEvents",value:function(){var e=this,t=h.eventNames.UNDO_STACK_CHANGED,n=h.eventNames.REDO_STACK_CHANGED,i=h.eventNames.EXECUTE_COMMAND,o=h.eventNames.AFTER_UNDO,r=h.eventNames.AFTER_REDO,a=h.eventNames.HAND_STARTED,s=h.eventNames.HAND_STOPPED;if(this._invoker.on(t,this.fire.bind(this,t)),this._invoker.on(n,this.fire.bind(this,n)),this.ui){var l=this._graphics.getCanvas();this._invoker.on(i,function(t){return e.ui.fire(i,t)}),this._invoker.on(o,function(t){return e.ui.fire(o,t)}),this._invoker.on(r,function(t){return e.ui.fire(r,t)}),l.on(a,function(){return e.ui.fire(a)}),l.on(s,function(){return e.ui.fire(s)})}}},{key:"_attachGraphicsEvents",value:function(){var e;this._graphics.on((m(e={},b,this._handlers.mousedown),m(e,y,this._handlers.objectMoved),m(e,_,this._handlers.objectScaled),m(e,k,this._handlers.objectRotated),m(e,j,this._handlers.objectActivated),m(e,E,this._handlers.objectAdded),m(e,x,this._handlers.objectModified),m(e,w,this._handlers.addText),m(e,O,this._handlers.addObject),m(e,C,this._handlers.textEditing),m(e,M,this._handlers.textChanged),m(e,S,this._handlers.iconCreateResize),m(e,P,this._handlers.iconCreateEnd),m(e,T,this._handlers.selectionCleared),m(e,I,this._handlers.selectionCreated),e))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(e){var t=e.ctrlKey,n=e.keyCode,i=e.metaKey;(t||i)&&(n===h.keyCodes.C?this._graphics.resetTargetObjectForCopyPaste():n===h.keyCodes.V?(this._graphics.pasteObject(),this.clearRedoStack()):n===h.keyCodes.Z?this.undo().catch(function(){}):n===h.keyCodes.Y&&this.redo().catch(function(){}));var o=n===h.keyCodes.BACKSPACE||n===h.keyCodes.DEL,r=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&r&&o&&(e.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var e=this._graphics.getActiveObjectIdForRemove();this.removeObject(e)}},{key:"_onMouseDown",value:function(e,t){this.fire(h.eventNames.MOUSE_DOWN,e,t)}},{key:"_pushAddObjectCommand",value:function(e){var t=l.default.create(h.commandNames.ADD_OBJECT,this._graphics,e);this._invoker.pushUndoStack(t)}},{key:"_pushModifyObjectCommand",value:function(e){var t=this,n=e.type,i=(0,u.makeSelectionUndoData)(e,function(e){return(0,u.makeSelectionUndoDatum)(t._graphics.getObjectId(e),e,"activeSelection"===n)}),o=l.default.create(h.commandNames.CHANGE_SELECTION,this._graphics,i);o.execute(this._graphics,i),this._invoker.pushUndoStack(o)}},{key:"_onObjectActivated",value:function(e){this.fire(h.eventNames.OBJECT_ACTIVATED,e)}},{key:"_onObjectMoved",value:function(e){this.fire(h.eventNames.OBJECT_MOVED,e)}},{key:"_onObjectScaled",value:function(e){this.fire(h.eventNames.OBJECT_SCALED,e)}},{key:"_onObjectRotated",value:function(e){this.fire(h.eventNames.OBJECT_ROTATED,e)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(h.commandNames.CLEAR_OBJECTS)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(e){this._graphics.changeSelectableAll(e)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r=[this._graphics].concat(i);return(t=this._invoker).execute.apply(t,[e].concat(r))}},{key:"executeSilent",value:function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r=[this._graphics].concat(i);return(t=this._invoker).executeSilent.apply(t,[e].concat(r))}},{key:"undo",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=d.Promise.resolve(),i=0;i<t;i+=1)n=n.then(function(){return e._invoker.undo()});return n}},{key:"redo",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=d.Promise.resolve(),i=0;i<t;i+=1)n=n.then(function(){return e._invoker.redo()});return n}},{key:"zoom",value:function(e){var t=e.x,n=e.y,i=e.zoomLevel;this._graphics.zoom({x:t,y:n},i)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(e,t){if(!e)return d.Promise.reject(h.rejectMessages.invalidParameters);var n=URL.createObjectURL(e);return t=t||e.name,this.loadImageFromURL(n,t).then(function(t){return URL.revokeObjectURL(e),t})}},{key:"loadImageFromURL",value:function(e,t){return t&&e?this.execute(h.commandNames.LOAD_IMAGE,t,e):d.Promise.reject(h.rejectMessages.invalidParameters)}},{key:"addImageObject",value:function(e){return e?this.execute(h.commandNames.ADD_IMAGE_OBJECT,e):d.Promise.reject(h.rejectMessages.invalidParameters)}},{key:"startDrawingMode",value:function(e,t){return this._graphics.startDrawingMode(e,t)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(e){var t=this._graphics.getCroppedImageData(e);return t?this.loadImageFromURL(t.url,t.imageName):d.Promise.reject(h.rejectMessages.invalidParameters)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(e){this._graphics.setCropzoneRect(e)}},{key:"_flip",value:function(e){return this.execute(h.commandNames.FLIP_IMAGE,e)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(e,t,n){return n?this.executeSilent(h.commandNames.ROTATE_IMAGE,e,t):this.execute(h.commandNames.ROTATE_IMAGE,e,t)}},{key:"rotate",value:function(e,t){return this._rotate("rotate",e,t)}},{key:"setAngle",value:function(e,t){return this._rotate("setAngle",e,t)}},{key:"setBrush",value:function(e){this._graphics.setBrush(e)}},{key:"setDrawingShape",value:function(e,t){this._graphics.setDrawingShape(e,t)}},{key:"setDrawingIcon",value:function(e,t){this._graphics.setIconStyle(e,t)}},{key:"addShape",value:function(e,t){return t=t||{},this._setPositions(t),this.execute(h.commandNames.ADD_SHAPE,e,t)}},{key:"changeShape",value:function(e,t,n){return this[n?"executeSilent":"execute"](h.commandNames.CHANGE_SHAPE,e,t)}},{key:"addText",value:function(e,t){return e=e||"",t=t||{},this.execute(h.commandNames.ADD_TEXT,e,t)}},{key:"changeText",value:function(e,t){return t=t||"",this.execute(h.commandNames.CHANGE_TEXT,e,t)}},{key:"changeTextStyle",value:function(e,t,n){return this[n?"executeSilent":"execute"](h.commandNames.CHANGE_TEXT_STYLE,e,t)}},{key:"_changeActivateMode",value:function(e){"ICON"!==e&&this.getDrawingMode()!==e&&this.startDrawingMode(e)}},{key:"_onTextChanged",value:function(e){this.fire(h.eventNames.TEXT_CHANGED,e)}},{key:"_onIconCreateResize",value:function(e){this.fire(h.eventNames.ICON_CREATE_RESIZE,e)}},{key:"_onIconCreateEnd",value:function(e){this.fire(h.eventNames.ICON_CREATE_END,e)}},{key:"_onTextEditing",value:function(){this.fire(h.eventNames.TEXT_EDITING)}},{key:"_onAddText",value:function(e){this.fire(h.eventNames.ADD_TEXT,{originPosition:e.originPosition,clientPosition:e.clientPosition})}},{key:"_onAddObject",value:function(e){var t=this._graphics.getObject(e.id);this._invoker.fire(h.eventNames.EXECUTE_COMMAND,(0,d.getObjectType)(t.type)),this._pushAddObjectCommand(t)}},{key:"_onObjectAdded",value:function(e){this.fire(E,e),this.fire(A,e)}},{key:"_onObjectModified",value:function(e){e.type!==h.OBJ_TYPE.CROPZONE&&(this._invoker.fire(h.eventNames.EXECUTE_COMMAND,(0,d.getObjectType)(e.type)),this._pushModifyObjectCommand(e))}},{key:"_selectionCleared",value:function(){this.fire(T)}},{key:"_selectionCreated",value:function(e){this.fire(I,e)}},{key:"registerIcons",value:function(e){this._graphics.registerPaths(e)}},{key:"changeCursor",value:function(e){this._graphics.changeCursor(e)}},{key:"addIcon",value:function(e,t){return t=t||{},this._setPositions(t),this.execute(h.commandNames.ADD_ICON,e,t)}},{key:"changeIconColor",value:function(e,t){return this.execute(h.commandNames.CHANGE_ICON_COLOR,e,t)}},{key:"removeObject",value:function(e){var t=this._graphics.getObject(e).type;return this.execute(h.commandNames.REMOVE_OBJECT,e,(0,d.getObjectType)(t))}},{key:"hasFilter",value:function(e){return this._graphics.hasFilter(e)}},{key:"removeFilter",value:function(e){return this.execute(h.commandNames.REMOVE_FILTER,e)}},{key:"applyFilter",value:function(e,t,n){return this[n?"executeSilent":"execute"](h.commandNames.APPLY_FILTER,e,t)}},{key:"toDataURL",value:function(e){return this._graphics.toDataURL(e)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(e){return e?this.execute(h.commandNames.RESIZE_CANVAS_DIMENSION,e):d.Promise.reject(h.rejectMessages.invalidParameters)}},{key:"destroy",value:function(){var e=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),g(this,function(t,n){e[n]=null},this)}},{key:"_setPositions",value:function(e){var t=this._graphics.getCenter();f(e.left)&&(e.left=t.left),f(e.top)&&(e.top=t.top)}},{key:"setObjectProperties",value:function(e,t){return this.execute(h.commandNames.SET_OBJECT_PROPERTIES,e,t)}},{key:"setObjectPropertiesQuietly",value:function(e,t){this._graphics.setObjectProperties(e,t)}},{key:"getObjectProperties",value:function(e,t){return this._graphics.getObject(e)?this._graphics.getObjectProperties(e,t):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(e,t,n){return this._graphics.getObjectPosition(e,t,n)}},{key:"setObjectPosition",value:function(e,t){return this.execute(h.commandNames.SET_OBJECT_POSITION,e,t)}},{key:"resize",value:function(e){return this.execute(h.commandNames.RESIZE_IMAGE,e)}}]),e}();s.default.mixin(L),v.mixin(L),t.default=L},"./src/js/interface/command.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=a(n("tui-code-snippet")),r=a(n("./src/js/factory/errorMessage.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=r.default.create,l=r.default.types,c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t.name,this.args=n,this.execute=t.execute,this.undo=t.undo,this.executeCallback=t.executeCallback||null,this.undoCallback=t.undoCallback||null,this.undoData={}}return i(e,[{key:"execute",value:function(){throw new Error(s(l.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(s(l.UN_IMPLEMENTATION,"undo"))}},{key:"setUndoData",value:function(e,t,n){return t&&(e=t),n?t||(t=e):(o.default.extend(this.undoData,e),t=null),t}},{key:"setExecuteCallback",value:function(e){return this.executeCallback=e,this}},{key:"setUndoCallback",value:function(e){return this.undoCallback=e,this}},{key:"isRedo",get:function(){return Object.keys(this.undoData).length>0}}]),e}();t.default=c},"./src/js/interface/component.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.graphics=n}return i(e,[{key:"fire",value:function(){for(var e=this.graphics,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.graphics.fire.apply(e,n)}},{key:"setCanvasImage",value:function(e,t){this.graphics.setCanvasImage(e,t)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(e,t){this.graphics.setImageProperties(e,t)}},{key:"setCanvasCssDimension",value:function(e){this.graphics.setCanvasCssDimension(e)}},{key:"setCanvasBackstoreDimension",value:function(e){this.graphics.setCanvasBackstoreDimension(e)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),e}();t.default=o},"./src/js/interface/drawingMode.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./src/js/factory/errorMessage.js"),a=(i=r)&&i.__esModule?i:{default:i};var s=a.default.create,l=a.default.types,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t}return o(e,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(s(l.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(s(l.UN_IMPLEMENTATION,"stop"))}}]),e}();t.default=c},"./src/js/invoker.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n("tui-code-snippet")),r=l(n("./src/js/factory/command.js")),a=n("./src/js/util.js"),s=n("./src/js/consts.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=o.default.isFunction,u=o.default.isString,d=o.default.CustomEvents,h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return i(e,[{key:"_invokeExecution",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.lock();var i=e.args;return i||(i=[]),e.execute.apply(e,i).then(function(i){return t._isSilent||(t.pushUndoStack(e),t.fire(n?s.eventNames.AFTER_REDO:s.eventNames.EXECUTE_COMMAND,e)),t.unlock(),c(e.executeCallback)&&e.executeCallback(i),i}).catch(function(e){return t.unlock(),a.Promise.reject(e)})}},{key:"_invokeUndo",value:function(e){var t=this;this.lock();var n=e.args;return n||(n=[]),e.undo.apply(e,n).then(function(n){return t.pushRedoStack(e),t.fire(s.eventNames.AFTER_UNDO,e),t.unlock(),c(e.undoCallback)&&e.undoCallback(n),n}).catch(function(e){return t.unlock(),a.Promise.reject(e)})}},{key:"_fireRedoStackChanged",value:function(){this.fire(s.eventNames.REDO_STACK_CHANGED,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(s.eventNames.UNDO_STACK_CHANGED,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var e=this;this._isSilent=!0;for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.execute.apply(this,n.concat([this._isSilent])).then(function(){e._isSilent=!1})}},{key:"execute",value:function(){var e=this;if(this._isLocked)return a.Promise.reject(s.rejectMessages.isLock);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=n[0];return u(o)&&(o=r.default.create.apply(r.default,n)),this._invokeExecution(o).then(function(t){return e.clearRedoStack(),t})}},{key:"undo",value:function(){var e=this._undoStack.pop(),t=void 0,n="";return e&&this._isLocked&&(this.pushUndoStack(e,!0),e=null),e?(this.isEmptyUndoStack()&&this._fireUndoStackChanged(),t=this._invokeUndo(e)):(n=s.rejectMessages.undo,this._isLocked&&(n=n+" Because "+s.rejectMessages.isLock),t=a.Promise.reject(n)),t}},{key:"redo",value:function(){var e=this._redoStack.pop(),t=void 0,n="";return e&&this._isLocked&&(this.pushRedoStack(e,!0),e=null),e?(this.isEmptyRedoStack()&&this._fireRedoStackChanged(),t=this._invokeExecution(e,!0)):(n=s.rejectMessages.redo,this._isLocked&&(n=n+" Because "+s.rejectMessages.isLock),t=a.Promise.reject(n)),t}},{key:"pushUndoStack",value:function(e,t){this._undoStack.push(e),t||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(e,t){this._redoStack.push(e),t||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return 0===this._redoStack.length}},{key:"isEmptyUndoStack",value:function(){return 0===this._undoStack.length}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),e}();d.mixin(h),t.default=h},"./src/js/polyfill.js":function(e,t,n){"use strict";Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){if("Element"in e){var t=e.Element.prototype,n=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},r=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},s=function(e){for(var t=i.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],o=0,r=n.length;o<r;o++)this.push(n[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],c=function(){return new s(this)};if(r.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return-1!==a(this,e+="")},l.add=function(){var e,t=arguments,n=0,i=t.length,o=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),o=!0)}while(++n<i);o&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,i=0,o=n.length,r=!1;do{for(e=n[i]+"",t=a(this,e);-1!==t;)this.splice(t,1),r=!0,t=a(this,e)}while(++i<o);r&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},n.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",u)}catch(e){void 0!==e.number&&-2146823252!==e.number||(u.enumerable=!1,n.defineProperty(t,"classList",u))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(window.self),function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)===!t?t:n.call(this,e)}}e=null}()),function(){if("undefined"!==typeof window&&window.addEventListener){var e,t,n,i=Object.create(null),o=function(){clearTimeout(t),t=setTimeout(e,100)},r=function(){},a=function(){var e;window.addEventListener("resize",o,!1),window.addEventListener("orientationchange",o,!1),window.MutationObserver?((e=new MutationObserver(o)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),r=function(){try{e.disconnect(),window.removeEventListener("resize",o,!1),window.removeEventListener("orientationchange",o,!1)}catch(e){}}):(document.documentElement.addEventListener("DOMSubtreeModified",o,!1),r=function(){document.documentElement.removeEventListener("DOMSubtreeModified",o,!1),window.removeEventListener("resize",o,!1),window.removeEventListener("orientationchange",o,!1)})},s=function(e){function t(e){var t;return void 0!==e.protocol?t=e:(t=document.createElement("a")).href=e,t.protocol.replace(/:/g,"")+t.host}var n,i,o;return window.XMLHttpRequest&&(n=new XMLHttpRequest,i=t(location),o=t(e),n=void 0===n.withCredentials&&""!==o&&o!==i?XDomainRequest||void 0:XMLHttpRequest),n},l="http://www.w3.org/1999/xlink";e=function(){var e,t,n,o,c,u,d,h,p,m,f=0;function g(){0===(f-=1)&&(r(),a())}function v(e){return function(){!0!==i[e.base]&&(e.useEl.setAttributeNS(l,"xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function b(e){return function(){var t,n=document.body,i=document.createElement("x");e.onload=null,i.innerHTML=e.responseText,(t=i.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",n.insertBefore(t,n.firstChild)),g()}}function y(e){return function(){e.onerror=null,e.ontimeout=null,g()}}for(r(),p=document.getElementsByTagName("use"),c=0;c<p.length;c+=1){try{t=p[c].getBoundingClientRect()}catch(e){t=!1}e=(h=(o=p[c].getAttribute("href")||p[c].getAttributeNS(l,"href")||p[c].getAttribute("xlink:href"))&&o.split?o.split("#"):["",""])[0],n=h[1],u=t&&0===t.left&&0===t.right&&0===t.top&&0===t.bottom,t&&0===t.width&&0===t.height&&!u?(p[c].hasAttribute("href")&&p[c].setAttributeNS(l,"xlink:href",o),e.length&&(!0!==(m=i[e])&&setTimeout(v({useEl:p[c],base:e,hash:n}),0),void 0===m&&void 0!==(d=s(e))&&(m=new d,i[e]=m,m.onload=b(m),m.onerror=y(m),m.ontimeout=y(m),m.open("GET",e),m.send(),f+=1))):u?e.length&&i[e]&&setTimeout(v({useEl:p[c],base:e,hash:n}),0):void 0===i[e]?i[e]=!0:i[e].onload&&(i[e].abort(),delete i[e].onload,i[e]=!0)}p="",f+=1,g()},n=function(){window.removeEventListener("load",n,!1),t=setTimeout(e,0)},"complete"!==document.readyState?window.addEventListener("load",n,!1):n()}}()},"./src/js/ui.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=k(n("tui-code-snippet")),r=n("./src/js/util.js"),a=n("./src/js/consts.js"),s=k(n("./src/js/ui/template/mainContainer.js")),l=k(n("./src/js/ui/template/controls.js")),c=k(n("./src/js/ui/theme/theme.js")),u=k(n("./src/js/ui/shape.js")),d=k(n("./src/js/ui/crop.js")),h=k(n("./src/js/ui/resize.js")),p=k(n("./src/js/ui/flip.js")),m=k(n("./src/js/ui/rotate.js")),f=k(n("./src/js/ui/text.js")),g=k(n("./src/js/ui/mask.js")),v=k(n("./src/js/ui/icon.js")),b=k(n("./src/js/ui/draw.js")),y=k(n("./src/js/ui/filter.js")),_=k(n("./src/js/ui/history.js")),j=k(n("./src/js/ui/locale/locale.js"));function k(e){return e&&e.__esModule?e:{default:e}}var E={Shape:u.default,Crop:d.default,Resize:h.default,Flip:p.default,Rotate:m.default,Text:f.default,Mask:g.default,Icon:v.default,Draw:b.default,Filter:y.default},x=o.default.CustomEvents,w="zoomIn",O="hand",C=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=this._initializeOption(n),this._actions=i,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new j.default(this.options.locale),this.theme=new c.default(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(t),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return i(e,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",(0,r.assignmentForDestroy)(this)}},{key:"setUiDefaultSelectionStyle",value:function(e){return o.default.extend({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},e)}},{key:"resizeEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uiSize,n=e.imageSize,i=void 0===n?this.imageSize:n;i!==this.imageSize&&(this.imageSize=i),t&&this._setUiSize(t);var o=this._getCanvasMaxDimension(),r=o.width,a=o.height,s=this._editorElement.style,l=this.options.menuBarPosition;s.height=a+"px",s.width=r+"px",this._setEditorPosition(l),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var c=this._selectedElement.classList;"top"===l&&this._selectedElement.offsetWidth<"1300"?c.add("tui-image-editor-top-optimization"):c.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(e){this._buttonElements[e].classList.toggle("on"),e===w?this._buttonElements[O].classList.remove("on"):this._buttonElements[w].classList.remove("on")}},{key:"offZoomInButtonStatus",value:function(){this._buttonElements[w].classList.remove("on")}},{key:"changeHandButtonStatus",value:function(e){this._buttonElements[O].classList[e?"add":"remove"]("on")}},{key:"changeHelpButtonEnabled",value:function(e,t){this._buttonElements[e].classList[t?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(e){return o.default.extend({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},e)}},{key:"_setUiSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.uiSize,t=this._selectedElement.style;t.width=e.width,t.height=e.height}},{key:"_makeSubMenu",value:function(){var e=this;o.default.forEach(this.options.menu,function(t){var n=E[t.replace(/^[a-z]/,function(e){return e.toUpperCase()})];e._makeMenuElement(t),e._buttonElements[t]=e._menuBarElement.querySelector(".tie-btn-"+t),e[t]=new n(e._subMenuElement,{locale:e._locale,makeSvgIcon:e.theme.makeMenSvgIconSet.bind(e.theme),menuBarPosition:e.options.menuBarPosition,usageStatistics:e.options.usageStatistics})})}},{key:"_attachHistoryEvent",value:function(){this.on(a.eventNames.EXECUTE_COMMAND,this._addHistory.bind(this)),this.on(a.eventNames.AFTER_UNDO,this._selectPrevHistory.bind(this)),this.on(a.eventNames.AFTER_REDO,this._selectNextHistory.bind(this))}},{key:"_attachZoomEvent",value:function(){var e=this;this.on(a.eventNames.HAND_STARTED,function(){e.offZoomInButtonStatus(),e.changeHandButtonStatus(!0)}),this.on(a.eventNames.HAND_STOPPED,function(){return e.changeHandButtonStatus(!1)})}},{key:"_makeUiElement",value:function(e){var t=void 0;window.snippet=o.default,t=e.nodeType?e:document.querySelector(e);var n=(0,r.getSelector)(t);t.classList.add("tui-image-editor-container"),t.innerHTML=(0,l.default)({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+(0,s.default)({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=t,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=n(".tui-image-editor-main"),this._editorElementWrap=n(".tui-image-editor-wrap"),this._editorElement=n(".tui-image-editor"),this._helpMenuBarElement=n(".tui-image-editor-help-menu"),this._menuBarElement=n(".tui-image-editor-menu"),this._subMenuElement=n(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new _.default(this._buttonElements.history,{locale:this._locale,makeSvgIcon:this.theme.makeMenSvgIconSet.bind(this.theme)}),this._activateZoomMenus()}},{key:"_activateZoomMenus",value:function(){var e=this;o.default.forEach(a.ZOOM_HELP_MENUS,function(t){e.changeHelpButtonEnabled(t,!0)})}},{key:"_makeHelpMenuWithPartition",value:function(){return[].concat(a.ZOOM_HELP_MENUS,[""],a.COMMAND_HELP_MENUS,[""],a.DELETE_HELP_MENUS)}},{key:"_addHelpMenus",value:function(){var e=this,t=this._makeHelpMenuWithPartition();o.default.forEach(t,function(t){t?(e._makeMenuElement(t,["normal","disabled","hover"],"help"),e._buttonElements[t]=e._helpMenuBarElement.querySelector(".tie-btn-"+t)):e._makeMenuPartitionElement()})}},{key:"_makeMenuPartitionElement",value:function(){var e=document.createElement("li"),t=document.createElement("div");e.className=(0,r.cls)("item"),t.className=(0,r.cls)("icpartition"),e.appendChild(t),this._helpMenuBarElement.appendChild(e)}},{key:"_makeMenuElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["normal","active","hover"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",i=document.createElement("li"),o=this.theme.makeMenSvgIconSet(t,e);this._addTooltipAttribute(i,e),i.className="tie-btn-"+e+" "+(0,r.cls)("item")+" "+n,i.innerHTML=o,"normal"===n?this._menuBarElement.appendChild(i):this._helpMenuBarElement.appendChild(i)}},{key:"_addHelpActionEvent",value:function(){var e=this;o.default.forEach(a.HELP_MENUS,function(t){e.eventHandler[t]=function(n){return e._actions.main[t](n)},e._buttonElements[t].addEventListener("click",e.eventHandler[t])})}},{key:"_removeHelpActionEvent",value:function(){var e=this;o.default.forEach(a.HELP_MENUS,function(t){e._buttonElements[t].removeEventListener("click",e.eventHandler[t])})}},{key:"_addHistory",value:function(e){if(!(0,r.isSilentCommand)(e)){var t="string"===typeof e?{name:e}:(0,r.getHistoryTitle)(e);this._historyMenu.add(t)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(e){e.target.closest(".tie-panel-history")||this._buttonElements.history.classList.toggle("opened")}},{key:"_addTooltipAttribute",value:function(e,t){e.setAttribute("tooltip-content",this._locale.localize(t.replace(/^[a-z]/g,function(e){return e.toUpperCase()})))}},{key:"_addDownloadEvent",value:function(){var e=this;this.eventHandler.download=function(){return e._actions.main.download()},o.default.forEach(this._buttonElements.download,function(t){t.addEventListener("click",e.eventHandler.download)})}},{key:"_removeDownloadEvent",value:function(){var e=this;o.default.forEach(this._buttonElements.download,function(t){t.removeEventListener("click",e.eventHandler.download)})}},{key:"_addLoadEvent",value:function(){var e=this;this.eventHandler.loadImage=function(t){return e._actions.main.load(t.target.files[0])},o.default.forEach(this._buttonElements.load,function(t){t.addEventListener("change",e.eventHandler.loadImage)})}},{key:"_removeLoadEvent",value:function(){var e=this;o.default.forEach(this._buttonElements.load,function(t){t.removeEventListener("change",e.eventHandler.loadImage)})}},{key:"_addMainMenuEvent",value:function(e){var t=this;this.eventHandler[e]=function(){return t.changeMenu(e)},this._buttonElements[e].addEventListener("click",this.eventHandler[e])}},{key:"_addSubMenuEvent",value:function(e){var t=this;this[e].addEvent(this._actions[e]),this[e].on(a.eventNames.INPUT_BOX_EDITING_STARTED,function(){return t.fire(a.eventNames.INPUT_BOX_EDITING_STARTED)}),this[e].on(a.eventNames.INPUT_BOX_EDITING_STOPPED,function(){return t.fire(a.eventNames.INPUT_BOX_EDITING_STOPPED)})}},{key:"_addMenuEvent",value:function(){var e=this;o.default.forEach(this.options.menu,function(t){e._addMainMenuEvent(t),e._addSubMenuEvent(t)})}},{key:"_removeMainMenuEvent",value:function(){var e=this;o.default.forEach(this.options.menu,function(t){e._buttonElements[t].removeEventListener("click",e.eventHandler[t]),e[t].off(a.eventNames.INPUT_BOX_EDITING_STARTED),e[t].off(a.eventNames.INPUT_BOX_EDITING_STOPPED)})}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var e=this;o.default.forEach(this.options.menu,function(t){e[t].destroy()}),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var e=this,t=this._getLoadImage();t.path&&this._actions.main.initLoadImage(t.path,t.name).then(function(){e.activeMenuEvent()}),this._addLoadEvent();var n=document.createElement("div");n.className=(0,r.cls)("grid-visual");n.innerHTML='<table>\n           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>\n           <tr><td></td><td></td><td></td></tr>\n           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>\n         </table>',this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(n)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(e,t,n),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(e,t,n){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-"+this.submenu),n&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===e&&t?this.submenu=null:(this._buttonElements[e].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-"+e),this.submenu=e,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(e)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var e=this._editorContainerElement.style,t=e.maxWidth,n=e.maxHeight;return{width:parseFloat(t),height:parseFloat(n)}}},{key:"_setEditorPosition",value:function(e){var t=this._getCanvasMaxDimension(),n=t.width,i=t.height,o=this._editorElement.style,r=0,a=0;this.submenu&&("bottom"===e?r=i>this._editorElementWrap.scrollHeight-150?(i-this._editorElementWrap.scrollHeight)/2:-75:"top"===e?r=i>this._editorElementWrap.offsetHeight-150?75-(i-(this._editorElementWrap.offsetHeight-150))/2:75:"left"===e?a=n>this._editorElementWrap.offsetWidth-248?124-(n-(this._editorElementWrap.offsetWidth-248))/2:124:"right"===e&&(a=n>this._editorElementWrap.scrollWidth-248?(n-this._editorElementWrap.scrollWidth)/2:-124)),o.top=r+"px",o.left=a+"px"}}]),e}();x.mixin(C),t.default=C},"./src/js/ui/crop.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n("tui-code-snippet")),r=l(n("./src/js/ui/submenuBase.js")),a=l(n("./src/js/ui/template/submenu/crop.js")),s=n("./src/js/util.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){var i=n.locale,o=n.makeSvgIcon,r=n.menuBarPosition,s=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"crop",makeSvgIcon:o,menuBarPosition:r,templateHtml:a.default,usageStatistics:s}));return l.status="active",l._els={apply:l.selector(".tie-crop-button .apply"),cancel:l.selector(".tie-crop-button .cancel"),preset:l.selector(".tie-crop-preset-button")},l.defaultPresetButton=l._els.preset.querySelector(".preset-none"),l}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"destroy",value:function(){this._removeEvent(),(0,s.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){var t=this._applyEventHandler.bind(this),n=this._cancelEventHandler.bind(this),i=this._cropzonePresetEventHandler.bind(this);this.eventHandler={apply:t,cancel:n,cropzonePreset:i},this.actions=e,this._els.apply.addEventListener("click",t),this._els.cancel.addEventListener("click",n),this._els.preset.addEventListener("click",i)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button.preset");if(t){var n=t.className.match(/preset-[^\s]+/)[0];this._setPresetButtonActive(t),this.actions.preset(n)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(e){e?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultPresetButton;o.default.forEach([].slice.call(this._els.preset.querySelectorAll(".preset")),function(e){e.classList.remove("active")}),e&&e.classList.add("active")}}]),t}();t.default=c},"./src/js/ui/draw.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=u(n("./src/js/ui/tools/colorpicker.js")),r=u(n("./src/js/ui/tools/range.js")),a=u(n("./src/js/ui/submenuBase.js")),s=u(n("./src/js/ui/template/submenu/draw.js")),l=n("./src/js/util.js"),c=n("./src/js/consts.js");function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){var i=n.locale,a=n.makeSvgIcon,l=n.menuBarPosition,u=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"draw",makeSvgIcon:a,menuBarPosition:l,templateHtml:s.default,usageStatistics:u}));return d._els={lineSelectButton:d.selector(".tie-draw-line-select-button"),drawColorPicker:new o.default(d.selector(".tie-draw-color"),"#00a9ff",d.toggleDirection,d.usageStatistics),drawRange:new r.default({slider:d.selector(".tie-draw-range"),input:d.selector(".tie-draw-range-value")},c.defaultDrawRangeValues)},d.type=null,d.color=d._els.drawColorPicker.color,d.width=d._els.drawRange.value,d.colorPickerInputBox=d._els.drawColorPicker.colorpickerElement.querySelector(c.selectorNames.COLOR_PICKER_INPUT_BOX),d}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),(0,l.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){this.eventHandler.changeDrawType=this._changeDrawType.bind(this),this.actions=e,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",this._changeDrawColor.bind(this)),this._els.drawRange.on("change",this._changeDrawRange.bind(this)),this.colorPickerInputBox.addEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.addEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"_removeEvent",value:function(){this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.removeEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:(0,l.getRgb)(this.color,.7)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=this.getButtonType(t,["free","line"]);if(this.actions.discardSelection(),this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,this._els.lineSelectButton.classList.add(n),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(e){this.color=e||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(e){this.width=e,this.type?this.setDrawMode():this.changeStartMode()}}]),t}();t.default=d},"./src/js/ui/filter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=d(n("tui-code-snippet")),r=d(n("./src/js/ui/tools/colorpicker.js")),a=d(n("./src/js/ui/tools/range.js")),s=d(n("./src/js/ui/submenuBase.js")),l=d(n("./src/js/ui/template/submenu/filter.js")),c=n("./src/js/util.js"),u=n("./src/js/consts.js");function d(e){return e&&e.__esModule?e:{default:e}}var h=["add","diff","subtract","multiply","screen","lighten","darken"],p=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],m={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},f=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],g=["filterBlendColor","filterMultiplyColor","filterTintColor"],v=function(e){function t(e,n){var i=n.locale,o=n.menuBarPosition,r=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"filter",menuBarPosition:o,templateHtml:l.default,usageStatistics:r}));return a.selectBoxShow=!1,a.checkedMap={},a._makeControlElement(),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),(0,c.assignmentForDestroy)(this)}},{key:"_removeEvent",value:function(){var e=this;o.default.forEach(p,function(t){var n=e.selector(".tie-"+t),i=(0,c.toCamelCase)(t);n.removeEventListener("change",e.eventHandler[i])}),o.default.forEach([].concat(f,g),function(t){e._els[t].off()}),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),o.default.forEachArray(this.colorPickerInputBoxes,function(t){t.removeEventListener(u.eventNames.FOCUS,e._onStartEditingInputBox.bind(e)),t.removeEventListener(u.eventNames.BLUR,e._onStopEditingInputBox.bind(e))},this)}},{key:"_destroyToolInstance",value:function(){var e=this;o.default.forEach([].concat(f,g),function(t){e._els[t].destroy()})}},{key:"addEvent",value:function(e){var t=this,n=e.applyFilter,i=function(e){return t._changeFilterState.bind(t,n,e)},r=function(e){return function(i,o){return t._changeFilterState(n,e,o)}};this.eventHandler={changeBlendFilter:i("blend"),blandTypeClick:function(e){return e.stopPropagation()}},o.default.forEach(p,function(e){var n=t.selector(".tie-"+e),o=(0,c.toCamelCase)(e);t.checkedMap[o]=n,t.eventHandler[o]=i(o),n.addEventListener("change",t.eventHandler[o])}),this._els.removewhiteDistanceRange.on("change",r("removeWhite")),this._els.colorfilterThresholdRange.on("change",r("colorFilter")),this._els.pixelateRange.on("change",r("pixelate")),this._els.noiseRange.on("change",r("noise")),this._els.brightnessRange.on("change",r("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",i("multiply")),this._els.filterTintColor.on("change",i("tint")),this._els.tintOpacity.on("change",r("tint")),this._els.filterMultiplyColor.on("changeShow",this.colorPickerChangeShow.bind(this)),this._els.filterTintColor.on("changeShow",this.colorPickerChangeShow.bind(this)),this._els.filterBlendColor.on("changeShow",this.colorPickerChangeShow.bind(this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),o.default.forEachArray(this.colorPickerInputBoxes,function(e){e.addEventListener(u.eventNames.FOCUS,t._onStartEditingInputBox.bind(t)),e.addEventListener(u.eventNames.BLUR,t._onStopEditingInputBox.bind(t))},this)}},{key:"setFilterState",value:function(e){var t=e.type,n=e.options,i=e.action,o=this._getFilterNameFromOptions(t,n),r="remove"===i;r||this._setFilterState(o,n),this.checkedMap[o].checked=!r}},{key:"initFilterCheckBoxState",value:function(){o.default.forEach(this.checkedMap,function(e){e.checked=!1},this)}},{key:"_setFilterState",value:function(e,t){"colorFilter"===e?this._els.colorfilterThresholdRange.value=t.distance:"removeWhite"===e?this._els.removewhiteDistanceRange.value=t.distance:"pixelate"===e?this._els.pixelateRange.value=t.blocksize:"brightness"===e?this._els.brightnessRange.value=t.brightness:"noise"===e?this._els.noiseRange.value=t.noise:"tint"===e?(this._els.tintOpacity.value=t.alpha,this._els.filterTintColor.color=t.color):"blend"===e?this._els.filterBlendColor.color=t.color:"multiply"===e&&(this._els.filterMultiplyColor.color=t.color)}},{key:"_getFilterNameFromOptions",value:function(e,t){var n=e;return"removeColor"===e?n=o.default.isExisty(t.useAlpha)?"removeWhite":"colorFilter":"blendColor"===e&&(n={add:"blend",multiply:"multiply",tint:"tint"}[t.mode]),n}},{key:"_changeFilterState",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.checkedMap[t].checked,o=m[t],r=this.checkedMap[t].closest(".tui-image-editor-checkbox-group");r&&(i?r.classList.remove("tui-image-editor-disabled"):r.classList.add("tui-image-editor-disabled")),e(i,o,this._getFilterOption(t),!n)}},{key:"_getFilterOption",value:function(e){var t={};switch(e){case"removeWhite":t.color="#FFFFFF",t.useAlpha=!1,t.distance=parseFloat(this._els.removewhiteDistanceRange.value);break;case"colorFilter":t.color="#FFFFFF",t.distance=parseFloat(this._els.colorfilterThresholdRange.value);break;case"pixelate":t.blocksize=(0,c.toInteger)(this._els.pixelateRange.value);break;case"noise":t.noise=(0,c.toInteger)(this._els.noiseRange.value);break;case"brightness":t.brightness=parseFloat(this._els.brightnessRange.value);break;case"blend":t.mode="add",t.color=this._els.filterBlendColor.color,t.mode=this._els.blendType.value;break;case"multiply":t.mode="multiply",t.color=this._els.filterMultiplyColor.color;break;case"tint":t.mode="tint",t.color=this._els.filterTintColor.color,t.alpha=this._els.tintOpacity.value;break;case"blur":t.blur=this._els.blurRange.value}return t}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new a.default({slider:this.selector(".tie-removewhite-distance-range")},u.defaultFilterRangeValues.removewhiteDistanceRange),brightnessRange:new a.default({slider:this.selector(".tie-brightness-range")},u.defaultFilterRangeValues.brightnessRange),noiseRange:new a.default({slider:this.selector(".tie-noise-range")},u.defaultFilterRangeValues.noiseRange),pixelateRange:new a.default({slider:this.selector(".tie-pixelate-range")},u.defaultFilterRangeValues.pixelateRange),colorfilterThresholdRange:new a.default({slider:this.selector(".tie-colorfilter-threshold-range")},u.defaultFilterRangeValues.colorfilterThresholdRange),filterTintColor:new r.default(this.selector(".tie-filter-tint-color"),"#03bd9e",this.toggleDirection,this.usageStatistics),filterMultiplyColor:new r.default(this.selector(".tie-filter-multiply-color"),"#515ce6",this.toggleDirection,this.usageStatistics),filterBlendColor:new r.default(this.selector(".tie-filter-blend-color"),"#ffbb3b",this.toggleDirection,this.usageStatistics),blurRange:u.defaultFilterRangeValues.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(u.selectorNames.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(u.selectorNames.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(u.selectorNames.COLOR_PICKER_INPUT_BOX))}},{key:"_pickerWithRange",value:function(e){var t=document.createElement("div"),n=document.createElement("label"),i=document.createElement("div");return i.id="tie-filter-tint-opacity",n.innerHTML="Opacity",t.appendChild(n),t.appendChild(i),e.appendChild(t),e.style.height="130px",new a.default({slider:i},u.defaultFilterRangeValues.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(e){var t=document.createElement("div"),n=document.createElement("select"),i=document.createElement("ul");return t.className="tui-image-editor-selectlist-wrap",i.className="tui-image-editor-selectlist",t.appendChild(n),t.appendChild(i),this._makeSelectOptionList(n),e.appendChild(t),e.style.height="130px",this._drawSelectOptionList(n,i),this._pickerWithSelectboxForAddEvent(n,i),n}},{key:"_drawSelectOptionList",value:function(e,t){var n=e.querySelectorAll("option");o.default.forEach(n,function(e){var n=document.createElement("li");n.innerHTML=e.innerHTML,n.setAttribute("data-item",e.value),t.appendChild(n)})}},{key:"_pickerWithSelectboxForAddEvent",value:function(e,t){var n=this;t.addEventListener("click",function(i){var o=i.target.getAttribute("data-item"),r=document.createEvent("HTMLEvents");e.querySelector('[value="'+o+'"]').selected=!0,r.initEvent("change",!0,!0),e.dispatchEvent(r),n.selectBoxShow=!1,t.style.display="none"}),e.addEventListener("mousedown",function(i){i.preventDefault(),n.selectBoxShow=!n.selectBoxShow,t.style.display=n.selectBoxShow?"block":"none",t.setAttribute("data-selectitem",e.value),t.querySelector("[data-item='"+e.value+"']").classList.add("active")})}},{key:"_makeSelectOptionList",value:function(e){o.default.forEach(h,function(t){var n=document.createElement("option");n.setAttribute("value",t),n.innerHTML=t.replace(/^[a-z]/,function(e){return e.toUpperCase()}),e.appendChild(n)})}}]),t}();t.default=v},"./src/js/ui/flip.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n("tui-code-snippet")),r=l(n("./src/js/ui/submenuBase.js")),a=l(n("./src/js/ui/template/submenu/flip.js")),s=n("./src/js/util.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){var i=n.locale,o=n.makeSvgIcon,r=n.menuBarPosition,s=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"flip",makeSvgIcon:o,menuBarPosition:r,templateHtml:a.default,usageStatistics:s}));return l.flipStatus=!1,l._els={flipButton:l.selector(".tie-flip-button")},l}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"destroy",value:function(){this._removeEvent(),(0,s.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){this.eventHandler.changeFlip=this._changeFlip.bind(this),this._actions=e,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(e){var t=this,n=e.target.closest(".tui-image-editor-button");if(n){var i=this.getButtonType(n,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&"resetFlip"===i)return;this._actions.flip(i).then(function(e){var n=t._els.flipButton.classList;t.flipStatus=!1,n.remove("resetFlip"),o.default.forEach(["flipX","flipY"],function(i){n.remove(i),e[i]&&(n.add(i),n.add("resetFlip"),t.flipStatus=!0)})})}}}]),t}();t.default=c},"./src/js/ui/history.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n("./src/js/ui/panelMenu.js")),r=s(n("./src/js/ui/template/submenu/history.js")),a=n("./src/js/util.js");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){var i=n.locale,o=n.makeSvgIcon;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{name:"history"}));return e.classList.add("enabled"),r.locale=i,r.makeSvgIcon=o,r._eventHandler={},r._historyIndex=r.getListLength(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"add",value:function(e){var t=e.name,n=e.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var i=(0,r.default)({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:t,detail:n}),o=this.makeListItemElement(i);this.pushListItemElement(o),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var e=this;this._eventHandler.history=function(t){return e._clickHistoryItem(t)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(e){var t=e.target.closest(".history-item");if(t){var n=Number.parseInt(t.getAttribute("data-index"),10);if(n!==this._historyIndex){var i=Math.abs(n-this._historyIndex);n<this._historyIndex?this._actions.undo(i):this._actions.redo(i)}}}},{key:"_selectItem",value:function(e){for(var t=0;t<this.getListLength();t+=1)this.removeClass(t,"selected-item"),this.removeClass(t,"disabled-item"),t>e&&this.addClass(t,"disabled-item");this.addClass(e,"selected-item")}},{key:"destroy",value:function(){this.removeEvent(),(0,a.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){this._actions=e,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),t}();t.default=l},"./src/js/ui/icon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=u(n("tui-code-snippet")),r=u(n("./src/js/ui/tools/colorpicker.js")),a=u(n("./src/js/ui/submenuBase.js")),s=u(n("./src/js/ui/template/submenu/icon.js")),l=n("./src/js/util.js"),c=n("./src/js/consts.js");function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){var i=n.locale,o=n.makeSvgIcon,a=n.menuBarPosition,l=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"icon",makeSvgIcon:o,menuBarPosition:a,templateHtml:s.default,usageStatistics:l}));return u.iconType=null,u._iconMap={},u._els={registerIconButton:u.selector(".tie-icon-image-file"),addIconButton:u.selector(".tie-icon-add-button"),iconColorpicker:new r.default(u.selector(".tie-icon-color"),"#ffbb3b",u.toggleDirection,u.usageStatistics)},u.colorPickerInputBox=u._els.iconColorpicker.colorpickerElement.querySelector(c.selectorNames.COLOR_PICKER_INPUT_BOX),u}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),(0,l.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){var t=this._registerIconHandler.bind(this),n=this._addIconHandler.bind(this);this.eventHandler={registerIcon:t,addIcon:n},this.actions=e,this._els.iconColorpicker.on("change",this._changeColorHandler.bind(this)),this._els.registerIconButton.addEventListener("change",t),this._els.addIconButton.addEventListener("click",n),this.colorPickerInputBox.addEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.addEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"_removeEvent",value:function(){this._els.iconColorpicker.off(),this._els.registerIconButton.removeEventListener("change",this.eventHandler.registerIcon),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.removeEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var e=this;o.default.forEach(c.defaultIconPath,function(t,n){e.actions.registerDefaultIcons(n,t)})}},{key:"setIconPickerColor",value:function(e){this._els.iconColorpicker.color=e}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(e){e=e||"transparent",this.actions.changeColor(e)}},{key:"_addIconHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=t.getAttribute("data-icontype"),i=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(n),this.iconType===n?this.changeStandbyMode():(this.actions.addIcon(n,i),this.iconType=n)}}},{key:"_registerIconHandler",value:function(e){var t=void 0;l.isSupportFileApi||alert("This browser does not support file-api");var n=e.target.files[0];n&&(t=URL.createObjectURL(n),this.actions.registerCustomIcon(t,n))}}]),t}();t.default=d},"./src/js/ui/locale/locale.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._locale=t}return i(e,[{key:"localize",value:function(e){return this._locale[e]||e}}]),e}();t.default=o},"./src/js/ui/mask.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n("./src/js/ui/submenuBase.js")),r=s(n("./src/js/ui/template/submenu/mask.js")),a=n("./src/js/util.js");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){var i=n.locale,o=n.makeSvgIcon,a=n.menuBarPosition,s=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"mask",makeSvgIcon:o,menuBarPosition:a,templateHtml:r.default,usageStatistics:s}));return l._els={applyButton:l.selector(".tie-mask-apply"),maskImageButton:l.selector(".tie-mask-image-file")},l}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"destroy",value:function(){this._removeEvent(),(0,a.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){var t=this._loadMaskFile.bind(this),n=this._applyMask.bind(this);this.eventHandler={loadMaskFile:t,applyMask:n},this.actions=e,this._els.maskImageButton.addEventListener("change",t),this._els.applyButton.addEventListener("click",n)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(e){var t=void 0;(0,a.isSupportFileApi)()||alert("This browser does not support file-api");var n=e.target.files[0];n&&(t=URL.createObjectURL(n),this.actions.loadImageFromURL(t,n),this._els.applyButton.classList.add("active"))}}]),t}();t.default=l},"./src/js/ui/panelMenu.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(t,n){var i=n.name;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=i,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),t.appendChild(this.panelElement)}return i(e,[{key:"_makePanelElement",value:function(){var e=document.createElement("div");return e.className="tie-panel-"+this.name,e}},{key:"_makeListElement",value:function(){var e=document.createElement("ol");return e.className=this.name+"-list",e}},{key:"makeListItemElement",value:function(e){var t=document.createElement("li");return t.innerHTML=e,t.className=this.name+"-item",t.setAttribute("data-index",this.items.length),t}},{key:"pushListItemElement",value:function(e){this.listElement.appendChild(e),this.listElement.scrollTop+=e.offsetHeight,this.items.push(e)}},{key:"deleteListItemElement",value:function(e,t){for(var n=this.items,i=e;i<t;i+=1)this.listElement.removeChild(n[i]);n.splice(e,t-e+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(e,t){this.items[e]&&this.items[e].classList.add(t)}},{key:"removeClass",value:function(e,t){this.items[e]&&this.items[e].classList.remove(t)}},{key:"toggleClass",value:function(e,t){this.items[e]&&this.items[e].classList.toggle(t)}}]),e}();t.default=o},"./src/js/ui/resize.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n("./src/js/ui/submenuBase.js")),r=c(n("./src/js/ui/template/submenu/resize.js")),a=n("./src/js/util.js"),s=c(n("./src/js/ui/tools/range.js")),l=n("./src/js/consts.js");function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){var i=n.locale,o=n.makeSvgIcon,a=n.menuBarPosition,c=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"resize",makeSvgIcon:o,menuBarPosition:a,templateHtml:r.default,usageStatistics:c}));return u.status="active",u._lockState=!1,u._originalDimensions=null,u._els={widthRange:new s.default({slider:u.selector(".tie-width-range"),input:u.selector(".tie-width-range-value")},l.defaultResizePixelValues),heightRange:new s.default({slider:u.selector(".tie-height-range"),input:u.selector(".tie-height-range-value")},l.defaultResizePixelValues),lockAspectRatio:u.selector(".tie-lock-aspect-ratio"),apply:u.selector(".tie-resize-button .apply"),cancel:u.selector(".tie-resize-button .cancel")},u}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var e=this.actions.getCurrentDimensions();this._originalDimensions=e,this.setWidthValue(e.width),this.setHeightValue(e.height)}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(e){this._els.widthRange.min=this.calcMinValue(e.minWidth),this._els.heightRange.min=this.calcMinValue(e.minHeight),this._els.widthRange.max=this.calcMaxValue(e.maxWidth),this._els.heightRange.max=this.calcMaxValue(e.maxHeight)}},{key:"calcMaxValue",value:function(e){return e<=0&&(e=l.defaultResizePixelValues.max),e}},{key:"calcMinValue",value:function(e){return e<=0&&(e=l.defaultResizePixelValues.min),e}},{key:"setWidthValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.widthRange.value=e,t&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.heightRange.value=e,t&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),(0,a.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){this._els.widthRange.on("change",this._changeWidthRangeHandler.bind(this)),this._els.heightRange.on("change",this._changeHeightRangeHandler.bind(this)),this._els.lockAspectRatio.addEventListener("change",this._changeLockAspectRatio.bind(this));var t=this._applyEventHandler.bind(this),n=this._cancelEventHandler.bind(this);this.eventHandler={apply:t,cancel:n},this.actions=e,this._els.apply.addEventListener("click",t),this._els.cancel.addEventListener("click",n)}},{key:"_changeWidthRangeHandler",value:function(e){this.actions.preview("width",(0,a.toInteger)(e),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(e){this.actions.preview("height",(0,a.toInteger)(e),this._lockState)}},{key:"_changeLockAspectRatio",value:function(e){this._lockState=e.target.checked,this.actions.lockAspectRatio(this._lockState,l.defaultResizePixelValues.min,l.defaultResizePixelValues.max)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(e){e?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),t}();t.default=u},"./src/js/ui/rotate.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n("./src/js/ui/tools/range.js")),r=c(n("./src/js/ui/submenuBase.js")),a=c(n("./src/js/ui/template/submenu/rotate.js")),s=n("./src/js/util.js"),l=n("./src/js/consts.js");function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){var i=n.locale,r=n.makeSvgIcon,s=n.menuBarPosition,c=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"rotate",makeSvgIcon:r,menuBarPosition:s,templateHtml:a.default,usageStatistics:c}));return u._value=0,u._els={rotateButton:u.selector(".tie-rotate-button"),rotateRange:new o.default({slider:u.selector(".tie-rotate-range"),input:u.selector(".tie-rotate-range-value")},l.defaultRotateRangeValues)},u}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),(0,s.assignmentForDestroy)(this)}},{key:"setRangeBarAngle",value:function(e,t){var n=t;"rotate"===e&&(n=parseInt(this._els.rotateRange.value,10)+t),this._setRangeBarRatio(n)}},{key:"_setRangeBarRatio",value:function(e){this._els.rotateRange.value=e}},{key:"addEvent",value:function(e){this.eventHandler.rotationAngleChanged=this._changeRotateForButton.bind(this),this.actions=e,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",this._changeRotateForRange.bind(this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(e,t){var n=(0,s.toInteger)(e);this.actions.setAngle(n,!t),this._value=n}},{key:"_changeRotateForButton",value:function(e){var t=e.target.closest(".tui-image-editor-button"),n=this._els.rotateRange.value;if(t){var i={clockwise:30,counterclockwise:-30}[this.getButtonType(t,["counterclockwise","clockwise"])],o=parseInt(n,10)+i;o>=-360&&o<=360&&this.actions.rotate(i)}}}]),t}();t.default=u},"./src/js/ui/shape.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=d(n("tui-code-snippet")),r=d(n("./src/js/ui/tools/colorpicker.js")),a=d(n("./src/js/ui/tools/range.js")),s=d(n("./src/js/ui/submenuBase.js")),l=d(n("./src/js/ui/template/submenu/shape.js")),c=n("./src/js/util.js"),u=n("./src/js/consts.js");function d(e){return e&&e.__esModule?e:{default:e}}var h={stroke:"#ffbb3b",fill:"",strokeWidth:3},p=function(e){function t(e,n){var i=n.locale,o=n.makeSvgIcon,s=n.menuBarPosition,c=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"shape",makeSvgIcon:o,menuBarPosition:s,templateHtml:l.default,usageStatistics:c}));return d.type=null,d.options=h,d._els={shapeSelectButton:d.selector(".tie-shape-button"),shapeColorButton:d.selector(".tie-shape-color-button"),strokeRange:new a.default({slider:d.selector(".tie-stroke-range"),input:d.selector(".tie-stroke-range-value")},u.defaultShapeStrokeValues),fillColorpicker:new r.default(d.selector(".tie-color-fill"),"",d.toggleDirection,d.usageStatistics),strokeColorpicker:new r.default(d.selector(".tie-color-stroke"),"#ffbb3b",d.toggleDirection,d.usageStatistics)},d.colorPickerControls.push(d._els.fillColorpicker),d.colorPickerControls.push(d._els.strokeColorpicker),d.colorPickerInputBoxes=[],d.colorPickerInputBoxes.push(d._els.fillColorpicker.colorpickerElement.querySelector(u.selectorNames.COLOR_PICKER_INPUT_BOX)),d.colorPickerInputBoxes.push(d._els.strokeColorpicker.colorpickerElement.querySelector(u.selectorNames.COLOR_PICKER_INPUT_BOX)),d}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),(0,c.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){var t=this;this.eventHandler.shapeTypeSelected=this._changeShapeHandler.bind(this),this.actions=e,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",this._changeStrokeRangeHandler.bind(this)),this._els.fillColorpicker.on("change",this._changeFillColorHandler.bind(this)),this._els.strokeColorpicker.on("change",this._changeStrokeColorHandler.bind(this)),this._els.fillColorpicker.on("changeShow",this.colorPickerChangeShow.bind(this)),this._els.strokeColorpicker.on("changeShow",this.colorPickerChangeShow.bind(this)),o.default.forEachArray(this.colorPickerInputBoxes,function(e){e.addEventListener(u.eventNames.FOCUS,t._onStartEditingInputBox.bind(t)),e.addEventListener(u.eventNames.BLUR,t._onStopEditingInputBox.bind(t))},this)}},{key:"_removeEvent",value:function(){var e=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),o.default.forEachArray(this.colorPickerInputBoxes,function(t){t.removeEventListener(u.eventNames.FOCUS,e._onStartEditingInputBox.bind(e)),t.removeEventListener(u.eventNames.BLUR,e._onStopEditingInputBox.bind(e))},this)}},{key:"setShapeStatus",value:function(e){var t=e.strokeWidth,n=e.strokeColor,i=e.fillColor;this._els.strokeRange.value=t,this._els.strokeColorpicker.color=n,this._els.fillColorpicker.color=i,this.options.stroke=n,this.options.fill=i,this.options.strokeWidth=t,this.actions.setDrawingShape(this.type,{strokeWidth:t})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(e){var t=e;t<=0&&(t=u.defaultShapeStrokeValues.max),this._els.strokeRange.max=t}},{key:"setStrokeValue",value:function(e){this._els.strokeRange.value=e,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){this.actions.stopDrawingMode(),this.actions.discardSelection();var n=this.getButtonType(t,["circle","triangle","rect"]);if(this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,e.currentTarget.classList.add(n),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(e,t){this.options.strokeWidth=(0,c.toInteger)(e),this.actions.changeShape({strokeWidth:e},!t),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(e){e=e||"transparent",this.options.fill=e,this.actions.changeShape({fill:e})}},{key:"_changeStrokeColorHandler",value:function(e){e=e||"transparent",this.options.stroke=e,this.actions.changeShape({stroke:e})}}]),t}();t.default=p},"./src/js/ui/submenuBase.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("tui-code-snippet"),r=n("./src/js/consts.js");var a=function(){function e(t,n){var i=n.locale,o=n.name,r=n.makeSvgIcon,a=n.menuBarPosition,s=n.templateHtml,l=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subMenuElement=t,this.menuBarPosition=a,this.toggleDirection="top"===a?"down":"up",this.colorPickerControls=[],this.usageStatistics=l,this.eventHandler={},this._makeSubMenuElement({locale:i,name:o,makeSvgIcon:r,templateHtml:s})}return i(e,[{key:"selector",value:function(e){return this.subMenuElement.querySelector(e)}},{key:"colorPickerChangeShow",value:function(e){this.colorPickerControls.forEach(function(t){e!==t&&t.hide()})}},{key:"getButtonType",value:function(e,t){return e.className.match(RegExp("("+t.join("|")+")"))[0]}},{key:"changeClass",value:function(e,t,n){e.classList.remove(t),e.classList.add(n)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(e){var t=e.locale,n=e.name,i=e.iconStyle,o=e.makeSvgIcon,r=e.templateHtml,a=document.createElement("div");a.className="tui-image-editor-menu-"+n,a.innerHTML=r({locale:t,iconStyle:i,makeSvgIcon:o}),this.subMenuElement.appendChild(a)}},{key:"_onStartEditingInputBox",value:function(){this.fire(r.eventNames.INPUT_BOX_EDITING_STARTED)}},{key:"_onStopEditingInputBox",value:function(){this.fire(r.eventNames.INPUT_BOX_EDITING_STOPPED)}}]),e}();o.CustomEvents.mixin(a),t.default=a},"./src/js/ui/template/controls.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/js/util.js");t.default=function(e){var t=e.locale,n=e.biImage,o=e.loadButtonStyle,r=e.downloadButtonStyle,a=e.menuBarPosition;return'\n    <ul class="tui-image-editor-help-menu '+(0,i.getHelpMenuBarPosition)(a)+'"></ul>\n    <div class="tui-image-editor-controls">\n        <div class="tui-image-editor-controls-logo">\n            <img src="'+n+'" />\n        </div>\n        <ul class="tui-image-editor-menu"></ul>\n\n        <div class="tui-image-editor-controls-buttons">\n            <div style="'+o+'">\n                '+t.localize("Load")+'\n                <input type="file" class="tui-image-editor-load-btn" />\n            </div>\n            <button class="tui-image-editor-download-btn" style="'+r+'">\n                '+t.localize("Download")+"\n            </button>\n        </div>\n    </div>\n"}},"./src/js/ui/template/mainContainer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.biImage,i=e.commonStyle,o=e.headerStyle,r=e.loadButtonStyle,a=e.downloadButtonStyle,s=e.submenuStyle;return'\n    <div class="tui-image-editor-main-container" style="'+i+'">\n        <div class="tui-image-editor-header" style="'+o+'">\n            <div class="tui-image-editor-header-logo">\n                <img src="'+n+'" />\n            </div>\n            <div class="tui-image-editor-header-buttons">\n                <div style="'+r+'">\n                    '+t.localize("Load")+'\n                    <input type="file" class="tui-image-editor-load-btn" />\n                </div>\n                <button class="tui-image-editor-download-btn" style="'+a+'">\n                    '+t.localize("Download")+'\n                </button>\n            </div>\n        </div>\n        <div class="tui-image-editor-main">\n            <div class="tui-image-editor-submenu">\n                <div class="tui-image-editor-submenu-style" style="'+s+'"></div>\n            </div>\n            <div class="tui-image-editor-wrap">\n                <div class="tui-image-editor-size-wrap">\n                    <div class="tui-image-editor-align-wrap">\n                        <div class="tui-image-editor"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n'}},"./src/js/ui/template/style.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.subMenuLabelActive,n=e.subMenuLabelNormal,i=e.subMenuRangeTitle,o=e.submenuPartitionVertical,r=e.submenuPartitionHorizontal,a=e.submenuCheckbox,s=e.submenuRangePointer,l=e.submenuRangeValue,c=e.submenuColorpickerTitle,u=e.submenuColorpickerButton,d=e.submenuRangeBar,h=e.submenuRangeSubbar,p=e.submenuDisabledRangePointer,m=e.submenuDisabledRangeBar,f=e.submenuDisabledRangeSubbar,g=e.submenuIconSize,v=e.menuIconSize,b=e.biSize,y=e.menuIconStyle,_=e.submenuIconStyle;return'\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\n    .tie-crop-button .tui-image-editor-button.apply.active label,\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\n    .tie-resize-button .tui-image-editor-button.apply.active label,\n    .tie-resize-preset-button .tui-image-editor-button.preset.active label,\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\n    .tie-text-effect-button .tui-image-editor-button.active label,\n    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,\n    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,\n    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\n        '+t+"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\n        "+n+"\n    }\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\n        "+i+"\n    }\n    .tui-image-editor-container .tui-image-editor-partition > div {\n        "+o+"\n    }\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\n        "+r+"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\n        "+a+"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\n        border: 0;\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\n        "+s+"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\n        "+d+"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\n        "+h+"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\n        "+p+"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\n        "+f+"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\n        "+m+"\n    }\n    .tui-image-editor-container .tui-image-editor-range-value {\n        "+l+"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\n        "+c+"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\n        "+u+"\n    }\n    .tui-image-editor-container .svg_ic-menu {\n        "+v+"\n    }\n    .tui-image-editor-container .svg_ic-submenu {\n        "+g+"\n    }\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\n        "+b+"\n    }\n    .tui-image-editor-menu use.normal.use-default,\n    .tui-image-editor-help-menu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: "+y.normal.color+";\n        stroke: "+y.normal.color+";\n    }\n    .tui-image-editor-menu use.active.use-default,\n    .tui-image-editor-help-menu use.active.use-default {\n        fill-rule: evenodd;\n        fill: "+y.active.color+";\n        stroke: "+y.active.color+";\n    }\n    .tui-image-editor-menu use.hover.use-default,\n    .tui-image-editor-help-menu use.hover.use-default {\n        fill-rule: evenodd;\n        fill: "+y.hover.color+";\n        stroke: "+y.hover.color+";\n    }\n    .tui-image-editor-menu use.disabled.use-default,\n    .tui-image-editor-help-menu use.disabled.use-default {\n        fill-rule: evenodd;\n        fill: "+y.disabled.color+";\n        stroke: "+y.disabled.color+";\n    }\n    .tui-image-editor-submenu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: "+_.normal.color+";\n        stroke: "+_.normal.color+";\n    }\n    .tui-image-editor-submenu use.active.use-default {\n        fill-rule: evenodd;\n        fill: "+_.active.color+";\n        stroke: "+_.active.color+";\n    }\n"}},"./src/js/ui/template/submenu/crop.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-crop-preset-button">\n            <div class="tui-image-editor-button preset preset-none active">\n                <div>\n                    '+n(["normal","active"],"shape-rectangle",!0)+"\n                </div>\n                <label> "+t.localize("Custom")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-square">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("Square")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-3-2">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("3:2")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-4-3">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("4:3")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-5-4">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("5:4")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-7-5">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("7:5")+' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-16-9">\n                <div>\n                    '+n(["normal","active"],"crop",!0)+"\n                </div>\n                <label> "+t.localize("16:9")+' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline">\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-crop-button action">\n            <div class="tui-image-editor-button apply">\n                '+n(["normal","active"],"apply")+"\n                <label>\n                    "+t.localize("Apply")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                '+n(["normal","active"],"cancel")+"\n                <label>\n                    "+t.localize("Cancel")+"\n                </label>\n            </div>\n        </li>\n    </ul>\n"}},"./src/js/ui/template/submenu/draw.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-draw-line-select-button">\n            <div class="tui-image-editor-button free">\n                <div>\n                    '+n(["normal","active"],"draw-free",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Free")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button line">\n                <div>\n                    '+n(["normal","active"],"draw-line",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Straight")+'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-draw-color" title="'+t.localize("Color")+'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">'+t.localize("Range")+'</label>\n            <div class="tie-draw-range"></div>\n            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n'}},"./src/js/ui/template/submenu/filter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap fixed-width">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-grayscale">\n                        <span>'+t.localize("Grayscale")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-invert">\n                        <span>'+t.localize("Invert")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sepia">\n                        <span>'+t.localize("Sepia")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-vintage">\n                        <span>'+t.localize("Sepia2")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blur">\n                        <span>'+t.localize("Blur")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sharpen">\n                        <span>'+t.localize("Sharpen")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-emboss">\n                        <span>'+t.localize("Emboss")+'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">\n                <div class="tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-remove-white">\n                            <span>'+t.localize("Remove White")+'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>'+t.localize("Distance")+'</label>\n                    <div class="tie-removewhite-distance-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-brightness">\n                        <span>'+t.localize("Brightness")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-brightness-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-noise">\n                        <span>'+t.localize("Noise")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-noise-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-pixelate">\n                        <span>'+t.localize("Pixelate")+'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-pixelate-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-color-filter">\n                            <span>'+t.localize("Color Filter")+'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>'+t.localize("Threshold")+'</label>\n                    <div class="tie-colorfilter-threshold-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="filter-color-item">\n                <div class="tie-filter-tint-color" title="'+t.localize("Tint")+'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-tint">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-multiply-color" title="'+t.localize("Multiply")+'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-multiply">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-blend-color" title="'+t.localize("Blend")+'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blend">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </li>\n    </ul>\n'}},"./src/js/ui/template/submenu/flip.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tie-flip-button tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button flipX">\n                <div>\n                    '+n(["normal","active"],"flip-x",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Flip X")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button flipY">\n                <div>\n                    '+n(["normal","active"],"flip-y",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Flip Y")+'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tui-image-editor-button resetFlip">\n                <div>\n                    '+n(["normal","active"],"flip-reset",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Reset")+"\n                </label>\n            </div>\n        </li>\n    </ul>\n"}},"./src/js/ui/template/submenu/history.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon,i=e.name,o=e.detail;return'\n    <div class="tui-image-editor-history-item history">\n        <div class="history-item-icon">\n            '+n(["normal","active"],"history-"+i.toLowerCase(),!0)+"\n        </div>\n        <span>\n            "+t.localize(i)+"\n            "+(o?"("+t.localize(o)+")":"")+'\n        </span>\n        <div class="history-item-checkbox">\n            '+n(["normal"],"history-check",!0)+"\n        </div>\n    </div>\n"}},"./src/js/ui/template/submenu/icon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" data-icontype="icon-arrow">\n                <div>\n                    '+n(["normal","active"],"icon-arrow",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Arrow")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">\n                <div>\n                    '+n(["normal","active"],"icon-arrow-2",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Arrow-2")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">\n                <div>\n                    '+n(["normal","active"],"icon-arrow-3",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Arrow-3")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star">\n                <div>\n                    '+n(["normal","active"],"icon-star",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Star-1")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star-2">\n                <div>\n                    '+n(["normal","active"],"icon-star-2",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Star-2")+'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-polygon">\n                <div>\n                    '+n(["normal","active"],"icon-polygon",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Polygon")+'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-location">\n                <div>\n                    '+n(["normal","active"],"icon-location",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Location")+'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-heart">\n                <div>\n                    '+n(["normal","active"],"icon-heart",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Heart")+'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-bubble">\n                <div>\n                    '+n(["normal","active"],"icon-bubble",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Bubble")+'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" style="margin:0">\n                <div>\n                    <input type="file" accept="image/*" class="tie-icon-image-file">\n                    '+n(["normal","active"],"icon-load",!0)+"\n                </div>\n                <label>\n                    "+t.localize("Custom icon")+'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-icon-color" title="'+t.localize("Color")+'"></div>\n        </li>\n    </ul>\n'}},"./src/js/ui/template/submenu/mask.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button">\n                <div>\n                    <input type="file" accept="image/*" class="tie-mask-image-file">\n                    '+n(["normal","active"],"mask-load",!0)+"\n                </div>\n                <label> "+t.localize("Load Mask Image")+' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">\n            <div class="tui-image-editor-button apply">\n                '+n(["normal","active"],"apply")+"\n                <label>\n                    "+t.localize("Apply")+"\n                </label>\n            </div>\n        </li>\n    </ul>\n"}},"./src/js/ui/template/submenu/resize.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-range-wrap tui-image-editor-newline">\n                <label class="range">'+t.localize("Width")+'&nbsp;</label>\n                <div class="tie-width-range"></div>\n                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label class="range">px</label>\n                <div class="tui-image-editor-partition tui-image-editor-newline"></div>\n                <label class="range">'+t.localize("Height")+'</label>\n                <div class="tie-height-range"></div>\n                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label class="range">px</label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-lock-aspect-ratio">\n                        <span>'+t.localize("Lock Aspect Ratio")+'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tie-resize-button action">\n            <div class="tui-image-editor-button apply">\n                '+n(["normal","active"],"apply")+"\n                <label>\n                    "+t.localize("Apply")+'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                '+n(["normal","active"],"cancel")+"\n                <label>\n                    "+t.localize("Cancel")+"\n                </label>\n            </div>\n        </li>\n    </ul>\n"}},"./src/js/ui/template/submenu/rotate.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-rotate-button">\n            <div class="tui-image-editor-button clockwise">\n                <div>\n                    '+n(["normal","active"],"rotate-clockwise",!0)+'\n                </div>\n                <label> 30 </label>\n            </div>\n            <div class="tui-image-editor-button counterclockwise">\n                <div>\n                    '+n(["normal","active"],"rotate-counterclockwise",!0)+'\n                </div>\n                <label> -30 </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">'+t.localize("Range")+'</label>\n            <div class="tie-rotate-range"></div>\n            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n'}},"./src/js/ui/template/submenu/shape.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-shape-button">\n            <div class="tui-image-editor-button rect">\n                <div>\n                    '+n(["normal","active"],"shape-rectangle",!0)+"\n                </div>\n                <label> "+t.localize("Rectangle")+' </label>\n            </div>\n            <div class="tui-image-editor-button circle">\n                <div>\n                    '+n(["normal","active"],"shape-circle",!0)+"\n                </div>\n                <label> "+t.localize("Circle")+' </label>\n            </div>\n            <div class="tui-image-editor-button triangle">\n                <div>\n                    '+n(["normal","active"],"shape-triangle",!0)+"\n                </div>\n                <label> "+t.localize("Triangle")+' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-shape-color-button">\n            <div class="tie-color-fill" title="'+t.localize("Fill")+'"></div>\n            <div class="tie-color-stroke" title="'+t.localize("Stroke")+'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">'+t.localize("Stroke")+'</label>\n            <div class="tie-stroke-range"></div>\n            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n'}},"./src/js/ui/template/submenu/text.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.locale,n=e.makeSvgIcon;return'\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-text-effect-button">\n            <div class="tui-image-editor-button bold">\n                <div>\n                    '+n(["normal","active"],"text-bold",!0)+"\n                </div>\n                <label> "+t.localize("Bold")+' </label>\n            </div>\n            <div class="tui-image-editor-button italic">\n                <div>\n                    '+n(["normal","active"],"text-italic",!0)+"\n                </div>\n                <label> "+t.localize("Italic")+' </label>\n            </div>\n            <div class="tui-image-editor-button underline">\n                <div>\n                    '+n(["normal","active"],"text-underline",!0)+"\n                </div>\n                <label> "+t.localize("Underline")+' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-text-align-button">\n            <div class="tui-image-editor-button left">\n                <div>\n                    '+n(["normal","active"],"text-align-left",!0)+"\n                </div>\n                <label> "+t.localize("Left")+' </label>\n            </div>\n            <div class="tui-image-editor-button center">\n                <div>\n                    '+n(["normal","active"],"text-align-center",!0)+"\n                </div>\n                <label> "+t.localize("Center")+' </label>\n            </div>\n            <div class="tui-image-editor-button right">\n                <div>\n                    '+n(["normal","active"],"text-align-right",!0)+"\n                </div>\n                <label> "+t.localize("Right")+' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-text-color" title="'+t.localize("Color")+'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">'+t.localize("Text size")+'</label>\n            <div class="tie-text-range"></div>\n            <input class="tie-text-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n'}},"./src/js/ui/text.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=u(n("./src/js/ui/tools/range.js")),r=u(n("./src/js/ui/tools/colorpicker.js")),a=u(n("./src/js/ui/submenuBase.js")),s=u(n("./src/js/ui/template/submenu/text.js")),l=n("./src/js/util.js"),c=n("./src/js/consts.js");function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){var i=n.locale,a=n.makeSvgIcon,l=n.menuBarPosition,u=n.usageStatistics;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{locale:i,name:"text",makeSvgIcon:a,menuBarPosition:l,templateHtml:s.default,usageStatistics:u}));return d.effect={bold:!1,italic:!1,underline:!1},d.align="tie-text-align-left",d._els={textEffectButton:d.selector(".tie-text-effect-button"),textAlignButton:d.selector(".tie-text-align-button"),textColorpicker:new r.default(d.selector(".tie-text-color"),"#ffbb3b",d.toggleDirection,d.usageStatistics),textRange:new o.default({slider:d.selector(".tie-text-range"),input:d.selector(".tie-text-range-value")},c.defaultTextRangeValues)},d.colorPickerInputBox=d._els.textColorpicker.colorpickerElement.querySelector(c.selectorNames.COLOR_PICKER_INPUT_BOX),d}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),(0,l.assignmentForDestroy)(this)}},{key:"addEvent",value:function(e){var t=this._setTextEffectHandler.bind(this),n=this._setTextAlignHandler.bind(this);this.eventHandler={setTextEffect:t,setTextAlign:n},this.actions=e,this._els.textEffectButton.addEventListener("click",t),this._els.textAlignButton.addEventListener("click",n),this._els.textRange.on("change",this._changeTextRnageHandler.bind(this)),this._els.textColorpicker.on("change",this._changeColorHandler.bind(this)),this.colorPickerInputBox.addEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.addEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"_removeEvent",value:function(){var e=this.eventHandler,t=e.setTextEffect,n=e.setTextAlign;this._els.textEffectButton.removeEventListener("click",t),this._els.textAlignButton.removeEventListener("click",n),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(c.eventNames.FOCUS,this._onStartEditingInputBox.bind(this)),this.colorPickerInputBox.removeEventListener(c.eventNames.BLUR,this._onStopEditingInputBox.bind(this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"setTextStyleStateOnAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fill,n=e.fontSize,i=e.fontStyle,o=e.fontWeight,r=e.textDecoration,a=e.textAlign;this.textColor=t,this.fontSize=n,this.setEffectState("italic",i),this.setEffectState("bold",o),this.setEffectState("underline",r),this.setAlignState("tie-text-align-"+a)}},{key:"setEffectState",value:function(e,t){var n="italic"===t||"bold"===t||"underline"===t,i=this._els.textEffectButton.querySelector(".tui-image-editor-button."+e);this.effect[e]=n,i.classList[n?"add":"remove"]("active")}},{key:"setAlignState",value:function(e){var t=this._els.textAlignButton;t.classList.remove(this.align),t.classList.add(e),this.align=e}},{key:"_setTextEffectHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=t.className.match(/(bold|italic|underline)/)[0],i={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[n];this.effect[n]=!this.effect[n],t.classList.toggle("active"),this.actions.changeTextStyle(i)}}},{key:"_setTextAlignHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=this.getButtonType(t,["left","center","right"]),i="tie-text-align-"+n;e.currentTarget.classList.remove(this.align),this.align!==i&&e.currentTarget.classList.add(i),this.actions.changeTextStyle({textAlign:n}),this.align=i}}},{key:"_changeTextRnageHandler",value:function(e,t){this.actions.changeTextStyle({fontSize:e},!t)}},{key:"_changeColorHandler",value:function(e){e=e||"transparent",this.actions.changeTextStyle({fill:e})}},{key:"textColor",set:function(e){this._els.textColorpicker.color=e},get:function(){return this._els.textColorpicker.color}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(e){this._els.textRange.value=e}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}}]),t}();t.default=d},"./src/js/ui/theme/standard.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"}},"./src/js/ui/theme/theme.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("tui-code-snippet"),r=c(n("./src/js/ui/template/style.js")),a=c(n("./src/js/ui/theme/standard.js")),s=c(n("./src/svg/default.svg")),l=n("./src/js/util.js");function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.styles=this._changeToObject((0,o.extend)({},a.default,t)),(0,l.styleLoad)(this._styleMaker()),this._loadDefaultSvgIcon()}return i(e,[{key:"getStyle",value:function(e){var t=null,n=e.replace(/\..+$/,""),i=this.styles[e];switch(e){case"common.bi":t=this.styles[e].image;break;case"menu.icon":t={active:this.styles[n+".activeIcon"],normal:this.styles[n+".normalIcon"],hover:this.styles[n+".hoverIcon"],disabled:this.styles[n+".disabledIcon"]};break;case"submenu.icon":t={active:this.styles[n+".activeIcon"],normal:this.styles[n+".normalIcon"]};break;case"submenu.label":t={active:this._makeCssText(this.styles[n+".activeLabel"]),normal:this._makeCssText(this.styles[n+".normalLabel"])};break;case"submenu.partition":t={vertical:this._makeCssText((0,o.extend)({},i,{borderLeft:"1px solid "+i.color})),horizontal:this._makeCssText((0,o.extend)({},i,{borderBottom:"1px solid "+i.color}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":i.backgroundColor=i.color,t=this._makeCssText(i);break;default:t=this._makeCssText(i)}return t}},{key:"_styleMaker",value:function(){var e=this.getStyle("submenu.label"),t=this.getStyle("submenu.partition");return(0,r.default)({subMenuLabelActive:e.active,subMenuLabelNormal:e.normal,submenuPartitionVertical:t.vertical,submenuPartitionHorizontal:t.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(e){var t={};return(0,o.forEach)(e,function(e,n){var i=n.match(/^(.+)\.([a-z]+)$/i),o=i[1],r=i[2];t[o]||(t[o]={}),t[o][r]=e}),t}},{key:"_makeCssText",value:function(e){var t=this,n=[];return(0,o.forEach)(e,function(e,i){["backgroundImage"].indexOf(i)>-1&&"none"!==e&&(e="url("+e+")"),n.push(t._toUnderScore(i)+": "+e)}),n.join(";")}},{key:"_toUnderScore",value:function(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var e=(new DOMParser).parseFromString(s.default,"text/xml");document.body.appendChild(e.documentElement)}}},{key:"_makeIconClassName",value:function(e,t){var n=(t?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[e],i=n.path,o=n.name;return i&&o?e:e+" use-default"}},{key:"_makeSvgIconPrefix",value:function(e,t){var n=(t?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[e],i=n.path,o=n.name;return i&&o?i+"#"+o+"-":"#"}},{key:"_makeSvgItem",value:function(e,t,n){var i=this;return(0,o.map)(e,function(e){return'<use xlink:href="'+i._makeSvgIconPrefix(e,n)+"ic-"+i._toUnderScore(t)+'" class="'+i._makeIconClassName(e,n)+'"/>'}).join("")}},{key:"makeMenSvgIconSet",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return'<svg class="svg_ic-'+(n?"submenu":"menu")+'">'+this._makeSvgItem(e,t,n)+"</svg>"}}]),e}();t.default=u},"./src/js/ui/tools/colorpicker.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=a(n("tui-code-snippet")),r=a(n("tui-color-picker"));function a(e){return e&&e.__esModule?e:{default:e}}var s=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#7e7e7e",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"up",o=arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colorpickerElement=t,this.usageStatistics=o,this._show=!1,this._colorpickerElement=t,this._toggleDirection=i,this._makePickerButtonElement(n),this._makePickerLayerElement(t,t.getAttribute("title")),this._color=n,this.picker=r.default.create({container:this.pickerElement,preset:s,color:n,usageStatistics:this.usageStatistics}),this._addEvent()}return i(e,[{key:"destroy",value:function(){var e=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",o.default.forEach(this,function(t,n){e[n]=null})}},{key:"_changeColorElement",value:function(e){e?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=e):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(e){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",e?this.colorElement.style.backgroundColor=e:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(e,t){var n=document.createElement("label"),i=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",n.innerHTML=t,i.className="triangle",this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(i),e.appendChild(this.pickerControl),e.appendChild(this.colorElement),e.appendChild(n)}},{key:"_addEvent",value:function(){var e=this;this.picker.on("selectColor",function(t){e._changeColorElement(t.color),e._color=t.color,e.fire("change",t.color)}),this.eventHandler={pickerToggle:this._pickerToggleEventHandler.bind(this),pickerHide:function(){return e.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(e){var t=e.target,n=t&&this._isElementInColorPickerControl(t);(!n||n&&this._isPaletteButton(t))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),e.stopPropagation()}},{key:"_isPaletteButton",value:function(e){return"tui-colorpicker-palette-button"===e.className}},{key:"_isElementInColorPickerControl",value:function(e){for(var t=e;t!==document.body&&t;){if(t===this.pickerControl)return!0;t=t.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var e=this.pickerControl.style,t=this._colorpickerElement.clientWidth/2+2,n=this.pickerControl.offsetWidth/2-t,i=-1*(this.pickerControl.offsetHeight+10);"down"===this._toggleDirection&&(i=30),e.top=i+"px",e.left="-"+n+"px"}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._changeColorElement(e)}}]),e}();o.default.CustomEvents.mixin(l),t.default=l},"./src/js/ui/tools/range.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("tui-code-snippet"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/util.js"),l=n("./src/js/consts.js");var c=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._value=n.value||0,this.rangeElement=t.slider,this.rangeInputElement=t.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=n.min||0,this._max=n.max||100,this._useDecimal=n.useDecimal,this._absMax=-1*this._min+this._max,this.realTimeEvent=n.realTimeEvent||!1,this.eventHandler={startChangingSlide:this._startChangingSlide.bind(this),stopChangingSlide:this._stopChangingSlide.bind(this),changeSlide:this._changeSlide.bind(this),changeSlideFinally:this._changeSlideFinally.bind(this),changeInput:this._changeValueWithInput.bind(this,!1),changeInputFinally:this._changeValueWithInput.bind(this,!0),changeInputWithArrow:this._changeValueWithInputKeyEvent.bind(this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=n.value,this.trigger("change")}return o(e,[{key:"destroy",value:function(){var e=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",a.default.forEach(this,function(t,n){e[n]=null})}},{key:"trigger",value:function(e){this.fire(e,this._value)}},{key:"_getRangeWidth",value:function(){var e=function(e){return(0,s.toInteger)(window.getComputedStyle(e,null).width)};return e(this.rangeElement)-e(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keyup",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keyup",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(e){var t=e.keyCode,n=e.target;if(!([l.keyCodes.ARROW_UP,l.keyCodes.ARROW_DOWN].indexOf(t)<0)){var i=Number(n.value);if(!((i=this._valueUpDownForKeyEvent(i,t))<this._min||i>this._max)){var o=(0,s.clamp)(i,this._min,this.max);this.value=o,this.fire("change",o,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(e,t){var n=this._useDecimal?.1:1;return t===l.keyCodes.ARROW_UP?e+=n:t===l.keyCodes.ARROW_DOWN&&(e-=n),e}},{key:"_changeValueWithInput",value:function(e,t){var n=t.keyCode,i=t.target;if(!([l.keyCodes.ARROW_UP,l.keyCodes.ARROW_DOWN].indexOf(n)>=0)){var o=this._filterForInputText(i.value),r=!o||isNaN(o);if(i.value=o,!r){var a=this._useDecimal?Number(o):(0,s.toInteger)(o);a=(0,s.clamp)(a,this._min,this.max),this.value=a,this.fire("change",a,e)}}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(e){var t=e.screenX-this.firstPosition,n=this.firstLeft+t;n=(n=n>this.rangeWidth?this.rangeWidth:n)<0?0:n,this.pointer.style.left=n+"px",this.subbar.style.right=this.rangeWidth-n+"px";var i=n/this.rangeWidth,o=this._absMax*i+this._min,r=this._useDecimal?o:(0,s.toInteger)(o);this.value!==r&&(this.value=r,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(e){if(e.stopPropagation(),"tui-image-editor-range"===e.target.className){var t=e.offsetX/this.rangeWidth,n=this._absMax*t+this._min;this.pointer.style.left=t*this.rangeWidth+"px",this.subbar.style.right=(1-t)*this.rangeWidth+"px",this.value=n,this.fire("change",n,!0)}}},{key:"_startChangingSlide",value:function(e){this.firstPosition=e.screenX,this.firstLeft=(0,s.toInteger)(this.pointer.style.left)||0,document.addEventListener("mousemove",this.eventHandler.changeSlide),document.addEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("mousemove",this.eventHandler.changeSlide),document.removeEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(e){return e.replace(c,"$1$2$3")}},{key:"max",set:function(e){this._max=e,this._absMax=-1*this._min+this._max,this.value=this._value},get:function(){return this._max}},{key:"min",set:function(e){this._min=e,this.max=this._max},get:function(){return this._min}},{key:"value",get:function(){return this._value},set:function(e){var t=((e=this._useDecimal?e:(0,s.toInteger)(e))-this._min)*this.rangeWidth/this._absMax;this.rangeWidth<t&&(t=this.rangeWidth),this.pointer.style.left=t+"px",this.subbar.style.right=this.rangeWidth-t+"px",this._value=e,this.rangeInputElement&&(this.rangeInputElement.value=e)}}]),e}();a.default.CustomEvents.mixin(u),t.default=u},"./src/js/util.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Promise=void 0,t.clamp=function(e,t,n){if(t>n){var i=[n,t];t=i[0],n=i[1]}return d(t,u(e,n))},t.keyMirror=function(){for(var e={},t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return(0,o.forEach)(n,function(t){e[t]=t}),e},t.makeStyleText=function(e){var t="";return(0,o.forEach)(e,function(e,n){t+=n+": "+e+";"}),t},t.getProperties=function(e,t){var n={},i=t.length,o=0,r=void 0;for(o=0;o<i;o+=1)r=t[o],n[r]=e[r];return n},t.toInteger=function(e){return parseInt(e,10)},t.toCamelCase=function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})},t.isSupportFileApi=function(){return!!(window.File&&window.FileList&&window.FileReader)},t.getRgb=function(e,t){4===e.length&&(e=""+e+e.slice(1,4));var n=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return"rgba("+n+", "+i+", "+o+", "+(t||1)+")"},t.sendHostName=function(){if(h)return;h=!0,(0,o.sendHostname)("image-editor","UA-129999381-1")},t.styleLoad=function(e,t){var n=document.getElementsByTagName("head")[0],i=document.createElement("link"),o=encodeURIComponent(e);t&&(i.id=t);i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href","data:text/css;charset=UTF-8,"+o),n.appendChild(i)},t.getSelector=function(e){return function(t){return e.querySelector(t)}},t.base64ToBlob=function(e){var t="",n=void 0,i=void 0,o=void 0;n=e.replace(/data:(image\/.+);base64,/,function(e,n){return t=n,""});var r=(n=atob(n)).length;for(i=new Uint8Array(r),o=0;o<r;o+=1)i[o]=n.charCodeAt(o);return new Blob([i],{type:t})},t.fixFloatingPoint=function(e){return Number(e.toFixed(l))},t.assignmentForDestroy=function(e){(0,o.forEach)(e,function(t,n){e[n]=null})},t.cls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("."===e.charAt(0))return"."+c+t+e.slice(1);return""+c+t+e},t.changeOrigin=function(e,t){var n=t.originX,i=t.originY,o=e.getPointByOrigin(n,i),r=o.x,a=o.y;e.set({left:r,top:a,originX:n,originY:i}),e.setCoords()},t.flipObject=function(e){var t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t},t.setCustomProperty=function(e,t){e.customProps=e.customProps||{},(0,o.extend)(e.customProps,t)},t.getCustomProperty=function(e,t){var n={};(0,o.isString)(t)&&(t=[t]);return(0,o.forEach)(t,function(t){n[t]=e.customProps[t]}),n},t.capitalizeString=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.includes=p,t.getFillTypeFromOption=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.pick)(e,"type")||s.SHAPE_FILL_TYPE.COLOR},t.getFillTypeFromObject=function(e){var t=e.fill;if((void 0===t?{}:t).source)return s.SHAPE_FILL_TYPE.FILTER;return s.SHAPE_FILL_TYPE.COLOR},t.isShape=function(e){return(0,o.inArray)(e.get("type"),s.SHAPE_TYPE)>=0},t.getObjectType=function(e){if(p(s.SHAPE_TYPE,e))return"Shape";switch(e){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return f(e)}},t.isSilentCommand=function(e){var t=s.commandNames.LOAD_IMAGE;return"string"===typeof e?t===e:t===e.name},t.getHistoryTitle=function(e){var t=s.commandNames.FLIP_IMAGE,n=s.commandNames.ROTATE_IMAGE,i=s.commandNames.ADD_TEXT,o=s.commandNames.APPLY_FILTER,r=s.commandNames.REMOVE_FILTER,a=s.commandNames.CHANGE_SHAPE,l=s.commandNames.CHANGE_ICON_COLOR,c=s.commandNames.CHANGE_TEXT_STYLE,u=s.commandNames.CLEAR_OBJECTS,d=s.commandNames.ADD_IMAGE_OBJECT,h=s.commandNames.REMOVE_OBJECT,p=s.commandNames.RESIZE_IMAGE,f=e.name,g=e.args,v=void 0;switch(f){case t:v={name:f,detail:"reset"===g[1]?g[1]:g[1].slice(4)};break;case n:v={name:f,detail:g[2]};break;case o:v={name:s.historyNames.APPLY_FILTER,detail:m(g[1],g[2])};break;case r:v={name:s.historyNames.REMOVE_FILTER,detail:"Remove"};break;case a:v={name:s.historyNames.CHANGE_SHAPE,detail:"Change"};break;case l:v={name:s.historyNames.CHANGE_ICON_COLOR,detail:"Change"};break;case c:v={name:s.historyNames.CHANGE_TEXT_STYLE,detail:"Change"};break;case h:v={name:s.historyNames.REMOVE_OBJECT,detail:g[2]};break;case u:v={name:s.historyNames.CLEAR_OBJECTS,detail:"All"};break;case d:v={name:s.historyNames.ADD_IMAGE_OBJECT,detail:"Add"};break;case i:v={name:s.historyNames.ADD_TEXT};break;case p:v={name:s.historyNames.RESIZE,detail:~~g[1].width+"x"+~~g[1].height};break;default:v={name:f}}"mask"===g[1]&&(v={name:s.historyNames.LOAD_MASK_IMAGE,detail:"Apply"});return v},t.getHelpMenuBarPosition=function(e){if("top"===e)return"bottom";if("left"===e)return"right";if("right"===e)return"left";return"top"},t.isEmptyCropzone=function(e){var t=e.left,n=e.top,i=e.width,o=e.height,r=s.emptyCropRectValues.LEFT,a=s.emptyCropRectValues.TOP,l=s.emptyCropRectValues.WIDTH,c=s.emptyCropRectValues.HEIGHT;return t===r&&n===a&&i===l&&o===c};var i,o=n("tui-code-snippet"),r=n("./node_modules/core-js-pure/features/promise/index.js"),a=(i=r)&&i.__esModule?i:{default:i},s=n("./src/js/consts.js");var l=2,c="tui-image-editor-",u=Math.min,d=Math.max,h=!1;function p(e,t){return e.indexOf(t)>=0}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useAlpha,i=void 0===n||n,o=t.mode,r=s.filterType.VINTAGE,a=s.filterType.REMOVE_COLOR,l=s.filterType.BLEND_COLOR,c=s.filterType.SEPIA2,u=s.filterType.COLOR_FILTER,d=s.filterType.REMOVE_WHITE,h=s.filterType.BLEND,p=void 0;switch(e){case r:p=c;break;case a:p=i?u:d;break;case l:p="add"===o?h:o;break;default:p=e}return f(p)}function f(e){return e.replace(/[a-z]/,function(e){return e.toUpperCase()})}t.Promise=a.default},"./src/svg/default.svg":function(e,t){e.exports='<svg display="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs id="tui-image-editor-svg-default-icons"><symbol id="ic-apply" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" stroke="none" fill="none"></path><path fill="none" stroke="inherit" d="M4 12.011l5 5L20.011 6"></path></symbol><symbol id="ic-cancel" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none" stroke="none"></path><path fill="none" stroke="inherit" d="M6 6l12 12M18 6L6 18"></path></symbol><symbol id="ic-crop" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" stroke="none" fill="none"></path><path stroke="none" fill="inherit" d="M4 0h1v20a1 1 0 0 1-1-1V0zM20 17h-1V5h1v12zm0 2v5h-1v-5h1z"></path><path stroke="none" fill="inherit" d="M5 19h19v1H5zM4.762 4v1H0V4h4.762zM7 4h12a1 1 0 0 1 1 1H7V4z"></path></symbol><symbol id="ic-resize" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" stroke="none" fill="none"></path><path stroke="none" fill="inherit" d="M 18.988281 3.011719 C 18.800781 2.824219 18.5 2.824219 18.3125 3.011719 L 11.621094 9.707031 C 11.429688 9.894531 11.429688 10.195312 11.621094 10.378906 C 11.710938 10.472656 11.835938 10.519531 11.957031 10.519531 C 12.078125 10.519531 12.203125 10.472656 12.292969 10.378906 L 18.988281 3.6875 C 19.175781 3.5 19.175781 3.199219 18.988281 3.011719 Z M 18.988281 3.011719 "></path><path stroke="none" fill="inherit" d="M 18.652344 2.867188 C 18.386719 2.867188 18.171875 3.082031 18.171875 3.347656 L 18.171875 9.085938 C 18.171875 9.347656 18.386719 9.5625 18.652344 9.5625 C 18.917969 9.5625 19.132812 9.347656 19.132812 9.085938 L 19.132812 3.347656 C 19.132812 3.082031 18.917969 2.867188 18.652344 2.867188 Z M 18.652344 2.867188 "></path><path stroke="none" fill="inherit" d="M 18.652344 2.867188 L 12.914062 2.867188 C 12.652344 2.867188 12.4375 3.082031 12.4375 3.347656 C 12.4375 3.613281 12.652344 3.828125 12.914062 3.828125 L 18.652344 3.828125 C 18.917969 3.828125 19.132812 3.613281 19.132812 3.347656 C 19.132812 3.082031 18.917969 2.867188 18.652344 2.867188 Z M 18.652344 2.867188 "></path><path stroke="none" fill="inherit" d="M 10.378906 11.621094 C 10.195312 11.433594 9.890625 11.433594 9.703125 11.621094 L 3.007812 18.316406 C 2.820312 18.5 2.820312 18.804688 3.007812 18.992188 C 3.105469 19.085938 3.226562 19.132812 3.347656 19.132812 C 3.46875 19.132812 3.589844 19.085938 3.683594 18.992188 L 10.378906 12.296875 C 10.566406 12.109375 10.566406 11.804688 10.378906 11.621094 Z M 10.378906 11.621094 "></path><path stroke="none" fill="inherit" d="M 3.347656 12.4375 C 3.082031 12.4375 2.867188 12.652344 2.867188 12.914062 L 2.867188 18.652344 C 2.867188 18.917969 3.082031 19.132812 3.347656 19.132812 C 3.613281 19.132812 3.828125 18.917969 3.828125 18.652344 L 3.828125 12.914062 C 3.828125 12.652344 3.613281 12.4375 3.347656 12.4375 Z M 3.347656 12.4375 "></path><path stroke="none" fill="inherit" d="M 9.085938 18.171875 L 3.347656 18.171875 C 3.082031 18.171875 2.867188 18.386719 2.867188 18.652344 C 2.867188 18.917969 3.082031 19.132812 3.347656 19.132812 L 9.085938 19.132812 C 9.347656 19.132812 9.5625 18.917969 9.5625 18.652344 C 9.5625 18.386719 9.347656 18.171875 9.085938 18.171875 Z M 9.085938 18.171875 "></path><path stroke="none" fill="inherit" d="M 20.5625 0 L 1.4375 0 C 0.644531 0 0 0.644531 0 1.4375 L 0 20.5625 C 0 21.355469 0.644531 22 1.4375 22 L 20.5625 22 C 21.355469 22 22 21.355469 22 20.5625 L 22 1.4375 C 22 0.644531 21.355469 0 20.5625 0 Z M 21.042969 20.5625 C 21.042969 20.828125 20.828125 21.042969 20.5625 21.042969 L 1.4375 21.042969 C 1.171875 21.042969 0.957031 20.828125 0.957031 20.5625 L 0.957031 1.4375 C 0.957031 1.171875 1.171875 0.957031 1.4375 0.957031 L 20.5625 0.957031 C 20.828125 0.957031 21.042969 1.171875 21.042969 1.4375 Z M 21.042969 20.5625 "></path></symbol><symbol id="ic-delete-all" viewBox="0 0 24 24"><path stroke="none" fill="inherit" d="M5 23H3a1 1 0 0 1-1-1V6h1v16h2v1zm16-10h-1V6h1v7zM9 13H8v-3h1v3zm3 0h-1v-3h1v3zm3 0h-1v-3h1v3zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z"></path><path stroke="none" fill="inherit" d="M0 3h23v1H0zM11.286 21H8.714L8 23H7l1-2.8V20h.071L9.5 16h1l1.429 4H12v.2l1 2.8h-1l-.714-2zm-.357-1L10 17.4 9.071 20h1.858zM20 22h3v1h-4v-7h1v6zm-5 0h3v1h-4v-7h1v6z"></path></symbol><symbol id="ic-delete" viewBox="0 0 24 24"><path stroke="none" fill="inherit" d="M3 6v16h17V6h1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6h1zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z"></path><path stroke="none" fill="inherit" d="M0 3h23v1H0zM8 10h1v6H8v-6zm3 0h1v6h-1v-6zm3 0h1v6h-1v-6z"></path></symbol><symbol id="ic-draw-free" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M2.5 20.929C2.594 10.976 4.323 6 7.686 6c5.872 0 2.524 19 7.697 19s1.89-14.929 6.414-14.929 1.357 10.858 5.13 10.858c1.802 0 2.657-2.262 2.566-6.786"></path></symbol><symbol id="ic-draw-line" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M2 15.5h28"></path></symbol><symbol id="ic-draw" viewBox="0 0 24 24"><path fill="none" stroke="inherit" d="M2.5 21.5H5c.245 0 .48-.058.691-.168l.124-.065.14.01c.429.028.85-.127 1.16-.437L22.55 5.405a.5.5 0 0 0 0-.707l-3.246-3.245a.5.5 0 0 0-.707 0L3.162 16.888a1.495 1.495 0 0 0-.437 1.155l.01.14-.065.123c-.111.212-.17.448-.17.694v2.5z"></path><path stroke="none" fill="inherit" d="M16.414 3.707l3.89 3.89-.708.706-3.889-3.889z"></path></symbol><symbol id="ic-filter" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none" stroke="none"></path><path stroke="none" fill="inherit" d="M12 7v1H2V7h10zm6 0h4v1h-4V7zM12 16v1h10v-1H12zm-6 0H2v1h4v-1z"></path><path stroke="none" fill="inherit" d="M8.5 20a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zM15.5 11a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"></path></symbol><symbol id="ic-flip-reset" viewBox="0 0 31 32"><path fill="none" stroke="none" d="M31 0H0v32h31z"></path><path stroke="none" fill="inherit" d="M28 16a8 8 0 0 1-8 8H3v-1h1v-7H3a8 8 0 0 1 8-8h17v1h-1v7h1zM11 9a7 7 0 0 0-7 7v7h16a7 7 0 0 0 7-7V9H11z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M24 5l3.5 3.5L24 12M7 20l-3.5 3.5L7 27"></path></symbol><symbol id="ic-flip-x" viewBox="0 0 32 32"><path fill="none" stroke="none" d="M32 32H0V0h32z"></path><path stroke="none" fill="inherit" d="M17 32h-1V0h1zM27.167 11l.5 3h-1.03l-.546-3h1.076zm-.5-3h-1.122L25 5h-5V4h5.153a1 1 0 0 1 .986.836L26.667 8zm1.5 9l.5 3h-.94l-.545-3h.985zm1 6l.639 3.836A1 1 0 0 1 28.819 28H26v-1h3l-.726-4h.894zM23 28h-3v-1h3v1zM13 4v1H7L3 27h10v1H3.18a1 1 0 0 1-.986-1.164l3.666-22A1 1 0 0 1 6.847 4H13z"></path></symbol><symbol id="ic-flip-y" viewBox="0 0 32 32"><path fill="none" stroke="none" d="M0 0v32h32V0z"></path><path stroke="none" fill="inherit" d="M0 16v1h32v-1zM11 27.167l3 .5v-1.03l-3-.546v1.076zm-3-.5v-1.122L5 25v-5H4v5.153a1 1 0 0 0 .836.986L8 26.667zm9 1.5l3 .5v-.94l-3-.545v.985zm6 1l3.836.639A1 1 0 0 0 28 28.82V26h-1v3l-4-.727v.894zM28 23v-3h-1v3h1zM4 13h1V7l22-4v10h1V3.18a1 1 0 0 0-1.164-.986l-22 3.667A1 1 0 0 0 4 6.847V13z"></path></symbol><symbol id="ic-flip" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none" stroke="none"></path><path fill="inherit" stroke="none" d="M11 0h1v24h-1zM19 21v-1h2v-2h1v2a1 1 0 0 1-1 1h-2zm-2 0h-3v-1h3v1zm5-5h-1v-3h1v3zm0-5h-1V8h1v3zm0-5h-1V4h-2V3h2a1 1 0 0 1 1 1v2zm-5-3v1h-3V3h3zM9 3v1H2v16h7v1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7z"></path></symbol><symbol id="ic-history" viewBox="0 0 24 24"><path fill="none" stroke="none" d="M0 0H24V24H0z" transform="translate(-740 -16) translate(547 8) translate(193 8)"></path><path fill="inherit" stroke="none" d="M12.5 1C18.299 1 23 5.701 23 11.5S18.299 22 12.5 22c-5.29 0-9.665-3.911-10.394-8.999h1.012C3.838 17.534 7.764 21 12.5 21c5.247 0 9.5-4.253 9.5-9.5S17.747 2 12.5 2C8.49 2 5.06 4.485 3.666 8H3h4v1H2V4h1v3.022C4.68 3.462 8.303 1 12.5 1zm.5 5l-.001 5.291 2.537 2.537-.708.708L12.292 12H12V6h1z" transform="translate(-740 -16) translate(547 8) translate(193 8)"></path></symbol><symbol id="ic-history-check" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path stroke="#555555" d="M4.5 -1L1.5 2 6.5 7" transform="translate(-60 -804) translate(60 804) translate(2 3) rotate(-90 4 3)"></path></g></symbol><symbol id="ic-history-crop" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-84 -804) translate(84 804)"></path><path fill="#434343" d="M2 0h1v10c-.552 0-1-.448-1-1V0zM10 9v3H9V9h1zM9 2h1v6H9V2z" transform="translate(-84 -804) translate(84 804)"></path><path fill="#434343" d="M2 9H12V10H2zM9 2c.513 0 .936.386.993.883L10 3H3V2h6zM2 3H0V2h2v1z" transform="translate(-84 -804) translate(84 804)"></path></g></symbol><symbol id="ic-history-resize" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path fill="#434343" d="M 9.492188 1.507812 C 9.398438 1.414062 9.25 1.414062 9.15625 1.507812 L 5.8125 4.851562 C 5.714844 4.945312 5.714844 5.097656 5.8125 5.1875 C 5.855469 5.234375 5.917969 5.257812 5.976562 5.257812 C 6.039062 5.257812 6.101562 5.234375 6.148438 5.1875 L 9.492188 1.84375 C 9.585938 1.75 9.585938 1.601562 9.492188 1.507812 Z M 9.492188 1.507812 "></path><path fill="#434343" d="M 9.328125 1.433594 C 9.195312 1.433594 9.085938 1.539062 9.085938 1.671875 L 9.085938 4.542969 C 9.085938 4.671875 9.195312 4.78125 9.328125 4.78125 C 9.460938 4.78125 9.566406 4.671875 9.566406 4.542969 L 9.566406 1.671875 C 9.566406 1.539062 9.460938 1.433594 9.328125 1.433594 Z M 9.328125 1.433594 "></path><path fill="#434343" d="M 9.328125 1.433594 L 6.457031 1.433594 C 6.328125 1.433594 6.21875 1.539062 6.21875 1.671875 C 6.21875 1.804688 6.328125 1.914062 6.457031 1.914062 L 9.328125 1.914062 C 9.460938 1.914062 9.566406 1.804688 9.566406 1.671875 C 9.566406 1.539062 9.460938 1.433594 9.328125 1.433594 Z M 9.328125 1.433594 "></path><path fill="#434343" d="M 5.1875 5.8125 C 5.097656 5.71875 4.945312 5.71875 4.851562 5.8125 L 1.503906 9.15625 C 1.410156 9.25 1.410156 9.402344 1.503906 9.496094 C 1.554688 9.542969 1.613281 9.566406 1.671875 9.566406 C 1.734375 9.566406 1.796875 9.542969 1.84375 9.496094 L 5.1875 6.148438 C 5.28125 6.054688 5.28125 5.902344 5.1875 5.8125 Z M 5.1875 5.8125 "></path><path fill="#434343" d="M 1.671875 6.21875 C 1.539062 6.21875 1.433594 6.328125 1.433594 6.457031 L 1.433594 9.328125 C 1.433594 9.460938 1.539062 9.566406 1.671875 9.566406 C 1.804688 9.566406 1.914062 9.460938 1.914062 9.328125 L 1.914062 6.457031 C 1.914062 6.328125 1.804688 6.21875 1.671875 6.21875 Z M 1.671875 6.21875 "></path><path fill="#434343" d="M 4.542969 9.085938 L 1.671875 9.085938 C 1.539062 9.085938 1.433594 9.195312 1.433594 9.328125 C 1.433594 9.460938 1.539062 9.566406 1.671875 9.566406 L 4.542969 9.566406 C 4.671875 9.566406 4.78125 9.460938 4.78125 9.328125 C 4.78125 9.195312 4.671875 9.085938 4.542969 9.085938 Z M 4.542969 9.085938 "></path><path fill="#434343" d="M 10.28125 0 L 0.71875 0 C 0.320312 0 0 0.320312 0 0.71875 L 0 10.28125 C 0 10.679688 0.320312 11 0.71875 11 L 10.28125 11 C 10.679688 11 11 10.679688 11 10.28125 L 11 0.71875 C 11 0.320312 10.679688 0 10.28125 0 Z M 10.523438 10.28125 C 10.523438 10.414062 10.414062 10.523438 10.28125 10.523438 L 0.71875 10.523438 C 0.585938 10.523438 0.476562 10.414062 0.476562 10.28125 L 0.476562 0.71875 C 0.476562 0.585938 0.585938 0.476562 0.71875 0.476562 L 10.28125 0.476562 C 10.414062 0.476562 10.523438 0.585938 10.523438 0.71875 Z M 10.523438 10.28125 "></path></g></symbol><symbol id="ic-history-draw" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 1H12V13H0z" transform="translate(-156 -804) translate(156 803)"></path><path stroke="#434343" d="M9.622 1.584l1.835 1.658-8.31 8.407L.5 12.5V11l9.122-9.416z" transform="translate(-156 -804) translate(156 803)"></path><path fill="#434343" d="M7.628 3.753L10.378 3.753 10.378 4.253 7.628 4.253z" transform="translate(-156 -804) translate(156 803) rotate(45 9.003 4.003)"></path></g></symbol><symbol id="ic-history-filter" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-276 -804) translate(276 804)"></path><path fill="#434343" d="M12 3v1H9V3h3zM7 4H0V3h7v1z" transform="translate(-276 -804) translate(276 804)"></path><path fill="#434343" d="M12 8v1H9V8h3zM7 9H0V8h7v1z" transform="translate(-276 -804) translate(276 804) matrix(-1 0 0 1 12 0)"></path><path fill="#434343" d="M8 1c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zM4 7c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1z" transform="translate(-276 -804) translate(276 804)"></path></g></symbol><symbol id="ic-history-flip" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-108 -804) translate(108 804)"></path><path fill="#434343" d="M6 0L7 0 7 12 6 12zM11 10V9h1v1.5c0 .276-.224.5-.5.5H10v-1h1zM5 1v1H1v8h4v1H.5c-.276 0-.5-.224-.5-.5v-9c0-.276.224-.5.5-.5H5zm7 5v2h-1V6h1zm0-3v2h-1V3h1zM9 1v1H7V1h2zm2.5 0c.276 0 .5.224.5.5V2h-2V1h1.5zM9 11H7v-1h2v1z" transform="translate(-108 -804) translate(108 804)"></path></g></symbol><symbol id="ic-history-icon" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-204 -804) translate(204 804)"></path><path stroke="#434343" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.1" d="M6 9.568L2.601 11 2.975 7.467 0.5 4.82 4.13 4.068 6 1 7.87 4.068 11.5 4.82 9.025 7.467 9.399 11z" transform="translate(-204 -804) translate(204 804)"></path></g></symbol><symbol id="ic-history-mask" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><g transform="translate(-252 -804) translate(252 804)"><path d="M0 0H12V12H0z"></path><circle cx="6" cy="6" r="2.5" stroke="#444"></circle><path fill="#434343" d="M11.5 0c.276 0 .5.224.5.5v11c0 .276-.224.5-.5.5H.5c-.276 0-.5-.224-.5-.5V.5C0 .224.224 0 .5 0h11zM11 1H1v10h10V1z"></path></g></g></symbol><symbol id="ic-history-rotate" viewBox="0 0 24 24"><defs><path id="rfn4rylffa" d="M7 12c-.335 0-.663-.025-.983-.074C3.171 11.492 1 9.205 1 6.444c0-1.363.534-2.613 1.415-3.58"></path><mask id="6f9gn2dysb" width="6" height="9.136" x="0" y="0" maskUnits="objectBoundingBox"><use xlink:href="#rfn4rylffa" stroke="434343"></use></mask></defs><g fill="none" stroke="none" fill-rule="evenodd"><g transform="translate(-132 -804) translate(132 804)"><path d="M0 0.5H12V12.5H0z"></path><path fill="#434343" d="M6.5 1C9.538 1 12 3.462 12 6.5c0 2.37-1.5 4.39-3.6 5.163l-.407-.916C9.744 10.13 11 8.462 11 6.5 11 4.015 8.985 2 6.5 2c-.777 0-1.509.197-2.147.544L4 1.75l-.205-.04C4.594 1.258 5.517 1 6.5 1z"></path><use stroke="#434343" stroke-dasharray="2 1.25" stroke-width="1" mask="url(#6f9gn2dysb)" xlink:href="#rfn4rylffa"></use><path fill="#434343" d="M4.279 0L6 1.75 4.25 3.571 3.543 2.864 4.586 1.75 3.572 0.707z" transform="matrix(-1 0 0 1 9.543 0)"></path></g></g></symbol><symbol id="ic-history-shape" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-180 -804) translate(180 804)"></path><path fill="#434343" d="M11.5 4c.276 0 .5.224.5.5v7c0 .276-.224.5-.5.5h-7c-.276 0-.5-.224-.5-.5V8.8h1V11h6V5H8.341l-.568-1H11.5z" transform="translate(-180 -804) translate(180 804)"></path><path stroke="#434343" stroke-linecap="round" stroke-linejoin="round" d="M4.5 0.5L8.5 7.611 0.5 7.611z" transform="translate(-180 -804) translate(180 804)"></path></g></symbol><symbol id="ic-history-text" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-228 -804) translate(228 804)"></path><path fill="#434343" d="M2 1h8c.552 0 1 .448 1 1H1c0-.552.448-1 1-1z" transform="translate(-228 -804) translate(228 804)"></path><path fill="#434343" d="M1 1H2V3H1zM10 1H11V3H10zM5.5 1L6.5 1 6.5 11 5.5 11z" transform="translate(-228 -804) translate(228 804)"></path><path fill="#434343" d="M4 10H8V11H4z" transform="translate(-228 -804) translate(228 804)"></path></g></symbol><symbol id="ic-history-load" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><path d="M0 0H12V12H0z" transform="translate(-324 -805) translate(324 805)"></path><path fill="#434343" d="M5 0c.552 0 1 .448 1 1v1h5.5c.276 0 .5.224.5.5v8c0 .276-.224.5-.5.5H.5c-.276 0-.5-.224-.5-.5V1c0-.552.448-1 1-1h4zm0 1H1v9h10V3H5V1z" transform="translate(-324 -805) translate(324 805)"></path><path fill="#434343" d="M1 2L5 2 5 3 1 3z" transform="translate(-324 -805) translate(324 805)"></path></g></symbol><symbol id="ic-history-delete" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><g fill="#434343"><path d="M2 9h8V1h1v8.5c0 .276-.224.5-.5.5h-9c-.276 0-.5-.224-.5-.5V1h1v8zM0 0H12V1H0z" transform="translate(-300 -804) translate(300 804) translate(0 2)"></path><path d="M4 3H5V7H4zM7 3H8V7H7z" transform="translate(-300 -804) translate(300 804) translate(0 2)"></path><path d="M4 1h4V0h1v1.5c0 .276-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5V0h1v1z" transform="translate(-300 -804) translate(300 804) matrix(1 0 0 -1 0 2)"></path></g></g></symbol><symbol id="ic-history-group" viewBox="0 0 24 24"><g fill="none" stroke="none" fill-rule="evenodd"><g transform="translate(-348 -804) translate(348 804)"><path d="M0 0H12V12H0z"></path><path fill="#434343" d="M1 9v2h1v1H.5c-.276 0-.5-.224-.5-.5V9h1zm11 1v1.5c0 .276-.224.5-.5.5H9v-1h2v-1h1zm-4 1v1H6v-1h2zm-3 0v1H3v-1h2zm7-4v2h-1V7h1zM1 6v2H0V6h1zm11-2v2h-1V4h1zM1 3v2H0V3h1zm10.5-3c.276 0 .5.224.5.5V3h-1V1h-1V0h1.5zM6 0v1H4V0h2zm3 0v1H7V0h2zM0 .5C0 .224.224 0 .5 0H3v1H1v1H0V.5zM9.5 4c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5V8.355c.317.094.652.145 1 .145V9h4V5h-.5c0-.348-.05-.683-.145-1H9.5z"></path><circle cx="5" cy="5" r="2.5" stroke="#434343"></circle></g></g></symbol><symbol id="ic-icon-arrow-2" viewBox="0 0 32 32"><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M21.793 18.5H2.5v-5h18.935l-7.6-8h5.872l10.5 10.5-10.5 10.5h-5.914l8-8z"></path></symbol><symbol id="ic-icon-arrow-3" viewBox="0 0 32 32"><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M25.288 16.42L14.208 27.5H6.792l11.291-11.291L6.826 4.5h7.381l11.661 11.661-.58.258z"></path></symbol><symbol id="ic-icon-arrow" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M2.5 11.5v9h18v5.293L30.293 16 20.5 6.207V11.5h-18z"></path></symbol><symbol id="ic-icon-bubble" viewBox="0 0 32 32"><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M22.207 24.5L16.5 30.207V24.5H8A6.5 6.5 0 0 1 1.5 18V9A6.5 6.5 0 0 1 8 2.5h16A6.5 6.5 0 0 1 30.5 9v9a6.5 6.5 0 0 1-6.5 6.5h-1.793z"></path></symbol><symbol id="ic-icon-heart" viewBox="0 0 32 32"><path fill-rule="nonzero" fill="none" stroke="inherit" d="M15.996 30.675l1.981-1.79c7.898-7.177 10.365-9.718 12.135-13.012.922-1.716 1.377-3.37 1.377-5.076 0-4.65-3.647-8.297-8.297-8.297-2.33 0-4.86 1.527-6.817 3.824l-.38.447-.381-.447C13.658 4.027 11.126 2.5 8.797 2.5 4.147 2.5.5 6.147.5 10.797c0 1.714.46 3.375 1.389 5.098 1.775 3.288 4.26 5.843 12.123 12.974l1.984 1.806z"></path></symbol><symbol id="ic-icon-load" viewBox="0 0 32 32"><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M17.314 18.867l1.951-2.53 4 5.184h-17l6.5-8.84 4.549 6.186z"></path><path stroke="none" fill="inherit" d="M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01z"></path><path stroke="none" fill="inherit" d="M25 3h1v9h-1z"></path><path fill="none" stroke="inherit" d="M22 6l3.5-3.5L29 6"></path></symbol><symbol id="ic-icon-location" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M16 31.28C23.675 23.302 27.5 17.181 27.5 13c0-6.351-5.149-11.5-11.5-11.5S4.5 6.649 4.5 13c0 4.181 3.825 10.302 11.5 18.28z"></path><circle fill="none" stroke="inherit" cx="16" cy="13" r="4.5"></circle></symbol><symbol id="ic-icon-polygon" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M.576 16L8.29 29.5h15.42L31.424 16 23.71 2.5H8.29L.576 16z"></path></symbol><symbol id="ic-icon-star-2" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M19.446 31.592l2.265-3.272 3.946.25.636-3.94 3.665-1.505-1.12-3.832 2.655-2.962-2.656-2.962 1.12-3.832-3.664-1.505-.636-3.941-3.946.25-2.265-3.271L16 3.024 12.554 1.07 10.289 4.34l-3.946-.25-.636 3.941-3.665 1.505 1.12 3.832L.508 16.33l2.656 2.962-1.12 3.832 3.664 1.504.636 3.942 3.946-.25 2.265 3.27L16 29.638l3.446 1.955z"></path></symbol><symbol id="ic-icon-star" viewBox="0 0 32 32"><path fill="none" stroke="inherit" d="M25.292 29.878l-1.775-10.346 7.517-7.327-10.388-1.51L16 1.282l-4.646 9.413-10.388 1.51 7.517 7.327-1.775 10.346L16 24.993l9.292 4.885z"></path></symbol><symbol id="ic-icon" viewBox="0 0 24 24"><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M11.923 19.136L5.424 22l.715-7.065-4.731-5.296 6.94-1.503L11.923 2l3.574 6.136 6.94 1.503-4.731 5.296L18.42 22z"></path></symbol><symbol id="ic-mask-load" viewBox="0 0 32 32"><path stroke="none" fill="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01zM15 23a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-1a5 5 0 1 0 0-10 5 5 0 0 0 0 10z"></path><path stroke="none" fill="inherit" d="M25 3h1v9h-1z"></path><path fill="none" stroke="inherit" d="M22 6l3.5-3.5L29 6"></path></symbol><symbol id="ic-mask" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4.5" stroke="inherit" fill="none"></circle><path stroke="none" fill="inherit" d="M2 1h20a1 1 0 0 1 1 1v20a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm0 1v20h20V2H2z"></path></symbol><symbol id="ic-redo" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" opacity=".5" fill="none" stroke="none"></path><path stroke="none" fill="inherit" d="M21 6H9a6 6 0 1 0 0 12h12v1H9A7 7 0 0 1 9 5h12v1z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M19 3l2.5 2.5L19 8"></path></symbol><symbol id="ic-reset" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" opacity=".5" stroke="none" fill="none"></path><path stroke="none" fill="inherit" d="M2 13v-1a7 7 0 0 1 7-7h13v1h-1v5h1v1a7 7 0 0 1-7 7H2v-1h1v-5H2zm7-7a6 6 0 0 0-6 6v6h12a6 6 0 0 0 6-6V6H9z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M19 3l2.5 2.5L19 8M5 16l-2.5 2.5L5 21"></path></symbol><symbol id="ic-rotate-clockwise" viewBox="0 0 32 32"><path stroke="none" fill="inherit" d="M29 17h-.924c0 6.627-5.373 12-12 12-6.628 0-12-5.373-12-12C4.076 10.398 9.407 5.041 16 5V4C8.82 4 3 9.82 3 17s5.82 13 13 13 13-5.82 13-13z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M16 1.5l4 3-4 3"></path><path stroke="none" fill="inherit" fill-rule="nonzero" d="M16 4h4v1h-4z"></path></symbol><symbol id="ic-rotate-counterclockwise" viewBox="0 0 32 32"><path stroke="none" d="M3 17h.924c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.602-5.331-11.96-11.924-12V4c7.18 0 13 5.82 13 13s-5.82 13-13 13S3 24.18 3 17z"></path><path stroke="none" fill="inherit" fill-rule="nonzero" d="M12 4h4v1h-4z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M16 1.5l-4 3 4 3"></path></symbol><symbol id="ic-rotate" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none" stroke="none"></path><path fill="inherit" stroke="none" d="M8.349 22.254a10.002 10.002 0 0 1-2.778-1.719l.65-.76a9.002 9.002 0 0 0 2.495 1.548l-.367.931zm2.873.704l.078-.997a9 9 0 1 0-.557-17.852l-.14-.99A10.076 10.076 0 0 1 12.145 3c5.523 0 10 4.477 10 10s-4.477 10-10 10c-.312 0-.62-.014-.924-.042zm-7.556-4.655a9.942 9.942 0 0 1-1.253-2.996l.973-.234a8.948 8.948 0 0 0 1.124 2.693l-.844.537zm-1.502-5.91A9.949 9.949 0 0 1 2.88 9.23l.925.382a8.954 8.954 0 0 0-.644 2.844l-.998-.062zm2.21-5.686c.687-.848 1.51-1.58 2.436-2.166l.523.852a9.048 9.048 0 0 0-2.188 1.95l-.771-.636z"></path><path stroke="inherit" fill="none" stroke-linecap="square" d="M13 1l-2.5 2.5L13 6"></path></symbol><symbol id="ic-shape-circle" viewBox="0 0 32 32"><circle cx="16" cy="16" r="14.5" fill="none" stroke="inherit"></circle></symbol><symbol id="ic-shape-rectangle" viewBox="0 0 32 32"><rect width="27" height="27" x="2.5" y="2.5" fill="none" stroke="inherit" rx="1"></rect></symbol><symbol id="ic-shape-triangle" viewBox="0 0 32 32"><path fill="none" stroke-linecap="round" stroke-linejoin="round" d="M16 2.5l15.5 27H.5z"></path></symbol><symbol id="ic-shape" viewBox="0 0 24 24"><path stroke="none" fill="inherit" d="M14.706 8H21a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-4h1v4h12V9h-5.706l-.588-1z"></path><path fill="none" stroke="inherit" stroke-linecap="round" stroke-linejoin="round" d="M8.5 1.5l7.5 13H1z"></path></symbol><symbol id="ic-text-align-center" viewBox="0 0 32 32"><path stroke="none" fill="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M2 5h28v1H2zM8 12h16v1H8zM2 19h28v1H2zM8 26h16v1H8z"></path></symbol><symbol id="ic-text-align-left" viewBox="0 0 32 32"><path stroke="none" fill="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M2 5h28v1H2zM2 12h16v1H2zM2 19h28v1H2zM2 26h16v1H2z"></path></symbol><symbol id="ic-text-align-right" viewBox="0 0 32 32"><path stroke="none" fill="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M2 5h28v1H2zM14 12h16v1H14zM2 19h28v1H2zM14 26h16v1H14z"></path></symbol><symbol id="ic-text-bold" viewBox="0 0 32 32"><path fill="none" stroke="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M7 2h2v2H7zM7 28h2v2H7z"></path><path fill="none" stroke="inherit" stroke-width="2" d="M9 3v12h9a6 6 0 1 0 0-12H9zM9 15v14h10a7 7 0 0 0 0-14H9z"></path></symbol><symbol id="ic-text-italic" viewBox="0 0 32 32"><path fill="none" stroke="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M15 2h5v1h-5zM11 29h5v1h-5zM17 3h1l-4 26h-1z"></path></symbol><symbol id="ic-text-underline" viewBox="0 0 32 32"><path stroke="none" fill="none" d="M0 0h32v32H0z"></path><path stroke="none" fill="inherit" d="M8 2v14a8 8 0 1 0 16 0V2h1v14a9 9 0 0 1-18 0V2h1zM3 29h26v1H3z"></path><path stroke="none" fill="inherit" d="M5 2h5v1H5zM22 2h5v1h-5z"></path></symbol><symbol id="ic-text" viewBox="0 0 24 24"><path stroke="none" fill="inherit" d="M4 3h15a1 1 0 0 1 1 1H3a1 1 0 0 1 1-1zM3 4h1v1H3zM19 4h1v1h-1z"></path><path stroke="none" fill="inherit" d="M11 3h1v18h-1z"></path><path stroke="none" fill="inherit" d="M10 20h3v1h-3z"></path></symbol><symbol id="ic-undo" viewBox="0 0 24 24"><path d="M24 0H0v24h24z" opacity=".5" fill="none" stroke="none"></path><path stroke="none" fill="inherit" d="M3 6h12a6 6 0 1 1 0 12H3v1h12a7 7 0 0 0 0-14H3v1z"></path><path fill="none" stroke="inherit" stroke-linecap="square" d="M5 3L2.5 5.5 5 8"></path></symbol><symbol id="ic-zoom-in" viewBox="0 0 24 24"><g transform="translate(-229 -290) translate(229 290)"><circle cx="10.5" cy="10.5" r="9" stroke="inherit" fill="none"></circle><path fill="inherit" d="M18.828 15.828H19.828V22.828H18.828z" transform="rotate(-45 19.328 19.328)"></path><path fill="inherit" d="M7 10H14V11H7z"></path><path fill="inherit" d="M10 7H11V14H10z"></path></g></symbol><symbol id="ic-zoom-out" viewBox="0 0 24 24"><g transform="translate(-263 -290) translate(263 290)"><circle cx="10.5" cy="10.5" r="9" stroke="inherit" fill="none"></circle><path fill="inherit" d="M18.828 15.828H19.828V22.828H18.828z" transform="rotate(-45 19.328 19.328)"></path><path fill="inherit" d="M7 10H14V11H7z"></path></g></symbol><symbol id="ic-hand" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd" stroke-linejoin="round"><path fill="inherit" fill-rule="nonzero" d="M8.672 3.36c1.328 0 2.114.78 2.29 1.869l.014.101.023.006v1.042l-.638-.185c-.187-.055-.323-.211-.354-.399L10 5.713c0-.825-.42-1.353-1.328-1.353C7.695 4.36 7 5.041 7 5.713v7.941c0 .439-.524.665-.843.364l-1.868-1.761c-.595-.528-1.316-.617-1.918-.216-.522.348-.562 1.203-.18 1.8L7.738 22h11.013l.285-.518c1.247-2.326 1.897-4.259 1.96-5.785l.004-.239V8.035c0-.656-.5-1.17-1-1.17-.503 0-1 .456-1 1.17 0 .333-.32.573-.64.48L18 8.41V7.368l.086.026.042-.136c.279-.805.978-1.332 1.738-1.388L20 5.865c1.057 0 2 .967 2 2.17v7.423c0 1.929-.845 4.352-2.521 7.29-.09.156-.255.252-.435.252H7.474c-.166 0-.321-.082-.414-.219l-5.704-8.39c-.653-1.019-.584-2.486.46-3.182 1-.666 2.216-.516 3.148.31L6 12.495V5.713c0-1.18 1.058-2.263 2.49-2.348z" transform="translate(-297 -290) translate(297 290)"></path><path fill="inherit" fill-rule="nonzero" d="M12.5 1.5c1.325 0 2.41 1.032 2.495 2.336L15 4v7.22h-1V4c0-.828-.672-1.5-1.5-1.5-.78 0-1.42.595-1.493 1.356L11 4v7.22h-1V4c0-1.38 1.12-2.5 2.5-2.5z" transform="translate(-297 -290) translate(297 290)"></path><path fill="inherit" fill-rule="nonzero" d="M16.5 3.5c1.325 0 2.41 1.032 2.495 2.336L19 6v6.3h-1V6c0-.828-.672-1.5-1.5-1.5-.78 0-1.42.595-1.493 1.356L15 6v2.44h-1V6c0-1.38 1.12-2.5 2.5-2.5z" transform="translate(-297 -290) translate(297 290)"></path></g></symbol></defs></svg>'},fabric:function(t,n){t.exports=e},"tui-code-snippet":function(e,n){e.exports=t},"tui-color-picker":function(e,t){e.exports=n}})},e.exports=i(n("c2ccd8a35d57906795a4").fabric,n("8866cc2f4ebf94325043"),n("1073b4adaf57c709a087"))}}]);